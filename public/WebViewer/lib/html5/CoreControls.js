(function() {/*
 Notice * This file contains works from many authors under various (but compatible) licenses. Please see legal.txt for more information. **/
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):
n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},
j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?
n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),
j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==
t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,
t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=
c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+
r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&
n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");
return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,
u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=
n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=
j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t=
{},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==
t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==
t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||
j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==
typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=
function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?
r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,
r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;
return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&!b.silent&&this._changed&&this.change(b);this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||this.urlRoot||l();if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&!a._performValidation(c,b)&&(a=!1)}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?
g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!b)this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=function(a){this.cid=
f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&b&&(a=="create"||a=="update"))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||xhr.status>=200&&
xhr.status<300||xhr.status==304||xhr.status==1223||browser.safari&&xhr.status==undefined}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;
while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};if(!String.fromCodePoint)(function(){var defineProperty=function(){var result;try{var object={};var $defineProperty=Object.defineProperty;result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length)return"";
var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint)throw RangeError("Invalid code point: "+codePoint);if(codePoint<=65535)codeUnits.push(codePoint);else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1===length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=
0}}return result};if(defineProperty)defineProperty(String,"fromCodePoint",{"value":fromCodePoint,"configurable":true,"writable":true});else String.fromCodePoint=fromCodePoint})();if(!Element.prototype.scrollIntoViewIfNeeded)Element.prototype.scrollIntoViewIfNeeded=function(centerIfNeeded){function withinBounds(value,min,max,extent){if(centerIfNeeded===false||max<=value+extent&&value<=min+extent)return Math.min(max,Math.max(min,value));return(min+max)/2}function makeArea(left,top,width,height){return{"left":left,
"top":top,"width":width,"height":height,"right":left+width,"bottom":top+height,"translate":function(x,y){return makeArea(x+left,y+top,width,height)},"relativeFromTo":function(lhs,rhs){var newLeft=left,newTop=top;lhs=lhs.offsetParent;rhs=rhs.offsetParent;if(lhs===rhs)return area;for(;lhs;lhs=lhs.offsetParent){newLeft+=lhs.offsetLeft+lhs.clientLeft;newTop+=lhs.offsetTop+lhs.clientTop}for(;rhs;rhs=rhs.offsetParent){newLeft-=rhs.offsetLeft+rhs.clientLeft;newTop-=rhs.offsetTop+rhs.clientTop}return makeArea(newLeft,
newTop,width,height)}}}var parent,elem=this,area=makeArea(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);while((parent=elem.parentNode)instanceof HTMLElement){var clientLeft=parent.offsetLeft+parent.clientLeft;var clientTop=parent.offsetTop+parent.clientTop;area=area.relativeFromTo(elem,parent).translate(-clientLeft,-clientTop);parent.scrollLeft=withinBounds(parent.scrollLeft,area.right-parent.clientWidth,area.left,parent.clientWidth);parent.scrollTop=withinBounds(parent.scrollTop,
area.bottom-parent.clientHeight,area.top,parent.clientHeight);area=area.translate(clientLeft-parent.scrollLeft,clientTop-parent.scrollTop);elem=parent}};if(window.NodeList&&!NodeList.prototype.forEach)NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this)};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};if(!String.prototype.startsWith)String.prototype.startsWith=
function(search,pos){return this.substr(!pos||pos<0?0:+pos,search.length)===search};if(!String.prototype.endsWith)String.prototype.endsWith=function(search,thisLen){if(thisLen===undefined||thisLen>this.length)thisLen=this.length;return this.substring(thisLen-search.length,thisLen)===search};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,
function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=
ieWebViewLocal;exports.utils.isEdge=!!navigator.userAgent.match(/Edge/i);exports.utils.isMobileDevice=function(){return!!(!ie&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Touch/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Silk/i)))}();exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-
start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i);exports.utils.isChrome=function(){var opera=window.navigator.userAgent.match(/OPR/);var maxthon=window.navigator.userAgent.match(/Maxthon/);var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&!opera&&!maxthon&&!edge}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);
return match?parseInt(match[1],10):match}();exports.utils.chromeHasSubzero=exports.utils.isChrome&&chromeVersion>=56;exports.utils.isSafari=window.navigator.userAgent.match(/Safari/)&&!exports.utils.isChrome;exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>-1;var multiplierOverride;var getCanvasMultiplier=function(){return function(){if(!_.isUndefined(multiplierOverride))return multiplierOverride;return window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=
getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};exports.utils.canvasFontMultiplier=function(){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");var testSize=20;ctx.font=testSize+"px f0";return parseFloat(ctx.font)/testSize}();if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=this.length,i=0;for(;i<l;i+=4){this[i]=
arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];return val===
255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));
String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;exports.utils.hasObjectURL=!!(exports.URL&&exports.URL.createObjectURL);if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=
Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=
serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&actual.indexOf(' xfa:spec="2.0.2"')>0&&actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=
serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,
null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,
isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;
if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,
0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();exports.utils.supportsImageDataConstructor=function(){try{new ImageData(1,1);return true}catch(e){return false}}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=
window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+
" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(){this.applyWithArgs($(this).on,arguments);return this},off:function(){this.applyWithArgs($(this).off,arguments);return this},trigger:function(){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))},one:function(){this.applyWithArgs($(this).one,arguments);return this}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||
ele.is("textarea")};if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&_.isArray(variable)&&varname.length===variable.length){var varlist="";for(var i=0;i<varname.length;i++)varlist=
varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=
documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,
name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves===
"undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,ro:canvasProto.rotate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,
fillTextCustom:function(text,x,y){},xc:function(text,x,y){},tm:function(mapping){},cgb:function(){},cge:function(){},xw:function(text,x,y,skipLast){this.fillText(text,x,y)},xcw:function(text,x,y,skipLast){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale,cr:function(x,y,w,h){this.beginPath();this.rect(x,y,w,h);this.clip()},createCanvas:function(){return document.createElement("canvas")}});
Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&rect1.x2>=rect2.x1&&
rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)return true;return false};exports.utils.containsRect=function(rect1,rect2){if(rect1.x1<=rect2.x1&&rect1.x2>=rect2.x2&&rect1.y1<=rect2.y1&&rect1.y2>=rect2.y2)return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};
exports.utils.normalizeRect=function(pt1,pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=
0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v==="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+
"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.roundToPrecision=function(number,precision){var factor=Math.pow(10,precision);var tempNumber=number*factor;var roundedTempNumber=Math.round(tempNumber);return roundedTempNumber/factor};exports.utils.utf8_decode=function(utftext){var string="";var i=0;var c1=0,c2=0,c3=0;while(i<utftext.length){c1=utftext.charCodeAt(i);if(c1<128){string+=String.fromCharCode(c1);i++}else if(c1>
191&&c1<224){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode((c1&31)<<6|c2&63);i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63);i+=3}}return string}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=
a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode)}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}try{window.indexedDB=window.indexedDB||
window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB;if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}}catch(error){console.warn("No access to IndexedDB")}})(window,idbModules);(function(global){global.createPromiseCapability=function(){var promiseCapability={};var promise=new Promise(function(resolve,reject){promiseCapability.resolve=resolve;promiseCapability.reject=reject});promiseCapability.promise=promise;return promiseCapability};var NativePromise=global["Promise"];var nativePromiseSupported=NativePromise&&"resolve"in NativePromise&&"reject"in NativePromise&&"all"in NativePromise&&"race"in NativePromise&&function(){var resolve;new NativePromise(function(r){resolve=
r});return typeof resolve==="function"}();if(typeof exports!=="undefined"&&exports){exports.Promise=nativePromiseSupported?NativePromise:Promise;exports.Polyfill=Promise}else if(typeof define=="function"&&define.amd)define(function(){return nativePromiseSupported?NativePromise:Promise});else if(!nativePromiseSupported)global["Promise"]=Promise;var PENDING="pending";var SEALED="sealed";var FULFILLED="fulfilled";var REJECTED="rejected";var NOOP=function(){};function isArray(value){return Object.prototype.toString.call(value)===
"[object Array]"}var asyncSetTimer=typeof setImmediate!=="undefined"?setImmediate:setTimeout;var asyncQueue=[];var asyncTimer;function asyncFlush(){for(var i=0;i<asyncQueue.length;i++)asyncQueue[i][0](asyncQueue[i][1]);asyncQueue=[];asyncTimer=false}function asyncCall(callback,arg){asyncQueue.push([callback,arg]);if(!asyncTimer){asyncTimer=true;asyncSetTimer(asyncFlush,0)}}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,
reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(subscriber){var owner=subscriber.owner;var settled=owner.state_;var value=owner.data_;var callback=subscriber[settled];var promise=subscriber.then;if(typeof callback==="function"){settled=FULFILLED;try{value=callback(value)}catch(e){reject(promise,e)}}if(!handleThenable(promise,value)){if(settled===FULFILLED)resolve(promise,value);if(settled===REJECTED)reject(promise,value)}}function handleThenable(promise,
value){var resolved;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(value&&(typeof value==="function"||typeof value==="object")){var then=value.then;if(typeof then==="function"){then.call(value,function(val){if(!resolved){resolved=true;if(value!==val)resolve(promise,val);else fulfill(promise,val)}},function(reason){if(!resolved){resolved=true;reject(promise,reason)}});return true}}}catch(e){if(!resolved)reject(promise,e);return true}return false}
function resolve(promise,value){if(promise===value||!handleThenable(promise,value))fulfill(promise,value)}function fulfill(promise,value){if(promise.state_===PENDING){promise.state_=SEALED;promise.data_=value;asyncCall(publishFulfillment,promise)}}function reject(promise,reason){if(promise.state_===PENDING){promise.state_=SEALED;promise.data_=reason;asyncCall(publishRejection,promise)}}function publish(promise){var callbacks=promise.then_;promise.then_=undefined;for(var i=0;i<callbacks.length;i++)invokeCallback(callbacks[i])}
function publishFulfillment(promise){promise.state_=FULFILLED;publish(promise)}function publishRejection(promise){promise.state_=REJECTED;publish(promise)}function Promise(resolver){if(typeof resolver!=="function")throw new TypeError("Promise constructor takes a function argument");if(this instanceof Promise===false)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];invokeResolver(resolver,this)}
Promise.prototype={constructor:Promise,state_:PENDING,then_:null,data_:undefined,then:function(onFulfillment,onRejection){var subscriber={owner:this,then:new this.constructor(NOOP),fulfilled:onFulfillment,rejected:onRejection};if(this.state_===FULFILLED||this.state_===REJECTED)asyncCall(invokeCallback,subscriber);else this.then_.push(subscriber);return subscriber.then},"catch":function(onRejection){return this.then(null,onRejection)}};Promise.all=function(promises){var Class=this;if(!isArray(promises))throw new TypeError("You must pass an array to Promise.all().");
return new Class(function(resolve,reject){var results=[];var remaining=0;function resolver(index){remaining++;return function(value){results[index]=value;if(!--remaining)resolve(results)}}for(var i=0,promise;i<promises.length;i++){promise=promises[i];if(promise&&typeof promise.then==="function")promise.then(resolver(i),reject);else results[i]=promise}if(!remaining)resolve(results)})};Promise.race=function(promises){var Class=this;if(!isArray(promises))throw new TypeError("You must pass an array to Promise.race().");
return new Class(function(resolve,reject){for(var i=0,promise;i<promises.length;i++){promise=promises[i];if(promise&&typeof promise.then==="function")promise.then(resolve,reject);else resolve(promise)}})};Promise.resolve=function(value){var Class=this;if(value&&typeof value==="object"&&value.constructor===Class)return value;return new Class(function(resolve){resolve(value)})};Promise.reject=function(reason){var Class=this;return new Class(function(resolve,reject){reject(reason)})}})(typeof window!=
"undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this);/*
 Advanced Encryption Standard (AES) Cipher-Block Chaining implementation.|This implementation is based on the public domain library 'jscrypto' which|was written by:|Emily Stark (estark@stanford.edu)|Mike Hamburg (mhamburg@stanford.edu)|Dan Boneh (dabo@cs.stanford.edu)|Parts of this code are based on the OpenSSL implementation of AES:|http://www.openssl.org|@author Dave Longley|Copyright (c) 2010-2012 Digital Bazaar, Inc.*/
(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||key.length==24||key.length==32))key=forge.util.createBuffer(key);
else if(key.constructor==Array&&(key.length==16||key.length==24||key.length==32)){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||len==24||len==32){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||key.length==6||key.length==8)){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;var _output;var _inBlock;var _outBlock;
var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=0;i<Nb;++i)_output.putInt32(_outBlock[i]);
_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};cipher.start=
function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);_outBlock=
new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null)object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&i<len&&typeof object==="object"&&
object!==null){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||typeof object[next]!=="object"||object[next]===null)break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&i<t.tap.POSITION_DELTA&&(!n.touches||1===s.count)&&T.isTracking},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||$.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
"touchcancel"===e.type&&e.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&a&&a.isDefaultPrevented()&&a.target===e.target&&a.pageX===e.pageX&&a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&
!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof n||null!=a&&null!=
a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;
if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ec;if(!c(a)){if(b=
u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==
typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=1;return a}function L(a,
b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,
d,e)})}function Q(a,b,c){null!=b&&f(ad,a)&&ad[a](b,c._a,c,a)}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||c[ed]>24||24===c[ed]&&(0!==c[fd]||0!==c[gd]||0!==c[hd])?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&(bd>b||b>dd)&&(b=dd),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===
!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=
!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,
e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=
c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[dd]&&null==
a._a[cd]&&sa(a),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&0===a._a[fd]&&0===a._a[gd]&&0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,
c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],
d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ed]<=12&&b._a[ed]>0&&(j(b).bigHour=void 0),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,
c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,
e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}
function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=
A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",
0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,
"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):
"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,
b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),
Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,
f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>
d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,
c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===
b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;
return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=
z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,
b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==
typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",
""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}
function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}
function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=
d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=
this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+864E5*this._days+this._months%
12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||1===f&&["m"]||f<ge.m&&["mm",f]||1===g&&["h"]||g<ge.h&&["hh",g]||
1===h&&["d"]||h<ge.d&&["dd",h]||1===i&&["M"]||i<ge.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return g?
(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,
Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M",
"MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});(function(exports){var existingPDFNet=!!exports.PDFNet;exports.PDFNet=exports.PDFNet?exports.PDFNet:{};exports.PDFNet.Convert=exports.PDFNet.Convert?exports.PDFNet.Convert:{};var finishedInitializeCapability;exports.PDFNet.initialize=function(l,pdfBackendType){if(!finishedInitializeCapability){var workerHandlers={pnaclCrashError:function(msg,genericMsg){console.log("PNaClCrashError: "+msg+", "+genericMsg)},pnaclLoadError:function(msg,genericMsg){console.log("PNaClLoadError: "+msg+", "+genericMsg)},
emsWorkerError:function(msg,genericMsg){console.log("EmsWorkerError: "+msg+", "+genericMsg)}};var useEmscriptenWhileLoading=pdfBackendType!=="pnacl"&&!exports.CoreControls.isSubzeroEnabled();finishedInitializeCapability=createPromiseCapability();var finishInit=function(pdfBackendType){exports.CoreControls.preloadPDFWorker(pdfBackendType,workerHandlers,{useEmscriptenWhileLoading:useEmscriptenWhileLoading,autoSwap:false});var workerTransportPromise=exports.CoreControls.initPDFWorkerTransports(pdfBackendType,
workerHandlers,l);workerTransportPromise.then(function(transport){exports.PDFNet.messageHandler=transport;finishedInitializeCapability.resolve()})};if(typeof readerControl!=="undefined"&&typeof readerControl.pdfType!=="undefined")pdfBackendType=readerControl.pdfType;if(!pdfBackendType||pdfBackendType==="auto"){var getBackendeallocPromise=CoreControls.getDefaultPdfBackendType();getBackendeallocPromise.then(finishInit)}else finishInit(pdfBackendType)}return finishedInitializeCapability.promise};exports.PDFNet.Convert.office2PDFBuffer=
function(input,options){return new Promise(function(resolve,reject){var partRetriever=typeof input==="string"?new CoreControls.PartRetrievers.ExternalPdfPartRetriever(input):new CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever(input);var officeDoc=new CoreControls.Document(undefined,"office");var officeDocReady=function(err){if(err)reject(err);officeDoc.getFileData({"downloadType":"pdf"}).then(function(buffer){resolve(buffer)})["catch"](function(e){reject(e)})};officeDoc.loadAsync(partRetriever,
officeDocReady,{workerTransportPromise:CoreControls.initOfficeWorkerTransports(CoreControls.getCurrentPDFBackendType(),{},options["l"])})})};if(!existingPDFNet){exports.PDFNet.hasFullAPI=false;if(window.Proxy)exports.PDFNet=new window.Proxy(exports.PDFNet,{get:function(obj,prop){if(prop in obj)return obj[prop];throw new Error('Full version of PDFNetJS has not been loaded. Please pass the "fullAPI: true" option in your WebViewer constructor to use the PDFNet APIs.');}})}})(typeof window==="undefined"?
this:window);var K=self,T=K.BS;(function(){function a(b){e?e.push(b):setTimeout(b,0)}var d={version:"0.7.2.0",isUndefined:function(b){return void 0===b},isNull:function(b){return null===b},Zf:function(b){return null===b||void 0===b},TV:function(b){return null!==b&&void 0!==b}},e=[];K.attachEvent&&K.attachEvent("onload",function(){if(e){var b=e;e=null;for(var g=0,c=b.length;g<c;g++)b[g]()}});T||(K.BS=T={init:a,ready:a});for(var c in d)T[c]=d[c]})();Object.$e="Object";Object.bk=null;Object.OU=function(a){for(var d in a)delete a[d]};
Object.bq=function(a,d){return void 0!==a[d]};Object.keys?Object.BN=function(a){return Object.keys(a).length}:(Object.keys=function(a){var d=[],e;for(e in a)d.push(e);return d},Object.BN=function(a){var d=0,e;for(e in a)d++;return d});Boolean.$e="Boolean";Boolean.parse=function(a){return"true"==a.toLowerCase()};Number.$e="Number";Number.parse=function(a){return a&&a.length?0<=a.indexOf(".")||0<=a.indexOf("e")||a.endsWith("f")||a.endsWith("F")?parseFloat(a):parseInt(a,10):0};
Number.prototype.format=function(a){return T.Zf(a)||0==a.length||"i"==a?this.toString():ba(this,a,!1)};Number.prototype.UF=function(a){return T.Zf(a)||0==a.length||"i"==a?this.toLocaleString():ba(this,a,!0)};
Number.gw=function(a,d,e,c){var b=null;e=a.indexOf(e);0<e&&(b=a.substr(e),a=a.substr(0,e));(e=a.startsWith("-"))&&(a=a.substr(1));var g=0,f=d[g];if(a.length<f)return b?a+b:a;for(var k=a.length,h="",l=!1;!l;){var m=f,n=k-m;0>n&&(f+=n,m+=n,n=0,l=!0);if(!m)break;n=a.substr(n,m);h=h.length?n+c+h:n;k-=m;g<d.length-1&&(g++,f=d[g])}e&&(h="-"+h);return b?h+b:h};
function ba(a,d,e){e=e?T.BI.JT.numberFormat:T.BI.TT.numberFormat;var c="",b=-1;1<d.length&&(b=parseInt(d.substr(1)));d=d.charAt(0);switch(d){case "d":case "D":c=parseInt(Math.abs(a)).toString();-1!=b&&(c=c.length<b?String.oE(b-c.length)+c:c);0>a&&(c="-"+c);break;case "x":case "X":c=parseInt(Math.abs(a)).toString(16);"X"==d&&(c=c.toUpperCase());-1!=b&&(c=c.length<b?String.oE(b-c.length)+c:c);break;case "e":case "E":c=-1==b?a.toExponential():a.toExponential(b);"E"==d&&(c=c.toUpperCase());break;case "f":case "F":case "n":case "N":-1==
b&&(b=e.dW);c=a.toFixed(b).toString();b&&"."!=e.cG&&(b=c.indexOf("."),c=c.substr(0,b)+e.cG+c.substr(b+1));if("n"==d||"N"==d)c=Number.gw(c,e.fW,e.cG,e.eW);break;case "c":case "C":-1==b&&(b=e.ZU);c=Math.abs(a).toFixed(b).toString();b&&"."!=e.sD&&(b=c.indexOf("."),c=c.substr(0,b)+e.sD+c.substr(b+1));c=Number.gw(c,e.aV,e.sD,e.$U);c=0>a?String.format(e.bV,c):String.format(e.cV,c);break;case "p":case "P":-1==b&&(b=e.jW),c=(100*Math.abs(a)).toFixed(b).toString(),b&&"."!=e.vG&&(b=c.indexOf("."),c=c.substr(0,
b)+e.vG+c.substr(b+1)),c=Number.gw(c,e.lW,e.vG,e.kW),c=0>a?String.format(e.mW,c):String.format(e.nW,c)}return c}String.$e="String";String.EI="";String.compare=function(a,d,e){e&&(a&&(a=a.toUpperCase()),d&&(d=d.toUpperCase()));a=a||"";d=d||"";return a==d?0:a<d?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};
String.prototype.endsWith=function(a){return a.length?a.length>this.length?!1:this.substr(this.length-a.length)==a:!0};String.$D=function(a,d,e){return 0==String.compare(a,d,e)};String._format=function(a,d,e){String.RB||(String.RB=/(\{[^\}^\{]+\})/g);return a.replace(String.RB,function(c,b){var g=d[parseInt(b.substr(1))+1];if(T.Zf(g))return"";if(g.format){var a=null,k=b.indexOf(":");0<k&&(a=b.substring(k+1,b.length-1));return e?g.UF(a):g.format(a)}return e?g.toLocaleString():g.toString()})};
String.format=function(a){return String._format(a,arguments,!1)};String.oE=function(a){for(var d="0",e=1;e<a;e++)d+="0";return d};String.prototype.insert=function(a,d){return d?a?this.substr(0,a)+d+this.substr(a):d+this:this};String.Wt=function(a){return!a||!a.length};String.UF=function(a){return String._format(a,arguments,!0)};String.prototype.remove=function(a,d){return!d||a+d>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+d)};
String.prototype.startsWith=function(a){return a.length?a.length>this.length?!1:this.substr(0,a.length)==a:!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.$e="Array";Array.Ar=[T.ir];Array.prototype.add=function(a){this.push(a)};Object.defineProperty(Array.prototype,"add",{enumerable:!1,writable:!0});Array.prototype.addRange=function(a){this.push.apply(this,a)};Object.defineProperty(Array.prototype,"addRange",{enumerable:!1,writable:!0});
Object.defineProperty(Array.prototype,"aggregate",{enumerable:!1,writable:!0});Array.prototype.clear=function(){this.length=0};Object.defineProperty(Array.prototype,"clear",{enumerable:!1,writable:!0});Array.prototype.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};Object.defineProperty(Array.prototype,"clone",{enumerable:!1,writable:!0});Array.prototype.contains=function(a){return 0<=this.indexOf(a)};Object.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!0});
Array.prototype.dequeue=function(){return this.shift()};Object.defineProperty(Array.prototype,"dequeue",{enumerable:!1,writable:!0});Array.prototype.enqueue=function(a){this.LK=!0;this.push(a)};Object.defineProperty(Array.prototype,"enqueue",{enumerable:!1,writable:!0});function ea(a){return a.length?a[a.LK?0:a.length-1]:null}Object.defineProperty(Array.prototype,"peek",{enumerable:!1,writable:!0});
Array.prototype.every||(Array.prototype.every=function(a,d){for(var e=this.length,c=0;c<e;c++)if(c in this&&!a.call(d,this[c],c,this))return!1;return!0},Object.defineProperty(Array.prototype,"every",{enumerable:!1,writable:!0}));Object.defineProperty(Array.prototype,"extract",{enumerable:!1,writable:!0});
Array.prototype.filter||(Array.prototype.filter=function(a,d){for(var e=this.length,c=[],b=0;b<e;b++)if(b in this){var g=this[b];a.call(d,g,b,this)&&c.push(g)}return c},Object.defineProperty(Array.prototype,"filter",{enumerable:!1,writable:!0}));Array.prototype.forEach||(Array.prototype.forEach=function(a,d){for(var e=this.length,c=0;c<e;c++)c in this&&a.call(d,this[c],c,this)},Object.defineProperty(Array.prototype,"forEach",{enumerable:!1,writable:!0}));Array.prototype.getEnumerator=function(){return new T.Xq(this)};
Object.defineProperty(Array.prototype,"getEnumerator",{enumerable:!1,writable:!0});Array.prototype.groupBy=function(a,d){for(var e=this.length,c=[],b={},g=0;g<e;g++)if(g in this){var f=a.call(d,this[g],g);if(!String.Wt(f)){var k=b[f];k||(k=[],k.key=f,b[f]=k,c.add(k));k.add(this[g])}}return c};Object.defineProperty(Array.prototype,"groupBy",{enumerable:!1,writable:!0});
Array.prototype.index=function(a,d){for(var e=this.length,c={},b=0;b<e;b++)if(b in this){var g=a.call(d,this[b],b);String.Wt(g)||(c[g]=this[b])}return c};Object.defineProperty(Array.prototype,"index",{enumerable:!1,writable:!0});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,d){var e=this.length;if(e)for(var c=d||0;c<e;c++)if(this[c]===a)return c;return-1},Object.defineProperty(Array.prototype,"indexOf",{enumerable:!1,writable:!0}));
Array.prototype.insert=function(a,d){this.splice(a,0,d)};Object.defineProperty(Array.prototype,"insert",{enumerable:!1,writable:!0});Object.defineProperty(Array.prototype,"insertRange",{enumerable:!1,writable:!0});Array.prototype.map||(Array.prototype.map=function(a,d){for(var e=this.length,c=Array(e),b=0;b<e;b++)b in this&&(c[b]=a.call(d,this[b],b,this));return c},Object.defineProperty(Array.prototype,"map",{enumerable:!1,writable:!0}));
Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.splice(a,1),!0):!1};Object.defineProperty(Array.prototype,"remove",{enumerable:!1,writable:!0});Object.defineProperty(Array.prototype,"removeAt",{enumerable:!1,writable:!0});Array.prototype.removeRange=function(a,d){return this.splice(a,d)};Object.defineProperty(Array.prototype,"removeRange",{enumerable:!1,writable:!0});
Array.prototype.some||(Array.prototype.some=function(a,d){for(var e=this.length,c=0;c<e;c++)if(c in this&&a.call(d,this[c],c,this))return!0;return!1},Object.defineProperty(Array.prototype,"some",{enumerable:!1,writable:!0}));Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.$e="RegExp";RegExp.parse=function(a){if(a.startsWith("/")){var d=a.lastIndexOf("/");if(1<d)return new RegExp(a.substring(1,d),a.substr(d+1))}return null};Error.$e="Error";
Error.SU=function(a,d,e){a=Error(a);if(d)for(var c in d)a[c]=d[c];e&&(a.KV=e);if(!(T.Zf(a.stack)||T.Zf(a.fileName)||T.Zf(a.lineNumber))){d=a.stack.split("\n");e=d[0];for(c=a.fileName+":"+a.lineNumber;!T.Zf(e)&&-1===e.indexOf(c);)d.shift(),e=d[0];e=d[1];isNullOrUndefined(e)||(e=e.match(/@(.*):(\d+)$/),T.Zf(e)||(d.shift(),a.stack=d.join("\n"),a.fileName=e[1],a.lineNumber=parseInt(e[2])))}return a};K.mc=Function;K.mc.$e="Type";K.fB=function(a){this.$e=a};K.fB.prototype={fK:!0,getName:function(){return this.$e}};
K.mc.Ku=function(a){K.Zv||(K.Zv={});K.rB||(K.rB=[]);if(!K.Zv[a]){for(var d=self,e=a.split("."),c=0;c<e.length;c++){var b=e[c],g=d[b];g||(d[b]=g=new K.fB(e.slice(0,c+1).join(".")),0==c&&K.rB.add(g));d=g}K.Zv[a]=d}};K.mc.prototype.Ia=function(a,d,e){this.prototype.constructor=this;this.$e=a;this.hB=!0;this.bk=d||Object;d&&(this.zr=!0);if(e){this.Ar=[];for(var c=2;c<arguments.length;c++)e=arguments[c],this.Ar.add(e)}};function fa(a,d){a.$e=d;a.nB=!0}
K.mc.prototype.gA=function(){if(this.zr){var a=this.bk;a.zr&&a.gA();for(var d in a.prototype){var e=a.prototype[d];this.prototype[d]||(this.prototype[d]=e)}delete this.zr}};K.mc.prototype.VQ||(K.mc.prototype.VQ=K.mc.prototype.gA);function ga(a,d){return T.Zf(d)?!1:a==Object||d instanceof a?!0:ka(a,K.mc.yN(d))}
function ka(a,d){if(a==Object||a==d)return!0;if(a.hB)for(var e=d.bk;e;){if(a==e)return!0;e=e.bk}else if(a.nB){var c=d.Ar;if(c&&c.contains(a))return!0;for(e=d.bk;e;){if((c=e.Ar)&&c.contains(a))return!0;e=e.bk}}return!1}K.mc.NV=function(a){return 1==a.hB};K.mc.OV=function(a){return 1==a.dK};K.mc.PV=function(a){return 1==a.dK&&1==a.jB};K.mc.QV=function(a){return 1==a.nB};K.mc.RV=function(a){return 1==a.fK};K.mc.LU=function(a,d){return ga(d,a)};K.mc.uW=function(a,d){return ga(d,a)?a:null};
K.mc.yN=function(a){var d=null;try{d=a.constructor}catch(e){}d&&d.$e||(d=Object);return d};T.mi=function(){};T.mi.Ia("Enum");T.mi.parse=function(a,d){var e=a.prototype;if(a.jB){for(var c=d.split("|"),b=0,g=!0,f=c.length-1;0<=f;f--){var k=c[f].trim(),h=!1;for(l in e)if(l===k){b|=e[l];h=!0;break}if(!h){g=!1;break}}if(g)return b}else for(var l in e)if(l===d)return e[l];throw"Invalid Enumeration Value";};
T.mi.EU=function(a){var d=this.prototype;if(this.jB&&0!==a){var e=[];for(c in d)d[c]&a&&(e.length&&e.add(" | "),e.add(c));if(!e.length)throw"Invalid Enumeration Value";return e.join("")}for(var c in d)if(d[c]===a)return c;throw"Invalid Enumeration Value";};T.ed=function(){};T.ed.Ia("Delegate");T.ed.empty=function(){};T.ed.mK=function(a,d,e){for(var c=0;c<a.length;c+=2)if(a[c]===d&&a[c+1]===e)return!0;return!1};
T.ed._create=function(a){function d(){if(2==a.length)return a[1].apply(a[0],arguments);for(var e=a.clone(),c=0;c<e.length;c+=2)T.ed.mK(a,e[c],e[c+1])&&e[c+1].apply(e[c],arguments);return null}d.Cg=a;return d};T.ed.create=function(a,d){return a?T.ed._create([a,d]):d};T.ed.PU=function(a,d){return a?d?T.ed._create((a.Cg?a.Cg:[null,a]).concat(d.Cg?d.Cg:[null,d])):a.Cg?a:T.ed.create(null,a):d.Cg?d:T.ed.create(null,d)};
T.ed.remove=function(a,d){if(!a||a===d)return null;if(!d)return a;var e=a.Cg,c=null,b;d.Cg?(c=d.Cg[0],b=d.Cg[1]):b=d;for(var g=0;g<e.length;g+=2)if(e[g]===c&&e[g+1]===b){if(2==e.length)return null;e.splice(g,2);return T.ed._create(e)}return a};T.ed.TU=function(a,d,e){e=e||"__"+(new Date).valueOf();self[e]=d?a:function(){try{delete self[e]}catch(c){self[e]=void 0}a.apply(null,arguments)};return e};T.ed.gV=function(a){delete self[a]};T.ed.NU=function(a){self[a]=T.ed.empty};T.De=function(){};
T.De.prototype={Ug:null,reset:null};T.De.getEnumerator=function(a){return a?a.getEnumerator?a.getEnumerator():new T.Xq(a):null};fa(T.De,"IEnumerator");T.ir=function(){};T.ir.prototype={getEnumerator:null};fa(T.ir,"IEnumerable");T.Xq=function(a){this.xB=a;this.Qr=-1;this.current=null};T.Xq.prototype={Ug:function(){this.Qr++;this.current=this.xB[this.Qr];return this.Qr<this.xB.length},reset:function(){this.Qr=-1;this.current=null}};T.Xq.Ia("ArrayEnumerator",null,T.De);T.MA=function(){};
T.MA.prototype={Uc:null};fa(T.MA,"IDisposable");T.$A=function(a){this.es=T.Zf(a)?[]:[a];this.isEmpty=0==this.es.length};T.$A.prototype={append:function(a){T.Zf(a)||(this.es.add(a),this.isEmpty=!1);return this},clear:function(){this.es=[];this.isEmpty=!0},toString:function(a){return this.es.join(a||"")}};T.$A.Ia("StringBuilder");T.gr=function(){};T.gr.Ia("EventArgs");T.gr.EI=new T.gr;K.XMLHttpRequest||(K.XMLHttpRequest=function(){for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<a.length;d++)try{return new ActiveXObject(a[d])}catch(e){}return null});
T.HA=function(){var a=T.HA;a.zr&&a.gA();a.bk.apply(this);this.cancel=!1};T.HA.Ia("CancelEventArgs",T.gr);T.TJ=function(a,d){this.first=a;this.second=d};T.TJ.Ia("Tuple");T.Rd=function(a){this.Lw=a;this.ph=null};T.Rd.prototype={Va:function(){this.ph=T.Rd.AB(this.ph);return this.Lw},zb:function(a){this.Lw!==a&&(this.Lw=a,a=this.ph)&&(this.ph=null,T.Rd.ZB(a))}};T.Rd.Fw=[];T.Rd.GK={Uc:function(){T.Rd.Fw.pop()}};T.Rd.sW=function(a){T.Rd.Fw.push(a);return T.Rd.GK};
T.Rd.AB=function(a){var d=T.Rd.Fw,e=d.length;if(e){a=a||[];for(var c=0;c<e;c++){var b=d[c];a.contains(b)||a.push(b)}return a}return null};T.Rd.ZB=function(a){for(var d=0,e=a.length;d<e;d++)a[d].MV()};T.Rd.Ia("Observable");T.OA=function(a){this.Ei=a||[];this.ph=null};
T.OA.prototype={add:function(a){this.Ei.push(a);la(this)},clear:function(){this.Ei.clear();la(this)},contains:function(a){return this.Ei.contains(a)},getEnumerator:function(){this.ph=T.Rd.AB(this.ph);return this.Ei.getEnumerator()},indexOf:function(a){return this.Ei.indexOf(a)},insert:function(a,d){this.Ei.insert(a,d);la(this)},remove:function(a){return this.Ei.remove(a)?(la(this),!0):!1},toArray:function(){return this.Ei}};function la(a){var d=a.ph;d&&(a.ph=null,T.Rd.ZB(d))}
T.OA.Ia("ObservableCollection",null,T.ir);T.OI=function(){};fa(T.OI,"IApplication");T.QI=function(){};fa(T.QI,"IContainer");T.UI=function(){};fa(T.UI,"IObjectFactory");T.RI=function(){};fa(T.RI,"IEventManager");T.SI=function(){};fa(T.SI,"IInitializable");self.mc.Ku("XODText");self.mc.Ku("XODTextOld");XODText.Vc=function(){};
XODText.Iv=function(a,d){this.fC=a;this.mb=Array(8);this.mb[0]=d[0];this.mb[1]=d[1];this.mb[2]=d[2];this.mb[3]=d[3];this.mb[4]=d[4];this.mb[5]=d[5];this.mb[6]=d[6];this.mb[7]=d[7]};XODText.Iv.prototype={fC:null,mb:null,Kc:function(){for(var a=Array(8),d=0;8>d;d++)a[d]=this.mb[d];return a}};XODText.LF={ff:String.fromCharCode(64256),fi:String.fromCharCode(64257),fl:String.fromCharCode(64258),ffi:String.fromCharCode(64259),ffl:String.fromCharCode(64260),ft:String.fromCharCode(64261),st:String.fromCharCode(64262)};
XODText.gz=function(a){this.VJ=this.width=a};XODText.gz.prototype={width:0,VJ:0};XODText.mu=function(){};XODText.mu.prototype={A:function(){},addColorStop:function(){}};XODText.Xl=function(a){this.qk=[];this.EB={};var d=new XODText.Ea;d.set(1,0,0,1,0,0);this.qk.push(d);this.km=a};
$.extend(XODText.Xl.prototype,{km:null,oC:0,Yo:0,Dw:0,canvas:{PW:0,height:0},EN:function(a){return this.EB[a]},FU:function(a,d){var e=new XODText.Ja;e.Pg(a);d.YH(e);return e.width()},lm:function(a){if(Object.bq(this.km,a))return this.km[a];a=a.split(" ")[1];console.assert(Object.bq(this.km,a),"Font "+a+" file not found");return this.km[a]},DC:function(a,d){var e=new XODText.Ea,c=a.Cw,b=a.gC;e.set(b/c,0,0,b/c,0,0);e.YH(d)},font:null,save:function(){var a=new XODText.Ea;a.tn(ea(this.qk));this.qk.push(a)},
restore:function(){this.qk.pop()},transform:function(a,d,e,c,b,g){var f=new XODText.Ea;f.set(a,d,e,c,b,g);ea(this.qk).concat(f)},rotate:function(a){var d=new XODText.Ea,e=Math.cos(a);a=Math.sin(a);d.set(e,a,-a,e,0,0);ea(this.qk).concat(d)},translate:function(a,d){this.Yo=a;this.Dw=d},setLineDash:function(){},fillRect:function(){},fillText:function(a,d,e){var c=this.lm(this.font);this.Kr(a,d,e,c)},Kr:function(a,d,e,c){if(!this.gm){this.translate(d,e);d=0;for(e=a.length;d<e;){var b=a.charCodeAt(d),
g=d;55296<=b&&55551>=b?(b=String.fromCodePoint((b-55296<<10)+(a.charCodeAt(d+1)-56320)+65536),d+=2):(b=String.fromCodePoint(b),d++);g=this.au&&g in this.au?this.au[g]:b;b=c.Vx(b);this.DC(c,b);var f=b.y1;b.y1=b.y2;b.y2=f;b.x1+=this.Yo;b.x2+=this.Yo;b.y1+=this.Dw;b.y2+=this.Dw;this.Yo+=b.width();f=Array(8);f[0]=b.x1;f[1]=b.y1;f[2]=b.x2;f[3]=b.y1;f[4]=b.x2;f[5]=b.y2;f[6]=b.x1;f[7]=b.y2;ea(this.qk).ZH(f);this.EB[this.oC]=new XODText.Iv(g,f);this.oC++}this.au=null}},measureText:function(a){var d=this.lm(this.font);
return this.kC(a,d)},kC:function(a,d){var e=0;if(!this.gm)for(var c=0,b=a.length;c<b;){var g=a.charCodeAt(c);55296<=g&&55551>=g?(g=d.Vx(String.fromCodePoint((g-55296<<10)+(a.charCodeAt(c+1)-56320)+65536)),c+=2):(g=d.Vx(String.fromCodePoint(g)),c++);this.DC(d,g);e+=g.width()}return new XODText.gz(e)},strokeRect:function(){},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.mu},createRadialGradient:function(){return new XODText.mu},
createPattern:function(){},addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.ImageData},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(a,d,e,c,
b,g){this.transform(a,d,e,c,b,g)},ro:function(a){this.rotate(a)},T:function(a,d){this.translate(a,d)},w:0,c:null,s:null,f:null,a:0,L:function(a,d,e,c){return this.createLinearGradient(a,d,e,c)},R:function(a,d,e,c,b,g){return this.createRadialGradient(a,d,e,c,b,g)},P:function(a,d){this.createPattern(a,d)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},cr:function(){this.strokeRect()},C:function(){this.clip()},M:function(a,
d){this.moveTo(a,d)},l:function(a,d){this.lineTo(a,d)},q:function(a,d,e,c){this.quadraticCurveTo(a,d,e,c)},B:function(a,d,e,c,b,g){this.bezierCurveTo(a,d,e,c,b,g)},n:null,x:function(a,d,e){var c=this.lm(this.font);this.Kr(a,d,e,c)},m:function(a){var d=this.lm(this.font);return this.kC(a,d)},i:0,j:null,I:function(a,d,e){this.drawImage(a,d,e)},Z:function(a,d,e,c,b,g){this.setTransform(a,d,e,c,b,g)},d:function(a,d,e,c){return this.getImageData(a,d,e,c)},D:function(a,d,e){this.putImageData(a,d,e)},e:function(a,
d){this.scale(a,d)},tm:function(a){this.au=a},fillTextCustom:function(a,d,e){var c=this.lm(this.font);this.Kr(a,d,e,c)},xc:function(a,d,e){var c=this.lm(this.font);this.Kr(a,d,e,c)},cgb:function(){console.assert(!this.gm,"Custom Glyphs begin offset is incorrect");this.gm=!0},cge:function(){console.assert(this.gm,"Custom Glyphs end offset is incorrect");this.gm=!1},xw:function(a,d,e){1<a.length&&(a=a.substr(0,a.length-1));this.x(a,d,e)},xcw:function(a,d,e){1<a.length&&(a=a.substr(0,a.length-1));this.xc(a,
d,e)},createCanvas:function(){return{getContext:function(){return new XODText.Xl(this.km)}}},gm:!1});Object.defineProperties(XODText.Xl.prototype,{n:{get:function(){return this.font},set:function(a){this.font=a}}});XODText.Ye=function(){this.cf=[];this.Vb=[];this.Ba=[];this.gc=!1;this.qm=null};
XODText.Ye.prototype={clear:function(){this.Qa="";this.Vb.clear();this.Ba.clear();this.gc=!1},Jb:function(){this.Vb=[];this.Ba=[];this.gc=!1},lL:function(a){function d(e){for(var c=e.length,b=0;b<c;b+=8){var g=a.aa({x:e[b],y:e[b+1]}),f=a.aa({x:e[b+2],y:e[b+3]}),d=a.aa({x:e[b+4],y:e[b+5]}),h=a.aa({x:e[b+6],y:e[b+7]}),l=new XODText.bb;l.yC(g.x,g.y,f.x,f.y,d.x,d.y,h.x,h.y);l=l.Ng();e[b]=l.x1;e[b+1]=l.y1;e[b+2]=l.x2;e[b+3]=l.y2;e[b+4]=l.x3;e[b+5]=l.y3;e[b+6]=l.x4;e[b+7]=l.y4}}d(this.Ba);this.cf.forEach(function(a){d(a.mb);
a.vb.forEach(function(c){d(c.mb);c.zd.forEach(function(b){d(b)})})})},Bu:function(a){this.Ba=a.Ba;this.Vb=a.Vb;this.Qa=a.Qa;this.gc=a.gc;this.cf=function(a,e,c){function b(b,g){return b.slice(g,g+8)}function g(){var g=new XODText.tb;g.Wb=a[l+1];g.lb=q;q++;var f=a[l+1];g.ia=c.slice(f,f+a[l+2]);g.Vo=f;for(var f=a[l],k=0;k<f;++k)g.zd.push(b(e,8*(g.Wb+k)));n&&(n.Xo=g);return n=g}function f(b){var c=g(),f=a[l],e=a[l+3],k=a[l+4],h;if(e===k){e=Math.min(b.x1,b.x2);k=Math.max(b.x1,b.x2);h=c.zd[0];b=c.zd[f-
1];b=[h[1],h[3],h[5],h[7],b[1],b[3],b[5],b[7]];h=Math.min.apply(null,b);b=Math.max.apply(null,b);for(var m=0;m<f;++m)for(var n=c.zd[m],q=Math.min(n[0],n[2],n[4]),x=0;8>x;x+=2)n[x]=n[x]===q?e:k}else for(h=Math.min(b.y1,b.y2),b=Math.max(b.y1,b.y2),m=0;m<f;++m)for(n=c.zd[m],q=Math.min(n[1],n[3],n[5]),x=1;8>x;x+=2)n[x]=n[x]===q?b:h;f=c.mb;n=c.zd[0];m=n[2]-n[0];n=n[3]-n[1];0<m?(f[0]=e,f[1]=b,f[2]=k,f[3]=b,f[4]=k,f[5]=h,f[6]=e,f[7]=h):0>m?(f[0]=e,f[1]=h,f[2]=k,f[3]=h,f[4]=k,f[5]=b,f[6]=e,f[7]=b):0<n?(f[0]=
e,f[1]=h,f[2]=e,f[3]=b,f[4]=k,f[5]=b,f[6]=k,f[7]=h):0>n?(f[0]=k,f[1]=b,f[2]=k,f[3]=h,f[4]=e,f[5]=h,f[6]=e,f[7]=b):(f[0]=e,f[1]=b,f[2]=k,f[3]=b,f[4]=k,f[5]=h,f[6]=e,f[7]=h);l+=5;return c}function k(){var c=g();c.mb=b(a,l+3);l+=11;return c}function h(g){var c=new XODText.Nb;c.lb=g;var e=0<a[l];if(e){var h=6;g=a[l];var q=c.mb,z=a.slice(l+2,l+4),C=a.slice(l+4,l+6);q[0]=z[0];q[1]=z[1];q[2]=C[0];q[3]=z[1];q[4]=C[0];q[5]=C[1];q[6]=z[0];q[7]=C[1]}else h=10,g=-a[l],c.mb=b(a,l+2);e=e?f:k;q=new XODText.Ja;c.ob(q);
l+=h;n=null;for(h=0;h<g;++h)c.vb.push(e(q));c.ia=c.vb.map(function(b){return b.ia}).join(" ");c.Vo=c.vb[0]?c.vb[0].Vo:0;m&&(m.Wo=c);return m=c}var l=0,m=null,n=null,q=0;return function(){var b=[],g=a[l];l++;for(var c=0;c<g;++c)b.push(h(c));return b}()}(a.Wa,this.Ba,this.Qa)},Nr:function(a){for(var d="",e=0,c,b,g;e<a.length;)c=a.charCodeAt(e),9==c?(d+=String.fromCharCode(10),e++):128>c?(d+=String.fromCharCode(c),e++):191<c&&224>c?(b=a.charCodeAt(e+1),d+=String.fromCharCode((c&31)<<6|b&63),e+=2):(b=
a.charCodeAt(e+1),g=a.charCodeAt(e+2),d+=String.fromCharCode((c&15)<<12|(b&63)<<6|g&63),e+=3);return d},qC:function(a,d){for(var e=new XODText.tb,c=T.De.getEnumerator(a.split(",")),b=-1;c.Ug();){var g=c.current.split(":"),f=parseInt(g[0]),k=0;1<g.length&&(k=parseInt(g[1]));b===f&&(++f,--k);for(b=f+k;f<=b;f++)g=d.EN(f),k=g.fC,1<k.length&&(k=k in XODText.LF?XODText.LF[k]:k.charAt(0)),e.ts(k,g.Kc()),this.Vb.add(f),this.Ba.addRange(g.Kc())}return e},parse:function(a,d){var e=0,c=0,b=0;do{for(var g;a.advance();)if(g=
a.ta(),"F"===g)a.ma();else if("P"===g)a.ma();else if("L"===g){a.ma();g=new XODText.Nb;g.$o(e++);0<this.cf.length&&this.cf[this.cf.length-1].pH(g);this.cf.add(g);for(var f=T.De.getEnumerator(a.current.textContent.split(" "));f.Ug();){var k=f.current;if(0<g.Kg()){this.Qa+=" ";this.Vb.add(-1);b++;var h=Array(8);g.Xc().Kc(h);this.Ba.addRange(h)}k=this.qC(k,d);k.$o(c++);k.BC(b);g.PC(k);this.Qa+=k.ia;b+=k.Ub()}this.Qa+="\n";this.Vb.add(-2);b++;console.assert(0<g.Kg(),"No words in line");0<g.Kg()&&(h=Array(8),
g.Xc().Kc(h),this.Ba.addRange(h))}else console.assert("XML parser has encountered a symbol it can't process.");a.ya()}while(a.depth)},TL:function(a,d){var e=0,c=0,b=0;this.qm=[];for(var g=0;g<a.length;++g)for(var f=a[g],k=0;k<f.length;++k)for(var h=f[k],l=0;l<h.length;++l){var m=new XODText.Nb;m.$o(e++);0<this.cf.length&&this.cf[this.cf.length-1].pH(m);this.cf.add(m);for(var n=T.De.getEnumerator(h[l].split(" "));n.Ug();){var q=n.current;if(0<m.Kg()){this.qm.push(this.Qa.length);this.Qa+=" ";this.Vb.add(-1);
b++;var r=Array(8);m.Xc().Kc(r);this.Ba.addRange(r)}q=this.qC(q,d);q.$o(c++);q.BC(b);m.PC(q);this.Qa+=q.ia;b+=q.Ub()}this.qm.push(this.Qa.length);this.Qa+="\n";this.Vb.add(-2);b++;console.assert(0<m.Kg(),"No words in line");0<m.Kg()&&(r=Array(8),m.Xc().Kc(r),this.Ba.addRange(r))}this.gc=!0},Dz:function(a,d){try{var e=new window.Ee(a);console.assert("TextData"===e.ta(),"XML parser has encountered a symbol it can't process.");"TextData"===e.ta()&&(e.ma(),this.parse(e,d))}catch(c){console.warn("TextSelection has encountered an error: "+
c.message);return}this.gc=!0},ready:function(){return this.gc},Kp:function(){return this.cf.length?this.cf[0]:new XODText.Nb},Oe:function(){return this.Ba},Qa:"",Vb:null,Ba:null,gc:!1};XODText.Nb=function(){this.vb=[];this.lb=-1;this.nc=[];this.mb=Array(8);this.Wo=null};
XODText.Nb.prototype={Jb:function(){this.lb=this.Fc=-1;this.nc=[]},qa:function(a){return this.lb===a.lb},Kg:function(){return this.vb.length},Fb:function(){return this.vb.length?this.vb[0]:new XODText.tb},Xc:function(){return this.vb.length?this.vb[this.vb.length-1]:new XODText.tb},dF:function(a){return 0>a||a>=this.Kg()?new XODText.tb:this.vb[a]},oe:function(){return null==this.Wo?new XODText.Nb:this.Wo},ob:function(a){a.sl(this.mb)},$o:function(a){this.lb=a},Ig:function(){if(this.nc.length)return this.nc[0];
var a=new XODText.ca,d=new XODText.ca,e=this.Fb(),c=this.Xc(),b=Array(8),g=Array(8);e.ld(0,b);a.x=(b[0]+b[2]+b[4]+b[6])/4;a.y=(b[1]+b[3]+b[5]+b[7])/4;c.ld(c.Ub()-1,g);d.x=(g[0]+g[2]+g[4]+g[6])/4;d.y=(g[1]+g[3]+g[5]+g[7])/4;.01>Math.abs(a.x-d.x)&&.01>Math.abs(a.y-d.y)&&this.nc.add(0);a=Math.atan2(d.y-a.y,d.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.nc.add(a);return 0},ia:"",Aa:null,lb:0,nc:null,mb:null,Wo:null,pH:function(a){this.Wo=a},PC:function(a){0<this.vb.length&&this.vb[this.vb.length-1].MR(a);
this.vb.add(a);var d=String.Wt(this.ia),e=Array(8);a.Kc(e);if(d)for(d=0;8>d;d++)this.mb[d]=e[d];else this.ia+=" ",XODText.bb.bs(this.mb,e,!1,0);this.ia+=a.ia}};XODText.tb=function(){this.zd=[];this.lb=this.Wb=-1;this.mb=Array(8);this.Xo=null};
XODText.tb.prototype={Jb:function(){this.lb=this.Wb=-1},qa:function(a){return this.lb===a.lb},Ub:function(){return this.zd.length},Uf:function(){return this.ia.length},Ya:function(){return this.Vo},BC:function(a){this.Vo=a},Vd:function(){return null==this.Xo?new XODText.tb:this.Xo},Zm:function(a,d){if(this.zd&&this.zd[a]){var e=this.zd[a][0],c=this.zd[a][2],b=this.zd[a][1],g=this.zd[a][5];b<g?(d[1]=g,d[3]=g,d[5]=b,d[7]=b):(d[1]=b,d[3]=b,d[5]=g,d[7]=g);d[0]=e;d[2]=c;d[4]=c;d[6]=e}else exports.utils.warn("default",
"getGlyphQuadInWordQuadFormat: No glyph with index "+a+" found.")},ld:function(a,d){for(var e=0;8>e;e++)d[e]=this.zd[a][e]},Kc:function(a){for(var d=0;8>d;d++)a[d]=this.mb[d]},ob:function(a){var d=new XODText.Ja;d.sl(this.mb);a[0]=d.x1;a[1]=d.y1;a[2]=d.x2;a[3]=d.y2},$o:function(a){this.lb=this.Wb=a},Wb:0,ia:"",Aa:null,lb:0,Vo:0,mb:null,Xo:null,ts:function(a,d){var e=String.Wt(this.ia);this.ia+=a;for(var c=Array(8),b=0;8>b;b++)c[b]=d[b];for(b=0;b<a.length;++b)this.zd.add(c);if(e)for(b=0;8>b;b++)this.mb[b]=
c[b];else XODText.bb.bs(this.mb,c,!1,0)},MR:function(a){this.Xo=a}};XODTextOld.Ye=function(){};
XODTextOld.Ye.prototype={clear:function(){this.Wa.clear();this.Qa="";this.Vb.clear();this.Ba.clear();this.gc=!1},Jb:function(){this.Wa=[];this.Vb=[];this.Ba=[];this.gc=!1},Nr:function(a){for(var d="",e=0,c,b,g;e<a.length;)c=a.charCodeAt(e),9==c?(d+=String.fromCharCode(10),e++):128>c?(d+=String.fromCharCode(c),e++):191<c&&224>c?(b=a.charCodeAt(e+1),d+=String.fromCharCode((c&31)<<6|b&63),e+=2):(b=a.charCodeAt(e+1),g=a.charCodeAt(e+2),d+=String.fromCharCode((c&15)<<12|(b&63)<<6|g&63),e+=3);return d},
WO:function(a){this.Wa=[];this.Vb=[];this.Ba=[];this.gc=!1;try{var d=new window.Ee(a);this.Qa="";d.ma();if(!d.advance())return;var e=d.current.textContent;this.Qa=e=this.Nr(e);this.Vb.clear();d.advance();for(var e=d.current.textContent,c=e.split(","),b=T.De.getEnumerator(c);b.Ug();){var g=b.current;try{var f=parseInt(g.trim());this.Vb.add(f)}catch(p){}}this.Wa.clear();d.advance();for(var e=d.current.textContent,c=e.split(","),k=T.De.getEnumerator(c);k.Ug();){g=k.current;try{f=parseFloat(g.trim()),
this.Wa.add(f)}catch(p){}}this.Ba.clear();d.advance();e=d.current.textContent;c=e.split(",");a=[];for(var d=[],e=0,h=T.De.getEnumerator(c);h.Ug();){g=h.current;switch(g){case "Q":e=1;break;case "R":e=2;break;case "S":e=3;break;default:e=0}if(e)a.add(0),d.add(e);else try{f=parseFloat(g.trim()),a.add(f),d.add(e)}catch(p){return}}for(var e=0,l=a.length,m,n,q,r,h=g=c=0;h<l;){var v=d[h];if(0<v)e=v,++h,3===e&&(c=a[h],g=a[h+1],h+=2);else if(1===e)for(f=0;8>f;++f)this.Ba.add(a[h++]);else 2===e?(m=a[h++],
n=a[h++],q=a[h++],r=a[h++],this.Ba.add(m),this.Ba.add(n),this.Ba.add(q),this.Ba.add(n),this.Ba.add(q),this.Ba.add(r),this.Ba.add(m),this.Ba.add(r)):3===e&&(m=a[h++],n=c,q=a[h++],r=g,this.Ba.add(m),this.Ba.add(n),this.Ba.add(q),this.Ba.add(n),this.Ba.add(q),this.Ba.add(r),this.Ba.add(m),this.Ba.add(r))}}catch(p){return}this.Qa.length&&this.Qa.length===this.Vb.length&&8*this.Qa.length===this.Ba.length&&(this.gc=!0)},ready:function(){return this.gc},Kp:function(){var a=new XODTextOld.Nb;if(!this.Wa.length)return a.Qe(this.Wa,
-1,this.Qa,this.Ba,0),a;a.Qe(this.Wa,1,this.Qa,this.Ba,1);return a},Oe:function(){return this.Ba},Wa:null,Qa:null,Vb:null,Ba:null,gc:!1};XODTextOld.Nb=function(){};
XODTextOld.Nb.prototype={Jb:function(){this.Fc=-1;this.lb=0;this.nc=[]},Qe:function(a,d,e,c,b){this.Fc=d;this.lb=b;this.nc=[];this.yd=a;this.ia=e;this.Aa=c},qa:function(a){return this.Fc===a.Fc},Kg:function(){return Math.abs(this.yd[this.Fc])},Nh:function(){return 0<this.yd[this.Fc]},Fb:function(){var a=new XODTextOld.tb;a.Qe(this.yd,this.Fc+(this.Nh()?6:10),this.Fc,this.ia,this.Aa,1);return a},dF:function(a){if(0>a||a>=this.Kg()){var d=new XODTextOld.tb;d.Qe(this.yd,-1,-1,this.ia,this.Aa,0)}else{var e=
this.Nh()?6:10,c=this.Nh()?5:11,d=new XODTextOld.tb;d.Qe(this.yd,this.Fc+e+c*a,this.Fc,this.ia,this.Aa,1+a)}return d},oe:function(){var a=this.Fc+parseInt(this.yd[this.Fc+1]);if(a>=this.yd.length){var d=new XODTextOld.Nb;d.Qe(this.yd,-1,this.ia,this.Aa,0)}else d=new XODTextOld.Nb,d.Qe(this.yd,a,this.ia,this.Aa,this.lb+1);return d},ob:function(a){if(this.Nh())a.x1=this.yd[this.Fc+2+0],a.y1=this.yd[this.Fc+2+1],a.x2=this.yd[this.Fc+2+2],a.y2=this.yd[this.Fc+2+3];else{for(var d=1.79769E308,e=XODText.Vc.pi,
c=1.79769E308,b=XODText.Vc.pi,g=0;4>g;++g)var f=this.yd[this.Fc+2+2*g],k=this.yd[this.Fc+2+2*g+1],d=Math.min(d,f),e=Math.max(e,f),c=Math.min(c,k),b=Math.max(b,k);a.x1=d;a.y1=c;a.x2=e;a.y2=b}},Ig:function(){if(this.nc.length)return this.nc[0];var a=new XODText.ca,d=new XODText.ca,e=new XODTextOld.tb;e.Jb();var c=this.Fb(),b=new XODTextOld.tb;b.Jb();for(var g=this.Fb();!g.qa(e);g=g.Vd())b=g;e=Array(8);g=Array(8);c.ld(0,e);a.x=(e[0]+e[2]+e[4]+e[6])/4;a.y=(e[1]+e[3]+e[5]+e[7])/4;b.ld(b.Ub()-1,g);d.x=
(g[0]+g[2]+g[4]+g[6])/4;d.y=(g[1]+g[3]+g[5]+g[7])/4;.01>Math.abs(a.x-d.x)&&.01>Math.abs(a.y-d.y)&&this.nc.add(0);a=Math.atan2(d.y-a.y,d.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.nc.add(a);return 0},Fc:0,yd:null,ia:null,Aa:null,lb:0,nc:null};XODTextOld.tb=function(){};
XODTextOld.tb.prototype={Jb:function(){this.mh=this.Wb=-1;this.lb=0},Qe:function(a,d,e,c,b,g){this.Wb=d;this.mh=e;this.Wa=a;this.ia=c;this.Aa=b;this.lb=g},qa:function(a){return this.Wb===a.Wb},Ub:function(){return parseInt(this.Wa[this.Wb])},Uf:function(){return parseInt(this.Wa[this.Wb+2])},Ya:function(){return parseInt(this.Wa[this.Wb+1])},Nh:function(){return 0<this.Wa[this.mh]},VN:function(){return Math.abs(this.Wa[this.mh])},Vd:function(){var a=this.Nh(),d=a?5:11;this.Wb>=this.mh+(a?6:10)+(this.VN()-
1)*d?(a=new XODTextOld.tb,a.Qe(this.Wa,-1,-1,this.ia,this.Aa,0)):(a=new XODTextOld.tb,a.Qe(this.Wa,this.Wb+d,this.mh,this.ia,this.Aa,this.lb+1));return a},tN:function(a){var d=this.Ub();return 0>a||a>=d?-1:parseInt(this.Wa[this.Wb+1])+a},ld:function(a,d){var e=this.tN(a);if(!(0>e)){var c=new XODTextOld.Nb;c.Qe(this.Wa,this.mh,this.ia,this.Aa,0);if(c.Nh()){var b=new XODText.Ja;c.ob(b);c=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;e*=8;d[0]=this.Aa[e];d[1]=c;d[2]=this.Aa[e+2];d[3]=d[1];d[4]=this.Aa[e+
4];d[5]=b;d[6]=this.Aa[e+6];d[7]=d[5]}else for(e*=8,c=0;8>c;++c)d[c]=this.Aa[e+c]}},Kc:function(a){var d=new XODTextOld.Nb;d.Qe(this.Wa,this.mh,this.ia,this.Aa,0);if(d.Nh()){var e=this.Wa[this.Wb+3],c=this.Wa[this.Wb+4];if(e>c){var b;b=e;e=c;c=b}b=new XODText.Ja;d.ob(b);d=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;a[0]=e;a[1]=d;a[2]=c;a[3]=d;a[4]=c;a[5]=b;a[6]=e;a[7]=b}else for(e=this.Wb+3,c=0;8>c;++c)a[c]=this.Wa[e+c]},ob:function(a){var d=new XODTextOld.Nb;d.Qe(this.Wa,this.mh,this.ia,this.Aa,0);
if(d.Nh()){var e=this.Wa[this.Wb+3],c=this.Wa[this.Wb+4];if(e>c){var b;b=e;e=c;c=b}b=new XODText.Ja;d.ob(b);d=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2}else{e=1.79769E308;c=XODText.Vc.pi;d=1.79769E308;b=XODText.Vc.pi;for(var g=this.Wb+3,f=0;4>f;++f){var k=this.Wa[g+2*f],h=this.Wa[g+2*f+1],e=Math.min(e,k),c=Math.max(c,k),d=Math.min(d,h);b=Math.max(b,h)}}a[0]=e;a[1]=d;a[2]=c;a[3]=b},Wb:0,mh:0,Wa:null,ia:null,Aa:null,lb:0};XODText.Ja=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Ja.prototype={Pa:function(a,d,e,c){this.x1=a;this.y1=d;this.x2=e;this.y2=c},Pg:function(a){this.x1=a.x1;this.y1=a.y1;this.x2=a.x2;this.y2=a.y2},normalize:function(){if(this.x1>this.x2){var a;a=this.x1;this.x1=this.x2;this.x2=a}this.y1>this.y2&&(a=this.y1,this.y1=this.y2,this.y2=a)},set:function(a,d,e,c){this.x1=a;this.y1=d;this.x2=e;this.y2=c},mq:function(a){return this.x2<a.x1||this.x1>a.x2||this.y2<a.y1||this.y1>a.y2},width:function(){var a=this.x2-this.x1;return 0>a?-a:a},height:function(){var a=
this.y2-this.y1;return 0>a?-a:a},sl:function(a){for(var d=1.79769E308,e=XODText.Vc.pi,c=1.79769E308,b=XODText.Vc.pi,g=0;4>g;++g)var f=a[2*g],k=a[2*g+1],d=Math.min(d,f),e=Math.max(e,f),c=Math.min(c,k),b=Math.max(b,k);this.x1=d;this.y1=c;this.x2=e;this.y2=b},Rt:function(a,d){var e,c,b,g,f,k,h,l;a.x1<a.x2?(e=a.x1,c=a.x2):(e=a.x2,c=a.x1);a.y1<a.y2?(b=a.y1,g=a.y2):(b=a.y2,g=a.y1);d.x1<d.x2?(f=d.x1,k=d.x2):(f=d.x2,k=d.x1);d.y1<d.y2?(h=d.y1,l=d.y2):(h=d.y2,l=d.y1);if(c<f||k<e||g<h||l<b)return this.x1=this.x2=
this.y1=this.y2=0,!1;this.x1=e<f?f:e;this.x2=c<k?c:k;this.y1=b<h?h:b;this.y2=g<l?g:l;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},VO:function(a){this.yK(a,a)},yK:function(a,d){this.normalize();this.x1-=a;this.x2+=a;this.y1-=d;this.y2+=d},union:function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2)},contains:function(a,d){if(this.x1<this.x2){if(a<this.x1||a>this.x2)return!1}else if(a<
this.x2||a>this.x1)return!1;if(this.y1<this.y2){if(d<this.y1||d>this.y2)return!1}else if(d<this.y2||d>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.ca=function(a,d){this.x=a;this.y=d};XODText.ca.qa=function(a,d){return a.x===d.x&&a.y===d.y};XODText.ca.cW=function(a,d){return a!==d};XODText.ca.MD=function(a){var d=new XODText.ca;d.x=a.x/2;d.y=a.y/2;return d};XODText.ca.multiply=function(a,d){var e=new XODText.ca;e.init(a.x*d,a.y*d);return e};
XODText.ca.cg=function(a,d){var e=new XODText.ca;e.init(a.x-d.x,a.y-d.y);return e};XODText.ca.En=function(a,d){var e=new XODText.ca;e.init(a.x+d.x,a.y+d.y);return e};XODText.ca.distance=function(a,d){var e=a.x-d.x,c=a.y-d.y;return Math.sqrt(e*e+c*c)};
XODText.ca.prototype={x:0,y:0,init:function(a,d){this.x=a;this.y=d},Qt:function(a){this.x=a.x;this.y=a.y},add:function(a){this.x+=a.x;this.y+=a.y},sub:function(a){this.x-=a.x;this.y-=a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);return a?(this.x/=a,this.y/=a,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Sb:function(a){return this.x*a.x+this.y*a.y}};XODText.Vc.Ia("XODText.doubleData");XODText.Iv.Ia("XODText.Letter");XODText.gz.Ia("XODText.nsIDOMTextMetrics");
XODText.mu.Ia("XODText.nsIDOMCanvasGradient");XODText.Xl.Ia("XODText.SelectionContext");XODText.Ye.Ia("XODText.SelectionInfo");XODText.Nb.Ia("XODText.Line");XODText.tb.Ia("XODText.Word");XODText.Ja.Ia("XODText.SelectionRect");XODText.ca.Ia("XODText.SelectionPoint");XODText.Vc.Mj=1.79769E308;XODText.Vc.pi=-1.79769E308;
(function(){self.mc.Ku("XODText");XODText.Rr=function(){};XODText.vd=function(a,e){this.x=a;this.y=e};XODText.vd.prototype={x:0,y:0};XODText.bb=function(){this.Dl=this.Al=this.Cl=this.zl=this.y2=this.x2=this.y1=this.x1=0};var a=RegExp("[-[\\]{}()*+?.,\\\\^$|#\\s]","g");XODText.Ov=function(d,e){this.DF=e&&("r"===e||"w"===e);this.text=e&&"w"===e?d.replace(/(\*+|.)/g,function(c){return"*"===c.charAt(0)?1==c.length?".*?":"*".repeat(c.length/2|0).replace(a,"\\$&"):c.replace(a,"\\$&")}):d};XODText.bb.bs=
function(a,e,c,b){var g=new XODText.ca;g.init(0,0);var f=new XODText.ca;f.init(0,0);var k=new XODText.ca;k.init(0,0);var h=new XODText.ca;h.init(0,0);for(var l=0;4>l;++l){XODText.bb.$E(g,a,l);if(!g.normalize()&&c)return!1;l?2===l?k=XODText.ca.cg(k,g):1===l?h=XODText.ca.En(h,g):3===l&&(h=XODText.ca.cg(h,g)):k=XODText.ca.En(k,g);for(var m=Array(8),n=0;1>n;++n){for(var q=0;8>q;++q)m[q]=e[8*n+q];XODText.bb.$E(f,m,l);if(!f.normalize()&&c)return!1;l?2===l?k=XODText.ca.cg(k,f):1===l?h=XODText.ca.En(h,f):
3===l&&(h=XODText.ca.cg(h,f)):k=XODText.ca.En(k,f)}if(c&&Math.abs(g.Sb(f))<XODText.bb.WL)return!1}k=XODText.ca.MD(k);h=XODText.ca.MD(h);if(!k.normalize()&&c||!h.normalize()&&c||c&&!XODText.bb.LP(a,e,k,h,b,b/10))return!1;XODText.bb.inflate(a,e,1,k,h);return!0};XODText.bb.$E=function(a,e,c){var b=(c+1)%4;a.x=e[2*b]-e[2*c];a.y=e[2*b+1]-e[2*c+1]};XODText.bb.LP=function(a,e,c,b,g,f){var k=new XODText.ca;k.init(a[0],a[1]);var h=new XODText.ca;h.init(a[2],a[3]);var l=new XODText.ca;l.init(e[0],e[1]);var m=
new XODText.ca;m.init(e[2],e[3]);var n=k.Sb(c),q=h.Sb(c),r=l.Sb(c);c=m.Sb(c);if(n>q)var v=n,n=q,q=v;r>c&&(v=r,r=c,c=v);if(r-q>g||n-c>g)return!1;k.x=a[2];k.y=a[3];h.x=a[4];h.y=a[5];l.x=e[2];l.y=e[3];m.x=e[4];m.y=e[5];n=k.Sb(b);q=h.Sb(b);r=l.Sb(b);c=m.Sb(b);n>q&&(v=n,n=q,q=v);r>c&&(v=r,r=c,c=v);return Math.abs(n-r)>f||Math.abs(q-c)>f?!1:!0};XODText.bb.inflate=function(a,e,c,b,g){var f=!1;avx_=new XODText.ca;avx_.init(1,0);avy_=new XODText.ca;avy_.init(0,1);if(1E-4<=Math.abs(b.x-1)||1E-4<=Math.abs(b.y-
0)&&1E-4<=Math.abs(g.x-0)||1E-4<=Math.abs(g.y-1)){var f=!0,k=new XODText.Ea;k.Pa(b.x,g.x,b.y,g.y,0,0);k=k.inverse();avx_.x=k.m_a;avx_.y=k.m_b;avy_.x=k.m_c;avy_.y=k.m_d}for(var k=XODText.Vc.Mj,h=XODText.Vc.pi,l=XODText.Vc.Mj,m=XODText.Vc.pi,n,q,r=0,v=0,p=0;4>p;++p){var u=new XODText.ca;u.init(a[2*p],a[2*p+1]);f?(n=u.Sb(avx_),q=u.Sb(avy_)):(n=u.x,q=u.y);p?(k>n&&(k=n,r=u.x),h<n&&(h=n),l>q&&(l=q,v=u.y),m<q&&(m=q)):(k=h=n,l=m=q,r=u.x,v=u.y);for(u=0;u<c;++u){var w=new XODText.ca;w.init(e[8*u+2*p],e[8*u+
2*p+1]);f?(n=w.Sb(avx_),q=w.Sb(avy_)):(n=w.x,q=w.y);k>n&&(k=n,r=w.x);h<n&&(h=n);l>q&&(l=q,v=w.y);m<q&&(m=q)}}e=new XODText.ca;e.init(r,v);r=e.Sb(g);c=XODText.ca.multiply(b,k-e.Sb(b));r=XODText.ca.multiply(g,l-r);e.x+=c.x+r.x;e.y+=c.y+r.y;f?(f=b.x,e=g.x,b=b.y,g=g.y,a[0]=f*k+e*l,a[1]=b*k+g*l,a[2]=f*h+e*l,a[3]=b*h+g*l,a[4]=f*h+e*m,a[5]=b*h+g*m,a[6]=f*k+e*m,a[7]=b*k+g*m):(a[0]=k,a[1]=l,a[2]=h,a[3]=l,a[4]=h,a[5]=m,a[6]=k,a[7]=m)};XODText.bb.prototype={_init:function(a,e,c,b,g,f,k,h){this.x1=a;this.y1=
e;this.x2=c;this.y2=b;this.zl=g;this.Cl=f;this.Al=k;this.Dl=h},yC:function(a,e,c,b,g,f,k,h){this.x1=a;this.y1=e;this.x2=c;this.y2=b;this.zl=g;this.Cl=f;this.Al=k;this.Dl=h},Ng:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.zl,y3:this.Cl,x4:this.Al,y4:this.Dl}},HN:function(){var a=this.Ng(),e=Math.min(a.x1,a.x2,a.x3,a.x4),c=Math.max(a.x1,a.x2,a.x3,a.x4),b=Math.min(a.y1,a.y2,a.y3,a.y4),g=Math.max(a.y1,a.y2,a.y3,a.y4);a.x1=e;a.x2=c;a.x3=c;a.x4=e;a.y1=b;a.y2=b;a.y3=g;a.y4=g;return a},
x1:0,y1:0,x2:0,y2:0,zl:0,Cl:0,Al:0,Dl:0};XODText.Ea=function(){};XODText.Ea.ol=function(a){var e=Math.cos(a);a=Math.sin(a);1E-7>Math.abs(a)&&(a=0);1E-7>Math.abs(e)&&(e=0);var c=new XODText.Ea;c.Pa(e,-a,a,e,0,0);return c};XODText.Ea.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,tn:function(a){this.m_a=a.m_a;this.m_b=a.m_b;this.m_c=a.m_c;this.m_d=a.m_d;this.m_h=a.m_h;this.m_v=a.m_v},Pa:function(a,e,c,b,g,f){this.m_a=a;this.m_b=e;this.m_c=c;this.m_d=b;this.m_h=g;this.m_v=f},set:function(a,e,c,b,g,f){this.m_a=
a;this.m_b=e;this.m_c=c;this.m_d=b;this.m_h=g;this.m_v=f},inverse:function(){var a=new XODText.Ea,e=this.m_a*this.m_d-this.m_b*this.m_c;if(!e)return a;a.m_a=this.m_d/e;a.m_c=-this.m_c/e;a.m_h=(this.m_c*this.m_v-this.m_h*this.m_d)/e;a.m_b=-this.m_b/e;a.m_d=this.m_a/e;a.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/e;return a},aa:function(a){var e=a.x;a.x=a.x*this.m_a+a.y*this.m_c+this.m_h;a.y=e*this.m_b+a.y*this.m_d+this.m_v;return a},concat:function(a){var e=this.m_a,c=this.m_b,b=this.m_c,g=this.m_d;
this.m_a=a.m_a*e+a.m_b*b;this.m_b=a.m_a*c+a.m_b*g;this.m_c=a.m_c*e+a.m_d*b;this.m_d=a.m_c*c+a.m_d*g;this.m_h=a.m_h*e+a.m_v*b+this.m_h;this.m_v=a.m_h*c+a.m_v*g+this.m_v},$D:function(a){return this.m_a==a.m_a&&this.m_b==a.m_b&&this.m_c==a.m_c&&this.m_d==a.m_d&&this.m_h==a.m_h&&this.m_v==a.m_v},ZH:function(a){var e=new XODText.vd(a[0],a[1]),c=new XODText.vd(a[2],a[3]),b=new XODText.vd(a[4],a[5]),g=new XODText.vd(a[6],a[7]),e=this.aa(e),c=this.aa(c),b=this.aa(b),g=this.aa(g);a[0]=e.x;a[1]=e.y;a[2]=c.x;
a[3]=c.y;a[4]=b.x;a[5]=b.y;a[6]=g.x;a[7]=g.y},YH:function(a){var e=Array(8);e[0]=a.x1;e[1]=a.y1;e[2]=a.x2;e[3]=a.y1;e[4]=a.x2;e[5]=a.y2;e[6]=a.x1;e[7]=a.y2;this.ZH(e);a.sl(e)}};XODText.Ro=function(){};XODText.Ro.kK=function(a,e){return a.Tc<e.Tc||a.Tc===e.Tc&&a._position<e._position||a.Tc===e.Tc&&a._position===e._position&&a.mk<e.mk?-1:a.Tc===e.Tc&&a._position===e._position&&a.mk===e.mk?0:1};XODText.Ro.prototype={_init:function(){this.Xr=[]},_add:function(a){this.Xr.add(a)},_clear:function(){this.Xr.clear()},
lK:function(a,e){e.clear();for(var c=[],b=T.De.getEnumerator(this.Xr);b.Ug();){var g=b.current;c.add(g)}c.sort(XODText.Ro.kK);for(var b="",f,k=[],h=[],l=XODText.Rr.eB,m=0;m<c.length;++m)if(g=c[m],!(0>g.Tc||g.Tc>=a.length||0>g._position||0>=g.mk)){if(-1!==g.Tc){k=a[g.Tc].text;if(!k.ready())return!1;b=k.Qa;f=k.Vb;k=k.Oe();if(!b.length||b.length!==f.length||8*b.length!==k.length)continue;for(var l=XODText.Rr.eB,n=T.De.getEnumerator(f);n.Ug();){var q=n.current;q>l&&(l=q)}h.clear();for(var r=0;r<l+1;++r)h.add(-1);
for(r=0;r<f.length;++r)n=f[r],0<=n&&(h[n]=r)}f=Array(8);for(n=g._position;n<g._position+g.mk&&!(n>l);++n)if(q=h[n],!(0>q)){for(r=0;8>r;++r)f[r]=k[8*q+r];var v=!1;if(1<=e.length&&(r=e[e.length-1],r.Tc===g.Tc)){var p=f[0]-f[2],u=f[1]-f[3];XODText.bb.bs(r.Lf,f,!0,Math.sqrt(p*p+u*u))&&(v=b.charAt(q),r.Jw.insert(r.Jw.length,v),v=!0)}v||(v=b.charAt(q),q=new XODText.qw,q.To(g.Tc,v,f),e.add(q))}}return 0<e.length},Xr:null};XODText.Qo=function(){};XODText.Qo.prototype={To:function(a,e,c){this.Tc=a;this._position=
e;this.mk=c},Tc:0,_position:0,mk:0};XODText.qw=function(){};XODText.qw.prototype={To:function(a,e,c){this.Tc=a;this.Jw=e;this.Lf=Array(8);for(a=0;8>a;++a)this.Lf[a]=c[a]},Tc:0,Jw:null,Lf:null};XODText.ks=function(){this.df=new XODText.Ja;this.Bw=new XODText.Ja};XODText.ks.prototype={df:null,Bw:null,nh:null,oh:null};XODText.eb=function(){};XODText.Yb=function(){};XODText.je=function(){this.um={};this.Jf=0;this.$a=this.om=this.Wr=this.wd=-1;this.Aw=this.Gi=this.Zr=this.nk=!1;this.bf=[];this.Ec=[];this.Kf=
[];this.fb=this.Ka="";this.xd=[];this.yg=[];this.pm=[];this.yw=[];this.Ha={};this.Ha[" "]=null;this.Ha["\t"]=null;this.Ha["\n"]=null;this.Ha["."]=null;this.Ha[","]=null;this.Ha["?"]=null;this.Ha[":"]=null;this.Ha[";"]=null;this.Ha['"']=null;this.Ha["'"]=null;this.Ha["<"]=null;this.Ha[">"]=null;this.Ha["`"]=null;this.Ha["~"]=null;this.Ha["!"]=null;this.Ha["@"]=null;this.Ha["#"]=null;this.Ha.$=null;this.Ha["%"]=null;this.Ha["^"]=null;this.Ha["&"]=null;this.Ha["("]=null;this.Ha[")"]=null;this.Ha["["]=
null;this.Ha["]"]=null;this.Ha["{"]=null;this.Ha["}"]=null;this.Ha["|"]=null;this.Ha._=null;this.Ha["\\"]=null;this.Ha["-"]=null;this.Ha["="]=null;this.Ha["+"]=null;this.Ha["/"]=null;this.Ha["*"]=null};XODText.je.Fg=function(a,e){for(var c=0,b=a.length-1,g=Math.floor((c+b)/2);a[g]!==e&&c<b;)e<a[g]?b=g-1:e>a[g]&&(c=g+1),g=Math.floor((c+b)/2);return a[g]!==e?!1:!0};XODText.je.prototype={rL:function(a,e,c,b,g){this.Zr=!1;this.le=a.Ib();if(0>this.le.length||0>e.length||0<=b&&b>g)return!1;this.Jf=c;if(!this.AC(e))return!1;
a=b;e=this.le.length;if(0>a)if(0>g)a=0,g=e-1;else return!1;else if(g<a)return!1;console.assert(0<=a&&a<=g);if(a>=e||g>=e)return!1;this.Wr=a;this.om=g;this.wd=this.Qg()?this.om:this.Wr;++this.om;this.fb=this.Ka="";this.yg.clear();this.pm.clear();this.bf.clear();this.Ec.clear();this.Zr=!0;this.$a=-1;this.nk=!1;return!0},run:function(a){var e=-1,c=-1,b=-1,g="",f="",k=new XODText.Ro;k._init();k._clear();if(!this.Zr||0>=this.pk.text.length)return new XODText.ih(XODText.Yb.Ck,b,g,f,e,c);for(var h="",l=
-1,m=-1;;){if(this.wd===this.om)return new XODText.ih(XODText.Yb.Ck,b,g,f,e,c);var n=!0;if(!this.Ka.length||this.$a===this.Ka.length){if(!this.Qg()){if(this.$a===this.Ka.length){if(this.CF()&&!this.nk)return this.nk=!0,b=this.wd,new XODText.ih(XODText.Yb.bt,b,g,f,e,c);++this.wd}if(this.wd===this.om)return new XODText.ih(XODText.Yb.Ck,b,g,f,e,c)}else if(this.$a===this.Ka.length){if(this.CF()&&!this.nk)return this.nk=!0,b=this.wd,new XODText.ih(XODText.Yb.bt,b,g,f,e,c);if(this.wd===this.Wr)return new XODText.ih(XODText.Yb.Ck,
b,g,f,e,c);--this.wd}(n=this.iw(this.wd))?this.Qg()?(this.$a=this.Ka.length,--this.$a):this.$a=0:this.$a=0}this.nk=!1;n&&(console.assert(this.$a!==this.Ka.length),c=this.rK(k),h=c.ow,l=c.Mr,m=c.Lr,f=c.Br,e=c.hs,c=c.gs);if(n&&l!==this.Ka.length){console.assert(0<h.length);g=h;b=this.wd;this.Qg()?(this.$a=l)?--this.$a:this.$a=this.Ka.length:this.$a=m;if(this.Zp())for(a.clear(),h=[],k.lK(this.le,h),k=0;k<h.length;++k)l=new XODText.bb,m=h[k],l.x1=m.Lf[0],l.y1=m.Lf[1],l.x2=m.Lf[2],l.y2=m.Lf[3],l.zl=m.Lf[4],
l.Cl=m.Lf[5],l.Al=m.Lf[6],l.Dl=m.Lf[7],a.add(l);return new XODText.ih(XODText.Yb.xp,b,g,f,e,c)}this.$a=this.Ka.length}},AC:function(a){if(0>=a.length)return!1;for(var e="",c=a.length,b=!1,g=0;g<c;++g){var f=this.ds(a.charAt(g));" "===f?b||(e+=f,b=!0):(b=!1,e+=f)}this.eC=e;this.Kf.clear();a="";for(g=0;g<e.length;++g)f=e.charAt(g),this.kk(f)?this.Kf.add(a.length-1):a+=f;this.Tt()||(a=a.toLowerCase());this.pk=this.kP()?new XODText.Ov(a,"r"):this.tP()?new XODText.Ov(a,"w"):new XODText.Ov(a,"");g=this.Gi;
this.pk.text.length?this.Gi=!1:(this.pk.text=e,this.Kf.clear(),this.Gi=!0);this.Gi!==g&&0<this.Ka.length&&!this.iw(this.wd)&&(this.$a=this.Ka.length);return!0},setMode:function(a){var e=this.Zp(),c=this.Tt(),b=this.Qg();this.Jf=a;var g=this.Zp();a=this.Tt();var f=this.Qg(),k=!1;c!==a&&this.AC(this.eC);if(!(0>=this.Ka.length)){e!==g&&g&&!k&&(console.assert(0<=this.$a&&this.$a<=this.Ka.length),this.iw(this.wd),k=!0);if(c!==a&&!k){console.assert(this.xd.length===this.Ka.length);console.assert(this.xd.length<=
this.fb.length);e=this.Ka.length;c="";for(g=0;g<e;++g)console.assert(0<=this.xd[g]&&this.xd[g]<this.fb.length),c+=this.ds(this.fb.charAt(this.xd[g]));this.Ka=c;a||(this.Ka=this.Ka.toLowerCase())}if(b!==f)if(console.assert(0<=this.$a&&this.$a<=this.Ka.length),this.$a!==this.Ka.length)if(f)for(g=0;2>g;++g)this.$a&&--this.$a;else for(g=0;2>g;++g)this.$a!==this.Ka.length&&++this.$a;else f?(this.$a=this.Ka.length,--this.$a):this.$a=0}},Zp:function(){return 0<(this.Jf&XODText.eb.UD)},dP:function(){return 0<
(this.Jf&XODText.eb.SD)},Tt:function(){return 0<(this.Jf&XODText.eb.TD)},tP:function(){return 0<(this.Jf&XODText.eb.YD)},kP:function(){return 0<(this.Jf&XODText.eb.WD)},sP:function(){return 0<(this.Jf&XODText.eb.XD)},Qg:function(){return 0<(this.Jf&XODText.eb.Gx)},CF:function(){return 0<(this.Jf&XODText.eb.VD)},rK:function(a){var e,c,b,g=this.cK();c=g.Mr;b=g.Lr;ambient=g.Br;var f=g.hs,k=g.gs;if(c===this.Ka.length)return g;var h,l;e=this.pK(0,0,c,b,b-c);h=e.wC;l=e.JB;for(var m="",n=h;n<l;++n)m+=this.fb.charAt(n);
e=m;m="";if(this.dP()){var q=h,r=l,f=this.fb.length,v=k=0,p=n=!1,u=!1;if(q)for(--q;q;){var w=this.fb.charAt(q);n&&this.lh(w)&&v++;n||!u||this.lh(w)||(n=p=!0);if(30<=k||0<v){q++;break}if(this.yg.length>q&&-2===this.yg[q]){var z=this.fb.charAt(q+1);if("A"<=z&&"Z">=z){++q;p=!0;break}}--q;k++;u=u||this.lh(w)||"\n"===w}p||(q=h);n=r;for(v=0;r!==f;){this.lh(this.fb.charAt(r))&&(n=r-1,v++);if(10<=v||70<=k){r===f-1||this.lh(this.fb.charAt(r+1))||(r=n);break}r++}r===f&&--r;for(n=q;n<=r;++n)f=this.fb.charAt(n),
m="\n"===f?m+" ":m+f;f=h-q;k=l-q}g.Br=m;if(this.Zp()){console.assert(this.fb.length===this.yg.length);console.assert(l>=h);m=l-h;v=[];for(n=h;n<l;++n)v.insert(v.length,this.yg[n]);for(h=0;h<m&&0>v[h];)++h;for(n=l=h;h<m;)if(q=v[h],h===m-1)p=this.wd,q=v[n],r=v[h],0>r&&(r=v[l]),console.assert(0<=p&&0<=q&&r>=q),u=new XODText.Qo,u.To(p,q,r-q+1),a._add(u),++h;else if(-1===q)console.assert(0<=v[l]),++h;else if(-2===q){console.assert(0<=v[l]);p=this.wd;q=v[n];r=v[l];console.assert(0<=p&&0<=q&&r>=q);u=new XODText.Qo;
u.To(p,q,r-q+1);a._add(u);for(++h;h<m&&0>v[h];)++h;n=l=h}else 0<=q&&(console.assert(0<=v[l]),l===h||this.nK(v,l,h)?(l=h,++h):(p=this.wd,q=v[n],r=v[l],console.assert(0<=p&&0<=q&&r>=q),u=new XODText.Qo,u.To(p,q,r-q+1),a._add(u),n=l=h))}g.ow=e;g.Mr=c;g.Lr=b;g.hs=f;g.gs=k;return g},nm:null,Eb:null,MB:function(d){return d.replace(a,"\\$&")},MK:function(a,e,c){Object.bq(this.um,a.text)?this.Eb=this.um[a.text]:(this.Eb=a.DF?{re:new RegExp(a.text,"g"),matches:null}:{re:new RegExp(this.MB(a.text),"g"),matches:null},
this.um[a.text]=this.Eb);this.Eb.re.lastIndex=c;this.nm=this.Eb.re.exec(e);return null!=this.nm?{start:this.Eb.re.lastIndex-this.nm[0].length,length:this.nm[0].length}:{start:-1,length:0}},NK:function(a,e,c){this.Eb=null;Object.bq(this.um,a.text)&&(this.Eb=this.um[a.text]);if(null===this.Eb||null==this.Eb.matches)this.Eb=a.DF?{re:new RegExp(a.text,"g"),matches:[],Nz:null}:{re:new RegExp(this.MB(a.text),"g"),matches:[],Nz:null},this.um[a.text]=this.Eb;if(this.Eb.Nz!==e){for(this.Eb.matches=[];null!==
(this.nm=this.Eb.re.exec(e));)this.Eb.matches.push({start:this.nm.index,end:this.Eb.re.lastIndex});this.Eb.Nz=e}if(0<this.Eb.matches.length)for(a=this.Eb.matches.length-1;0<=a;a--)if(this.Eb.matches[a].end<c)return{start:this.Eb.matches[a].start,length:this.Eb.matches[a].end-this.Eb.matches[a].start};return{start:-1,length:0}},cK:function(){var a,e,c,b;c=this.$a;for(b=this.Ka.length;;){var g=!1;console.assert(0<this.pk.text.length);if(this.Qg()){if(c===b){a=e=b;break}e=this.NK(this.pk,this.Ka,c)}else e=
this.MK(this.pk,this.Ka,c);a=e.start;if(0>a){a=e=b;break}e=e.start+e.length;this.Qg()?(c=a,0!==c?--c:c=b):c=e;if(!this.Gi)if(0<this.Kf.length)if(this.bf.length||this.Ec.length){for(var f=this.Ec.length,k=this.bf.length,h=a-0,l=T.De.getEnumerator(this.Kf);l.Ug();){var m=l.current,m=h+m;if(!XODText.je.Fg(this.bf,m)&&!XODText.je.Fg(this.Ec,m)){g=!0;break}}if(g)continue;for(var l=a-0,n=e-0-1,q=m=this.ww(this.Ec,l);q!==f;++q){var r=this.Ec[q];if(r>=l&&r<n&&(m=r-h,!XODText.je.Fg(this.Kf,m))){g=!0;break}if(r>=
n)break}if(g)continue;for(q=m=this.ww(this.bf,l);q!==k;++q){r=this.bf[q];if(r>=l&&r<n&&(m=r-h,!XODText.je.Fg(this.Kf,m))){g=!0;break}if(r>=n)break}if(g)continue}else continue;else if(this.Ec.length)for(l=a-0,n=e-0-1,f=this.Ec.length,q=m=this.ww(this.Ec,l);q!==f&&(r=this.Ec[q],r>=l&&r<n||!(r>=n));++q);if(this.sP()){if(0!==a&&(r=a-0-1,!(XODText.je.Fg(this.bf,r)||XODText.je.Fg(this.Ec,r)||this.lh(this.Ka.charAt(a))||this.lh(this.Ka.charAt(a-1)))))continue;if(e!==b&&(r=e-0-1,!(XODText.je.Fg(this.bf,r)||
XODText.je.Fg(this.Ec,r)||this.lh(this.Ka.charAt(e-1))||this.lh(this.Ka.charAt(e)))))continue}break}return new XODText.Nv("",a,e,"",-1,-1)},lh:function(a){return Object.bq(this.Ha,a)?!0:this.Ur(a)||this.CK(a)},ww:function(a,e){var c=a.indexOf(e);0>c&&(c=~c);return c},ds:function(a){a=a.charCodeAt(0);if(39===a||8217===a)a=39;else if(34===a||8220===a||8221===a)a=34;return String.fromCharCode(a)},kk:function(a){var e=a;a=a.charCodeAt(0);return"-"===e||8208===a||8209===a||65293===a||173===a},BK:function(a){var e=
a;a=a.charCodeAt(0);return","===e||65292===a||65294===a},CK:function(a){var e=a;a=a.charCodeAt(0);return 32<a&&48>a||57<a&&65>a||90<a&&97>a||122<a&&127>a||this.BK(e)||this.kk(e)||173===a||1642<=a&&(1645>=a||8210<=a&&8231>=a||8240<=a&&8269>=a||8592<=a&&9215>=a||12441<=a&&12444>=a||65281<=a&&65291>=a||65295===a||65306<=a&&65312>=a||65344===a||65371<=a&&65374>=a)?!0:!1},Ur:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},
iw:function(a){if(0>a||a>=this.le.length)return!1;this.fb=this.Ka="";this.xd.clear();this.bf.clear();this.Ec.clear();var e=this.Zp(),c=[],b=[];if(e){var g=this.le[a].text;if(!g.ready())return!1;a=g.Qa;c=g.Vb;b=g.Oe();this.yg.clear();this.Aw&&this.yw.clear()}else{g=this.le[a].text;if(!g.ready())return!1;a=g.Qa}if(0>=a.length)return!1;for(var g="",f=a.length,k=-1,h=0;h<f;++h){var l=a.charAt(h),m=-1;e&&(m=c[h]);if("\n"===l){for(l=h-1;0<=l&&" "===a.charAt(l);)--l;if(!(0>l||this.kk(a.charAt(l)))){for(l=
h+1;l<f&&" "===a.charAt(l);)++l;l>=f||this.kk(a.charAt(l))||(g+=" ",this.xd.add(this.fb.length),this.fb+=" ",e&&(k=k<m?m:k,this.cw(m,b,8*h)))}}else if(" "===l)h<f-1&&("\n"===a.charAt(h+1)||" "===a.charAt(h+1))||(g+=l,this.xd.add(this.fb.length),this.fb+=l,e&&(k=k<m?m:k,this.cw(m,b,8*h)));else{if(this.kk(l))if(this.Gi)g+=this.ds(l),this.xd.add(this.fb.length);else{var n=g.length-1;h<f-1&&"\n"===a.charAt(h+1)?this.bf.add(n):this.Ec.length&&n===this.Ec[this.Ec.length-1]||this.Ec.add(n)}else g+=this.ds(l),
this.xd.add(this.fb.length);this.fb+=l;e&&(k=k<m?m:k,this.cw(m,b,8*h))}}console.assert(g.length===this.xd.length);this.Ka=g;if(e){f=this.yg.length;this.pm.clear();for(h=0;h<k+1;++h)this.pm.add(!0);for(h=0;h<f;++h)m=this.yg[h],0<=m&&(this.pm[m]=!1)}this.Tt()||(this.Ka=this.Ka.toLowerCase());this.bf.sort();this.Ec.sort();this.Kf.sort();return!0},cw:function(a,e,c){this.yg.add(a);if(this.Aw)for(a=c;a<c+8;++a)this.yw.add(e[a])},pK:function(a,e,c,b,g){c?(a=this.xd[c-1],++a):a=0;b<this.xd.length?e=this.xd[b]:
(e=this.xd[b-1],e===this.fb.length-1&&++e);console.assert(a>=c&&e>=b&&e>=a);if(!this.Gi){if(!XODText.je.Fg(this.Kf,g-1))for(;0<e&&this.kk(this.fb.charAt(e-1));)--e;c=this.fb.length;if(!XODText.je.Fg(this.Kf,-1))for(;a<c-1&&this.kk(this.fb.charAt(a));)++a;e<a&&(console.assert(!1),e=a)}return new XODText.Mv(a,e)},nK:function(a,e,c){console.assert(0<=e&&e<=c&&e<a.length&&c<a.length);e=a[e];a=a[c];if(e===a||e+1===a)return!0;for(c=!0;0<=e&&e<a-1;)if(!this.pm[++e]){c=!1;break}return c},Zr:!1,le:null,Jf:0,
Ha:null,wd:0,Wr:0,om:0,$a:0,nk:!1,fb:null,Ka:null,xd:null,yg:null,pm:null,pk:null,Gi:!1,eC:null,bf:null,Ec:null,Kf:null,yw:null,Aw:!1};XODText.vi=function(a){this.ia="";this.Yr=-1;this.Aa=[];this.La="";this.le=a.Ib();this.vb=new XODText.Ye;this.vb.Jb();this.kb=[];this.as=[];this.$r=[]};XODText.vi.prototype={Oe:function(){for(var a=this.Aa.length/8,e=[],c=0;c<a;++c){var b=new XODText.bb,g=8*c;b.yC(this.Aa[g],this.Aa[g+1],this.Aa[g+2],this.Aa[g+3],this.Aa[g+4],this.Aa[g+5],this.Aa[g+6],this.Aa[g+7]);
e.add(b)}return e},Ur:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},xC:function(a,e){this.Aa.clear();this.La="";e.normalize();var c=[],b="",g;for(g=a-1;g<a+2;g++)this.Ii(g)&&(c.push({idx:g,Af:this.ia}),b+=this.ia);if(0===c.length||0===b.length||!this.Ii(a))return!1;var f=new XODText.Ja,k=Array(8),h,l,m=new XODText.Nb;m.Jb();var n,q=new XODText.tb;q.Jb();var r=[],v=!1;for(l=this.vb.Kp();!l.qa(m);l=l.oe())if(l.ob(f),
f.normalize(),!e.mq(f)){var p=[null,null],u=[null,null],w=-1;h=-1;for(n=l.Fb();!n.qa(q);n=n.Vd())if(n.Kc(k),f.sl(k),!e.mq(f)){h=n.Uf();var z=n.Ya();-1===w&&(w=z);g=r.length;if(0<h&&0<g){v&&("\n"!==r[0]&&(this.Ur(r[g-1])?r[g-1]="\n":r.add("\n")),v=!1);for(g=0;g<r.length;++g)this.La+=r[g];r.clear()}for(g=0;g<=h;++g)z+g<this.ia.length&&(g<h?this.La+=this.ia.charAt(z+g):r.add(this.ia.charAt(z+g)));if(0<h){g=f.x2-f.x1;var C=f.y2-f.y1;this.Bg(k,Math.sqrt(g*g+C*C)/h*3)}h=z+h}v=!0;p[0]=w;for(g=n=0;g<c.length;g++)if(c[g].idx===
a){n+=p[0];break}else c[g].idx<a&&(n+=c[g].Af.length);u[0]=b.substring(Math.max(0,n-100),n);if(-1!==h){p[1]=h;for(g=n=0;g<c.length;g++)if(c[g].idx===a){n+=h;break}else c[g].idx<a&&(n+=c[g].Af.length);u[1]=b.substr(n+1,100)}null!==p[0]&&null!==p[1]&&this.$r.push(p);null!==u[0]&&null!==u[1]&&this.as.push(u)}return 0<this.Aa.length},jK:function(){var a,e=new XODText.Nb;e.Jb();var c=Array(8),b=Array(8),g=.1,f=-100;for(a=this.vb.Kp();!a.qa(e);a=a.oe()){var k=new XODText.ca,h=new XODText.ca,l=new XODText.tb;
l.Jb();var m=a.Fb(),n=new XODText.tb;n.Jb();for(var q=a.Fb();!q.qa(l);q=q.Vd())n=q;m.ld(0,c);k.x=(c[0]+c[2]+c[4]+c[6])/4;k.y=(c[1]+c[3]+c[5]+c[7])/4;n.ld(n.Ub()-1,b);h.x=(b[0]+b[2]+b[4]+b[6])/4;h.y=(b[1]+b[3]+b[5]+b[7])/4;l=XODText.ca.distance(k,h);l>g&&(f=Math.atan2(h.y-k.y,h.x-k.x),f*=180/3.1415926,f=Math.round(f),0>f&&(f+=360),g=l)}this.nc=f;this.zw=2>Math.abs(this.nc)||2>Math.abs(this.nc-180)},gH:function(a,e){this.Aa.clear();this.La="";e.normalize();var c=[],b="",g;for(g=a-1;g<a+2;g++)this.Ii(g)&&
(c.push({idx:g,Af:this.ia}),b+=this.ia);if(0===c.length||0===b.length||!this.Ii(a))return!1;var f=new XODText.Ja,k=Array(8),h,l,m,n=new XODText.Nb;n.Jb();var q,r=new XODText.tb;r.Jb();var v=[],p=!1;for(m=this.vb.Kp();!m.qa(n);m=m.oe())if(m.ob(f),f.normalize(),!e.mq(f)){var u=[null,null],w=[null,null],z=-1,C=!0;for(q=m.Fb();!q.qa(r);q=q.Vd())if(q.Kc(k),f.sl(k),!e.mq(f)){h=q.Uf();var A=q.Ya(),y=v.length;if(0<h&&0<y){p&&("\n"!==v[0]&&(this.Ur(v[y-1])?v[y-1]="\n":v.add("\n")),p=!1);for(g=0;g<v.length;++g)this.La+=
v[g];v.clear()}var y=0,x=Array(8),E=Array(8),G=!1,B=!1;for(l=0;l<h;++l){var I=A+l;if(I<this.ia.length){g=Array(8);var H=new XODText.Ja;q.ld(l,g);H.sl(g);if(e.mq(H))0===y?G=!0:B=!0;else{z=I;y++;if(1===y){if(C){u[0]=I;for(g=C=0;g<c.length;g++)if(c[g].idx===a){C+=I;break}else c[g].idx<a&&(C+=c[g].Af.length);w[0]=b.substring(Math.max(0,C-100),C);C=!1}G&&q.ld(l,x)}q.ld(l,E);l<h?this.La+=this.ia.charAt(I):v.add(this.ia.charAt(I))}}}"\n"!=v[h]&&v.push(" ");0<y&&(G&&this.dk(k,x,!0),B&&this.dk(k,E,!1),f.sl(k),
h=f.x2-f.x1,A=f.y2-f.y1,this.Bg(k,Math.sqrt(h*h+A*A)/y*3))}p=!0;if(-1!==z){u[1]=z;for(g=q=0;g<c.length;g++)if(c[g].idx===a){q+=z;break}else c[g].idx<a&&(q+=c[g].Af.length);w[1]=b.substr(q+1,100)}null!==u[0]&&null!==u[1]&&this.$r.push(u);null!==w[0]&&null!==w[1]&&this.as.push(w)}return 0<this.Aa.length},ZN:function(a,e,c){for(var b=[],g=-1,f="",k=0;k<e.length;k++){var h=this.jO(a,e[k][0],e[k][1]);if(h.status)-1!==g||void 0===h.il||null===h.il||isNaN(h.il)||(g=h.il),h.il===g&&Array.prototype.push.apply(b,
h.value),f+=this.La;else break}-1===g&&(g=0);return 0===b.length?{status:!1}:f.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,value:b,il:g}},jO:function(a,e,c,b){if(20>=e.length||20>=c.length)return{status:!1};var g=[],f="",k=[],h=!0,l=0,m,n;for(m=a-1;m<a+2;m++)if(this.Ii(m))if(g.push({idx:m,Af:this.ia}),f+=this.ia,null!==this.le[m].text.qm){for(n=0;n<this.le[m].text.qm.length;n++)k.push(this.le[m].text.qm[n]+l);l+=this.ia.length}else h=!1;if(0===g.length||0===f.length)return{status:!1};
l=[];m=0;h?(n=f.replace(/( |\n)/gm,""),e=e.replace(/( |\n)/gm,"")):n=f;for(;!(0===n.length||n.length<e.length||(a=n.indexOf(e),0>a));)l.push(m+a+e.length),n=n.substr(a+1),m+=a+1;if(0===l.length)return{status:!1};e=[];m=l[0]+1;h?(n=f.replace(/( |\n)/gm,"").substring(l[0]+1),c=c.replace(/( |\n)/gm,"")):n=f.substring(l[0]+1);for(;!(0===n.length||n.length<c.length||(a=n.indexOf(c),0>a));)e.push(m+a),n=n.substr(a+1),m+=a+1;if(0===e.length)return{status:!1};c=[];for(m=0;m<l.length;m++)for(n=0;n<e.length;n++)if(l[m]+
1<=e[n]&&(a=[],a.push(l[m]),a.push(e[n]),c.push(a)),1<c.length)return{status:!1};if(1!==c.length)return{status:!1};if(h){for(m=0;m<k.length&&!(c[0][0]<k[m]);m++)c[0][0]++;for(m=0;m<k.length&&!(c[0][1]<k[m]);m++)c[0][1]++}h=[0,0];k=-1;for(m=l=0;m<g.length;m++){e=g[m].Af;if(c[0][0]>=l&&c[0][0]<l+e.length){k=g[m].idx;h[0]=c[0][0]-l;break}l+=e.length}if(-1===k)return{status:!1};n=-1;for(m=l=0;m<g.length;m++){e=g[m].Af;if(c[0][1]>=l&&c[0][1]<l+e.length){n=g[m].idx;h[1]=c[0][1]-l;break}l+=e.length}if(-1===
n)return{status:!1};if(k===n)g=this.vy(k,h[0],h[1]-1);else{for(m=0;m<g.length&&g[m].idx!==k;m++);g=this.vy(k,h[0],g[m].Af.length-1);this.La=f.substring(c[0][0],c[0][1])}if(g.status){if(b&&this.La.replace(/( |\n)/gm,"")!==b.replace(/( |\n)/gm,""))return{status:!1};g.il=k;return g}return{status:!1}},$N:function(a,e,c){for(var b=[],g="",f=0;f<e.length;f++){var k=Number(e[f][0]),h=Number(e[f][1]);if(isNaN(k)||isNaN(h))return exports.utils.warn("getRectangularSelectionFromTextIndices: could not parse index-based selectors as numbers."),
{status:!1};k=this.vy(a,k,h);if(k.status)Array.prototype.push.apply(b,k.value),g+=this.La;else return{status:!1}}return 0===b.length?{status:!1}:g.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,value:b}},vy:function(a,e,c,b){if(!this.Ii(a))return{status:!1};var g=new XODText.tb;g.Jb();a=new XODText.Nb;a.Jb();this.La=this.ia.substring(e,Math.min(c+1,this.ia.length));if(b&&this.La.replace(/( |\n)/gm,"")!==b.replace(/( |\n)/gm,""))return{status:!1};b=0;for(var f,k;;){if(b>=
this.kb.length)return{status:!1};f=this.kb[b].nh;k=this.kb[b].oh;if(k.Xc().Ya()+k.Xc().Ub()>=e&&f.Fb().Ya()<=e)break;b++}for(var h=this.kb[b],l=h.nh;;){if(l.qa(a))return{status:!1};if(this.rh(l.Ig())){if(l.Xc().Ya()+l.Xc().Ub()>=e&&l.Fb().Ya()<=e)break;if(l.qa(h.oh)||l.qa(a))return{status:!1};l=l.oe()}}for(var m=l.Fb();;){if(m.qa(g))return{status:!1};if(m.Ya()+m.Ub()>=e&&m.Ya()<=e)break;m=m.Vd()}for(var n=0;;){if(n>=this.kb.length)return{status:!1};f=this.kb[n].nh;k=this.kb[n].oh;if(k.Xc().Ya()+k.Xc().Ub()>=
c&&f.Fb().Ya()<=c)break;n++}for(var q=this.kb[n].nh;;){if(q.qa(a))return{status:!1};if(this.rh(q.Ig())){if(q.Xc().Ya()+q.Xc().Ub()>=c&&q.Fb().Ya()<=c)break;if(q.qa(h.oh))return{status:!1};q=q.oe()}}for(h=q.Fb();;){if(h.qa(g))return{status:!1};if(h.Ya()+h.Ub()>=c&&h.Ya()<=c)break;h=h.Vd()}for(var g=[],r=Array(4),v=b;v<=n;v++)if(f=this.kb[v].nh,k=this.kb[v].oh,v===b&&v!==n)for(f=l;!f.qa(a);f=f.oe()){if(this.rh(f.Ig())){var p=Array(8);f.qa(l)?m.Zm(Math.min(e-m.Ya(),m.Ub()-1),p):(f.Fb().ob(r),p[0]=r[0],
p[1]=r[3],p[6]=r[0],p[7]=r[1]);f.Xc().ob(r);p[2]=r[2];p[3]=r[3];p[4]=r[2];p[5]=r[1];g.push(p);if(f.qa(k))break}}else if(v!==b&&v===n)for(;;f=f.oe()){if(f.qa(a))return{status:!1};if(this.rh(f.Ig())&&(p=Array(8),f.qa(q)?h.Zm(Math.min(c-h.Ya(),h.Ub()-1),p):(f.Xc().ob(r),p[2]=r[2],p[3]=r[3],p[4]=r[2],p[5]=r[1]),f.Fb().ob(r),p[0]=r[0],p[1]=r[3],p[6]=r[0],p[7]=r[1],g.push(p),f.qa(q)))break}else if(v===b&&v===n)for(f=l;;f=f.oe()){if(f.qa(a))return{status:!1};if(this.rh(f.Ig())&&(p=Array(8),f.qa(l)&&!f.qa(q)?
(m.Zm(Math.min(e-m.Ya(),m.Ub()-1),p),f.Xc().ob(r),p[2]=r[2],p[3]=r[3],p[4]=r[2],p[5]=r[1]):!f.qa(l)&&f.qa(q)?(h.Zm(Math.min(c-h.Ya(),h.Ub()-1),p),f.Fb().ob(r),p[0]=r[0],p[1]=r[3],p[6]=r[0],p[7]=r[1]):f.qa(l)&&f.qa(q)?(m.Zm(Math.min(e-m.Ya(),m.Ub()-1),p),r[0]=p[6],r[1]=p[7],r[2]=p[2],r[3]=p[3],h.Zm(Math.min(c-h.Ya(),h.Ub()-1),p),p[0]=r[0],p[1]=r[3],p[6]=r[0],p[7]=r[1]):(f.Fb().ob(r),p[0]=r[0],p[1]=r[3],p[6]=r[0],p[7]=r[1],f.Xc().ob(r),p[2]=r[2],p[3]=r[3],p[4]=r[2],p[5]=r[1]),g.push(p),f.qa(q)))break}else for(;!(f.qa(a)||
this.rh(f.Ig())&&(p=Array(8),f.Fb().ob(r),p[0]=r[0],p[1]=r[3],p[6]=r[0],p[7]=r[1],f.Xc().ob(r),p[2]=r[2],p[3]=r[3],p[4]=r[2],p[5]=r[1],g.push(p),f.qa(k)));f=f.oe());return{status:!0,value:g}},eH:function(a,e){this.Aa.clear();this.La="";var c=[],b="",g;for(g=a-1;g<a+2;g++)this.Ii(g)&&(c.push({idx:g,Af:this.ia}),b+=this.ia);if(0===c.length||0===b.length||!this.Ii(a))return!1;var f,k,h,l,m=Array(8),n=Array(8),q=new XODText.Ja,r=new XODText.Nb,v=new XODText.Nb;r.Jb();v.Jb();var p=this.zw,u=this.zw,w,
z=new XODText.Nb;z.Jb();var C=new XODText.tb;C.Jb();var A=new XODText.ca;A.init(e.x1,e.y1);var y=new XODText.ca;y.init(e.x2,e.y2);v=this.qK(A,y,r,v);r=v.QB;v=v.bC;if(r.qa(z)||v.qa(z))return!1;y=new XODText.tb;A=new XODText.tb;y.Jb();A.Jb();k=f=XODText.Vc.Mj;for(var x=r.Fb();!x.qa(C);x=x.Vd())x.ob(m),p?(g=e.x1,w=e.y1):(w=m[0],m[0]=m[1],m[1]=w,w=m[2],m[2]=m[3],m[3]=w,g=e.y1,w=e.x1),h=(m[3]+m[1])/2,m[2]<=g?(l=m[2]-g,h-=w,h=l*l+h*h):m[0]>=g?(l=m[0]-g,h-=w,h=l*l+h*h):(h-=w,h*=h),h<f&&(f=h,y=x);for(x=v.Fb();!x.qa(C);x=
x.Vd())x.ob(m),u?(g=e.x2,w=e.y2):(w=m[0],m[0]=m[1],m[1]=w,w=m[2],m[2]=m[3],m[3]=w,g=e.y2,w=e.x2),h=(m[3]+m[1])/2,m[2]<=g?(l=m[2]-g,h-=w,h=l*l+h*h):m[0]>=g?(l=m[0]-g,h-=w,h=l*l+h*h):(h-=w,h*=h),h<k&&(k=h,A=x);if(y.qa(C)||A.qa(C))return!1;w=x=0;k=f=XODText.Vc.Mj;var E=y.Ub();for(g=0;g<E;++g)y.ld(g,m),l=(m[0]+m[2]+m[4]+m[6])/4,h=(m[1]+m[3]+m[5]+m[7])/4,l-=e.x1,h-=e.y1,h=l*l+h*h,h<f&&(f=h,x=g);E=A.Ub();for(g=0;g<E;++g)A.ld(g,m),l=(m[0]+m[2]+m[4]+m[6])/4,h=(m[1]+m[3]+m[5]+m[7])/4,l-=e.x2,h-=e.y2,h=l*l+
h*h,h<k&&(k=h,w=g);f=x+y.Ya();k=w+A.Ya();k<f&&(g=f,f=k,k=g);this.$r.push([f,k]);h=[null,null];for(g=l=0;g<c.length;g++)if(c[g].idx===a){l+=f;break}else c[g].idx<a&&(l+=c[g].Af.length);h[0]=b.substring(Math.max(0,l-100),l);for(g=f=0;g<c.length;g++)if(c[g].idx===a){f+=k;break}else c[g].idx<a&&(f+=c[g].Af.length);h[1]=b.substr(f+1,100);null!==h[0]&&null!==h[1]&&this.as.push(h);k=r.lb;g=v.lb;c=y.lb;b=A.lb;if(k===g){c>b&&(k=y,y=A,A=k,k=x,x=w,w=k);r.ob(q);if(c===b&&x===w&&(k=new XODText.Ja,!k.Rt(q,e)))return!1;
c===b?(w<x&&(k=x,x=w,w=k),k=w):k=y.Uf();y.ld(x,m);console.assert(p===u);p=y.Ya();console.assert(x<=k);for(u=x;u<=k;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<=k&&(y.Kc(n),p=n[0]-n[2],u=n[1]-n[3],p=Math.sqrt(p*p+u*u),p=p/(k+1)*3,this.dk(n,m,!0),c===b&&(q=Array(8),A.ld(w,q),this.dk(n,q,!1)),this.Bg(n,p));for(x=y=y.Vd();!x.qa(C)&&x.lb<A.lb;x=x.Vd()){k=x.Uf();p=x.Ya();for(u=0;u<=k;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<k&&(x.Kc(n),p=n[0]-n[2],u=n[1]-n[3],p=Math.sqrt(p*
p+u*u),p=p/k*3,this.Bg(n,p))}A.ld(w,m);k=A.Uf();if(c!==b){p=A.Ya();console.assert(w<=k);for(u=0;u<=w;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<k&&(A.Kc(n),p=n[0]-n[2],u=n[1]-n[3],p=Math.sqrt(p*p+u*u),p=p/k*3,this.dk(n,m,!1),this.Bg(n,p))}}else{k>g&&(p=r,r=v,v=p,k=y,y=A,A=k,k=x,x=w,w=k);r.ob(q);k=new XODText.Ja;k.Rt(q,e)||(y=r.Fb(),x=0);y.ld(x,m);k=y.Uf();p=y.Ya();console.assert(x<=k);for(u=x;u<=k;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<k&&(y.Kc(n),p=n[0]-n[2],u=n[1]-
n[3],p=Math.sqrt(p*p+u*u),p=p/k*3,this.dk(n,m,!0),this.Bg(n,p));for(x=y=y.Vd();!x.qa(C);x=x.Vd()){k=x.Uf();p=x.Ya();for(u=0;u<=k;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<k&&(x.Kc(n),p=n[0]-n[2],u=n[1]-n[3],p=Math.sqrt(p*p+u*u),p=p/k*3,this.Bg(n,p))}for(r=r.oe();!r.qa(v)&&!r.qa(z);r=r.oe())if(this.rh(r.Ig()))for(r.ob(q),x=r.Fb();!x.qa(C);x=x.Vd()){k=x.Uf();p=x.Ya();for(u=0;u<=k;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<k&&(x.Kc(n),p=n[0]-n[2],u=n[1]-n[3],p=Math.sqrt(p*
p+u*u),p=p/k*3,this.Bg(n,p))}v.ob(q);k=new XODText.Ja;k.Rt(q,e)||(A=v.dF(v.Kg()-1),w=A.Ub()-1);for(x=v.Fb();!x.qa(C)&&!x.qa(A);x=x.Vd()){k=x.Uf();p=x.Ya();for(u=0;u<=k;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<k&&(x.Kc(n),p=n[0]-n[2],u=n[1]-n[3],p=Math.sqrt(p*p+u*u),p=p/k*3,this.Bg(n,p))}A.ld(w,m);k=A.Uf();p=A.Ya();console.assert(w<=k);for(u=0;u<=w;++u)p+u<this.ia.length&&(this.La+=this.ia.charAt(p+u));0<k&&(A.Kc(n),p=n[0]-n[2],u=n[1]-n[3],p=Math.sqrt(p*p+u*u),p=p/k*3,this.dk(n,m,!1),
this.Bg(n,p))}return 0<this.Aa.length},Ii:function(a){if(0>a||a>=this.le.length)return!1;if(0>=this.Yr||this.Yr!==a){var e=this.le[a].text;if(null==e||!e.ready())return!1;this.vb=e;this.ia=this.vb.Qa;this.jK();this.iK();this.Yr=a}return!0},Bg:function(a,e){var c=this.Aa.length/8;if(c){for(var b=Array(8),c=8*(c-1),g=0;8>g;++g)b[g]=this.Aa[c+g];if(XODText.bb.bs(b,a,!0,e))for(g=0;8>g;++g)this.Aa[c+g]=b[g];else for(g=0;8>g;++g)this.Aa.add(a[g])}else for(var g=0;8>g;++g)this.Aa.add(a[g])},dk:function(a,
e,c){var b=new XODText.ca;b.init(a[0],a[1]);var g=new XODText.ca;g.init(a[2],a[3]);var f=XODText.ca.cg(g,b);f.normalize()&&(c?(g=new XODText.ca,g.init(e[0],e[1]),e=XODText.ca.cg(g,b).Sb(f),f=XODText.ca.multiply(f,e),a[0]+=f.x,a[1]+=f.y,a[6]+=f.x,a[7]+=f.y):(b=new XODText.ca,b.init(e[2],e[3]),e=XODText.ca.cg(b,g).Sb(f),f=XODText.ca.multiply(f,e),a[2]+=f.x,a[3]+=f.y,a[4]+=f.x,a[5]+=f.y))},WB:function(a){var e=XODText.Ea.ol(0),c=XODText.Ea.ol(1.570796325),b=XODText.Ea.ol(3.14159265),g=XODText.Ea.ol(3.14159265*
1.5);switch(parseInt(a/90+.1)){case 0:return e;case 1:return c;case 2:return b;case 3:return g;case 4:return e;default:return e}},rh:function(){return!0},EC:function(a,e){var c=this.WB(e),b=new XODText.vd(a.x1,a.y1),b=c.aa(b);a.x1=b.x;a.y1=b.y;b=new XODText.vd(a.x2,a.y2);b=c.aa(b);a.x2=b.x;a.y2=b.y;a.normalize()},iK:function(){this.kb.clear();var a,e=new XODText.Nb;e.Jb();var c=new XODText.Ja,b=new XODText.ks,g=!1;for(a=this.vb.Kp();!a.qa(e);a=a.oe())if(this.rh(a.Ig())){a.ob(c);c.normalize();var f=
new XODText.Ja;f.Pg(c);this.EC(c,this.nc);g?(this.kb.add(b),b=new XODText.ks,b.Bw.Pg(f),b.df.Pg(c),b.nh=a,b.oh=a):(b.Bw.Pg(f),b.df.Pg(c),b.nh=a,b.oh=a,g=!0)}g&&this.kb.add(b)},NB:function(a,e){for(var c=XODText.Vc.Mj,b=new XODText.Ja,g=a.nh,f=a.nh;;f=f.oe()){if(!this.rh(f.Ig()))if(f.qa(a.oh))break;else continue;f.ob(b);this.EC(b,this.nc);var k=(b.y1+b.y2)/2;Math.abs(k-e.y)<c&&(g=f,c=Math.abs(k-e.y));if(f.qa(a.oh))break}return g},fr:function(a,e,c){var b=XODText.ca.cg(e,a),g=XODText.ca.cg(c,a),f=g.Sb(b);
if(0>=f)return g.Sb(g);g=b.Sb(b);if(g<=f)return c=XODText.ca.cg(c,e),c.Sb(c);a=XODText.ca.En(a,XODText.ca.multiply(b,f/g));c=XODText.ca.cg(c,a);return c.Sb(c)},Av:function(a,e){var c=this.fr(new XODText.ca(e.x1,e.y1),new XODText.ca(e.x2,e.y1),a),b=this.fr(new XODText.ca(e.x2,e.y1),new XODText.ca(e.x2,e.y2),a),g=this.fr(new XODText.ca(e.x2,e.y2),new XODText.ca(e.x1,e.y2),a),f=this.fr(new XODText.ca(e.x1,e.y2),new XODText.ca(e.x1,e.y1),a);return Math.min(c,b,g,f)},qK:function(a,e,c,b){var g=-1,f=-1,
k=!1,h=!1,l=this.WB(this.nc),m=new XODText.ca,n=new XODText.ca;m.Qt(a);n.Qt(e);a=new XODText.vd(m.x,m.y);a=l.aa(a);m.x=a.x;m.y=a.y;a=new XODText.vd(n.x,n.y);a=l.aa(a);n.x=a.x;n.y=a.y;e=0;for(var q=this.kb.length;e<q;++e)l=this.kb[e],0>g&&l.df.contains(m.x,m.y)&&(g=e,h=!0),0>f&&l.df.contains(n.x,n.y)&&(f=e,k=!0);if(!h||!k){a=[];for(l=0;l<this.kb.length;++l)a.add(0);var l=Math.max(g,f),r=new XODText.Ja;r.Pa(m.x,m.y,n.x,n.y);r.VO(.1);0<=l&&r.union(this.kb[l].df);var v=new XODText.Ja;e=0;for(q=this.kb.length;e<
q;++e){var p=new XODText.Ja;p.Pg(this.kb[e].df);v.Rt(p,r)&&(a[e]=1)}e=a.indexOf(1);for(r=q=a.indexOf(1);-1!==q;){r=q;q++;if(q>=a.length)break;q=a.indexOf(1,q)}q=r;if(0>e)return new XODText.rr(c,b);0>l?(g=e,f=q,h=new XODText.Ja,h.Pg(this.kb[g].df),k=(m.x-h.x1)*(m.x-h.x2),k=0<k?Math.min(Math.abs(m.x-h.x1),Math.abs(m.x-h.x2)):0,l=(m.y-h.y1)*(m.y-h.y2),l=0<l?Math.min(Math.abs(m.y-h.y1),Math.abs(m.y-h.y2)):0,a=(n.x-h.x1)*(n.x-h.x2),a=0<a?Math.min(Math.abs(n.x-h.x1),Math.abs(n.x-h.x2)):0,e=(n.y-h.y1)*(n.y-
h.y2),e=0<e?Math.min(Math.abs(n.y-h.y1),Math.abs(n.y-h.y2)):0,k*k+l*l>a*a+e*e&&(h=g,g=f,f=h)):(r=new XODText.Ja,r.Pg(this.kb[l].df),a=new XODText.ca,h?a.Qt(n):a.Qt(m),console.assert(!(h&&k)&&!(!h&&!k)),console.assert(!r.contains(a.x,a.y)),l-e>Math.max(q-l,0)?(k=Math.min(l,e),r=q):(k=Math.max(l,q),r=e),k!=l&&(e=Array(3),q=Array(3),e[0]=this.Av(a,this.kb[r].df),e[1]=this.Av(a,this.kb[k].df),e[2]=this.Av(a,this.kb[l].df),q[0]=r,q[1]=k,q[2]=l,k=1,e[0]<e[1]&&(k=0),e[2]<e[k]&&(k=2),k=q[k]),h?f=k:g=k)}0<=
g&&0<=f&&(c=this.NB(this.kb[g],m,c),b=this.NB(this.kb[f],n,b));return new XODText.rr(c,b)},Aa:null,La:null,le:null,vb:null,Yr:0,nc:0,zw:!1,kb:null};XODText.ih=function(a,e,c,b,g,f){this.Ru=a;this.uz=e;this.Iz=c;this.RC=b;this.ZG=g;this.YG=f};XODText.ih.prototype={Ru:0,uz:0,Iz:null,RC:null,ZG:0,YG:0};XODText.rr=function(a,e){this.QB=a;this.bC=e};XODText.rr.prototype={QB:null,bC:null};XODText.Mv=function(a,e){this.wC=a;this.JB=e};XODText.Mv.prototype={wC:0,JB:0};XODText.Nv=function(a,e,c,b,g,f){this.ow=
a;this.Mr=e;this.Lr=c;this.Br=b;this.hs=g;this.gs=f};XODText.Nv.prototype={ow:null,Mr:0,Lr:0,Br:null,hs:0,gs:0};XODText.Rr.Ia("XODText._intData");XODText.vd.Ia("XODText.Point2D");XODText.bb.Ia("XODText.Quad");XODText.Ea.Ia("XODText.Matrix2D");XODText.Ro.Ia("XODText._highlights");XODText.Qo.Ia("XODText._highlight");XODText.qw.Ia("XODText._highlightDocInfo");XODText.ks.Ia("XODText._selectionTextBlock");XODText.eb.Ia("XODText.SearchMode");XODText.Yb.Ia("XODText.ResultCode");XODText.je.Ia("XODText.TextSearchLowlevel");
XODText.vi.Ia("XODText.TextLocator");XODText.ih.Ia("XODText.ResultRun");XODText.rr.Ia("XODText.ResultFindStructuralBounds");XODText.Mv.Ia("XODText.ResultDetermineOriRange");XODText.Nv.Ia("XODText.ResultFindTexts");XODText.Rr.eB=-2147483648;XODText.bb.WL=Math.cos(3.14159265/180*2);XODText.eb.TD=1;XODText.eb.XD=2;XODText.eb.Gx=4;XODText.eb.VD=8;XODText.eb.UD=16;XODText.eb.SD=32;XODText.eb.WD=64;XODText.eb.YD=128;XODText.Yb.Ck=0;XODText.Yb.bt=1;XODText.Yb.xp=2})();self.mc.Ku("XODText");
XODText.tg=function(){this.BB={};this.Cw=1E3;this.gC=200};XODText.tg.prototype={hC:0,iC:0,Cw:0,gC:0,Vx:function(a){var d=new XODText.Ja,e=this.BB[a];"undefined"!=typeof e?d.Pg(e):window.utils.warn("Character "+a+" does not have bounding box.");return d},ts:function(a,d,e){var c=new XODText.Ja;c.set(d,this.hC,e,this.iC);this.BB[a]=c},Hq:function(a,d){this.hC=a;this.iC=d},yH:function(a){this.Cw=a}};XODText.Gv=function(){this.Rx={};this.gc=!1};
$.extend(XODText.Gv.prototype,{gc:!1,isReady:function(){return this.gc},tV:function(){return this.Rx},Dz:function(a){try{var d=new window.Ee(a);console.assert("FontInfo"===d.ta(),"Root element is incorrect.");"FontInfo"===d.ta()&&(d.ma(),this._parse(d))}catch(e){console.warn("Font Parser has encountered an error: "+e.message);return}this.gc=!0},Nr:function(a){var d="",e=0,c,b,g;for(2<=a.length&&"{"===a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));e<a.length;)c=a.charCodeAt(e),128>c?(d+=String.fromCharCode(c),
e++):191<c&&224>c?(b=a.charCodeAt(e+1),d+=String.fromCharCode((c&31)<<6|b&63),e+=2):(b=a.charCodeAt(e+1),g=a.charCodeAt(e+2),d+=String.fromCharCode((c&15)<<12|(b&63)<<6|g&63),e+=3);return d},JK:function(a){a=a.K("name");console.assert(42===a.length,"Font file name is incorrect.");console.assert(null!=a,"Font file name is incorrect.");return"f"+parseInt("0x"+a.substr(28,8))},IK:function(a,d){console.assert(null!=d,"Font bbox file is corrupted.");var e=a.K("height");console.assert(null!=e,"Height attribute is missing.");
e=e.split(":");d.Hq(parseFloat(e[0]),parseFloat(e[1]))},KK:function(a,d){var e=a.K("units_per_em");null!=e&&d.yH(parseInt(e))},HK:function(a,d){console.assert(null!=d,"Font bbox file is corrupted.");var e=a.K("bbox");console.assert(null!=e,"Character width is missing.");var c=e.split(":"),e=parseFloat(c[0]),c=parseFloat(c[1]),b=this.Nr(a.current.textContent);console.assert(0<b.length,"Char value is empty.");d.ts(b,e,c)},_parse:function(a){do{for(var d=null;a.advance();){var e=a.ta();"Font"===e?(d=
new XODText.tg,e=this.JK(a),this.IK(a,d),this.KK(a,d),this.Rx[e]=d,a.ma()):"c"===e?this.HK(a,d):console.warn("Font XML parser has encountered a tag it can't process.")}a.ya()}while(a.depth)}});XODText.tg.Ia("XODText.Font");XODText.Gv.Ia("XODText.FontParser");
(function(a){function d(b){this.done=!1;this.worker=new Worker(a.o.gj()+"CoreWorker.js");var c=null,e=null,h=this;this.index=b;this.worker.addEventListener("message",function(b){switch(b.data.command){case "done":h.done=!0;e=null;break;case "nextChunk":c=b.data.resources;e=b.data.dataString;break;default:throw Error("Unknown message command "+b.data.command+" from worker");}h.done?(h.rp(null,[]),h.finish()):c&&e&&(h.rp(e,c),e=c=null)},!1);this.sT()}var e=[],c=[],b="./";d.prototype={setData:function(b,
a){this.rp=a;this.done=!1;this.worker.postMessage({command:"data",dataString:b})},cancel:function(){this.worker.postMessage({command:"cancel"})},sT:function(){this.worker.postMessage({command:"options",imageScaling:a.o.Sw,specialBlendSupported:a.utils.specialBlendSupported,continueWithoutPrompt:0<a.Ll})},SP:function(){this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(c.length){var b=c[0];c.shift();this.setData(b.data);this.rp=b.rp;b.ZO(this)}}};a.wO=function(b,a,k){for(var h=
e.length,l,m=0;m<h;++m)e[m].done&&(l=e[m]);l||4>h&&(l=e[h]=new d(h));l?(l.setData(b,k),a(l)):c.push({ZO:a,data:b,rp:k})};a.o=a.o||{};a.o.Sw=!1;a.o.gj=function(){return b};a.o.pS=function(a){a.indexOf("/")!==a.length-1&&(a+="/");b=a}})(window);
(function(a){function d(b,a){var g=Error.apply(this,arguments);g.name=this.name="WorkerError";this.stack=g.stack;this.message=g.message;this.userMessage=a}function e(b){q.push(b);for(var a=0;a<r.length;++a)b(r[a])}function c(c,k,h){if(_.isUndefined(c))return null;var n,q=new Promise(function(b,g){e(function(){g(new d("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});var h={};f&&(h.workerHeapSize=f);l&&(h.pdfResourcePath=l);m&&(h.pdfAsmPath=m);var q=
window.location.href,r=q.lastIndexOf("/",q.lastIndexOf("#"));-1!==r&&(h.parentUrl=q.substring(0,r+1));n=new window.WJ(c,k,h);n.xA.then(function(){b()},function(b){g(b)})}),r=new Promise(function(b,g){if(a.utils.isJSWorker&&a.jsworker&&a.jsworker.utils)"android"!==a.jsworker.platform&&"ios"!==a.jsworker.platform||!a.jsworker.utils.getResourcesDir?a.jsworker.utils.getHTMLContentPath?a.jsworker.utils.getHTMLContentPath(function(a){a?(a.endsWith("/")||(a+="/"),b(a+"js/html5/pdf/")):g(new d("Couldn't fetch resource file path."))}):
g(new d("Some functions required for fetching resources are not defined.")):a.jsworker.utils.getResourcesDir(function(a,c){a?g(a):b(c)});else{var c=new XMLHttpRequest;c.open("GET",window.o.Bt()+"pdfnet.res",!0);c.responseType="arraybuffer";c.onload=function(){200===c.status?b(c.response):g(new d("Couldn't fetch resource file.","error.ResourceLoadError"))};c.onerror=function(){g(new d("Network error","error.ResourceLoadError"))};c.send(null)}});return Promise.all([q,r]).then(function(b){return a.utils.isJSWorker&&
a.jsworker&&a.jsworker.utils?n.FP(b[1],h):n.EP(b[1],h)}).then(function(){"undefined"!==typeof b&&n.Tz(b);"undefined"!==typeof g&&n.Wu(g);return n})["catch"](function(b){b.message&&-1!==b.message.indexOf("Bad License Key")&&(b.userMessage="error.InvalidLicenseKey");throw b;})}var b,g,f,k;a.dv=a.utils.chromeHasSubzero;var h,l,m,n={},q=[],r=[],v=_.throttle(function(b){var a=q.length;r.push(b);for(var g=0;g<a;++g)q[g](b)},100,{trailing:!1});d.prototype=Object.create(Error.prototype,{constructor:{value:d,
writable:!0,configurable:!0}});a.o=a.o||{};var p=a.o,u;p.rt=function(){return u};p.oH=function(b){u=b};p.UN=function(){return new Promise(function(b){var a;try{a=window.parent&&window.parent.WebViewer?window.parent.WebViewer.l():void 0,b(a)}catch(g){window.parent.postMessage("requestl","*"),$(window).on("message.l",function(a){a=a.originalEvent;"object"===typeof a.data&&"responsel"===a.data.type&&(b(a.data.value),$(window).off("message.l"))})}})};p.LE=function(b){return b?Promise.resolve(b):a._trnDebugMode?
Promise.resolve():(""+location).split("").reverse().join("").match(/(moc\.nortfdp\.[^.]+\/\/|moc\.nortfdp\/\/)/)||a.jsworker?Promise.resolve(""):p.UN().then(function(b){return b?b:null})};p.wF=function(b){return!b||50>b.length||"demo:"!==b.slice(0,5)?!1:0<b.slice(5,b.lastIndexOf(":")).match(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/).length};var w={};p.Jq=function(b){b.pdf&&(w.wj=b.pdf);b.office&&(w.ou=b.office)};p.nf=function(){return w};p.Tz=function(a){b=a;p.nf().wj&&
p.nf().wj.then(function(b){b.Tz(a)})};p.Wu=function(b){g=b;p.nf().wj&&p.nf().wj.then(function(b){b.Wu(g)})};p.IM=function(b){a.utils.chromeHasSubzero&&(a.dv=b)};p.EF=function(){return a.dv};var z=a.PDFNet&&a.PDFNet.hasFullAPI;p.HM=function(b){z=b};p.Yp=function(){return z};p.PR=function(b){b.lastIndexOf("/")!==b.length-1&&(b+="/");h=b};p.JN=function(){return m||p.gj()+"pdf/"+(p.Yp()?"full/":"lean/")};p.NR=function(b){b.lastIndexOf("/")!==b.length-1&&(b+="/");m=b};p.gy=function(){return h||p.gj()+
"pdf/"+(p.Yp()?"full/":"lean/")};p.OR=function(b){b.lastIndexOf("/")!==b.length-1&&(b+="/");l=b};p.Bt=function(){return l||p.gj()+"pdf/"};p.vR=function(b){f=b};var C,A,y;p.YN=function(){return A};p.Yx=function(){y||(y=new Promise(function(b){if(a.utils.isJSWorker&&a.jsworker)b("jsworker");else if(a.utils.isChrome){var g=!0,c=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+window.o.Bt()+'SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),f=c[0];f.addEventListener("error",
function(){g&&(console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten."),g=!1);b("ems")},!0);$(document.body).prepend(c);var e=!1,k=function(a){e||(b(a),clearTimeout(l),c.remove(),e=!0)};if("undefined"===typeof f.postMessage)g&&(console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),g=!1),k("ems");else{var l,h=function(){g&&(console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten."),g=!1);k("ems")};f.addEventListener("progress",function(){clearTimeout(l);
l=setTimeout(h,5E3)});f.addEventListener("message",function(b){clearTimeout(l);"T"===b.data?k("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),k("ems"))});f.postMessage("T");l=setTimeout(h,5E3)}}else b("ems")}));return y};p.AE=function(){return n.Ww};p.BG=function(b,g,c){p.nf().wj&&b===p.AE()||(_.isUndefined(c)&&(c={}),c.workerId="pdf_pnacl_module",c.pnaclWorkerPath=window.o.gy()+(a.dv?"PDFWorkerSubzero.nmf":"PDFWorker.nmf"),c.emsWorkerPath=window.o.Bt()+
(f||l||m?"ResizableWorker.js":"PDFworker.js"),c.yA=n,C=p.CG(b,g,c))};p.CG=function(b,g,c){c=c||{};var f;return new Promise(function(k,l){function h(b){function g(a){"object"===typeof a.data&&"action"in a.data&&"workerLoaded"===a.data.action&&(b.workerLoadingProgress&&b.workerLoadingProgress(1),f.removeEventListener("message",g))}var f;e(function(){l(new d("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});f=c.emsWorkerPath.toLowerCase().startsWith("http")?
new Worker("CORSWorker.js?isfull="+p.Yp()+"&file="+encodeURIComponent(c.emsWorkerPath)+"&path="+encodeURIComponent(window.o.gy().slice(0,-9))):new Worker(c.emsWorkerPath+"?isfull="+p.Yp());f.onerror=v;A=!0;f.addEventListener("message",g,!1);var k=p.KI();p.uH(k?18E3/k:0);return f}function m(b,a){k(b);c.yA.Ww=a}if("jsworker"===b)console.log("Attempting to load JSWorker"),a.utils.isJSWorker&&(f=a.jsworker.loadWorker(),console.log("JSWorker loaded!"),f&&f.getProcessId(function(b){console.log("Loaded worker in process: "+
b)})),A=!1,m(f,"jsworker");else if("pnacl"===b){_.isUndefined(c.useEmscriptenWhileLoading)&&(c.useEmscriptenWhileLoading=!p.EF());A=!1;var n=$('<embed name="'+c.workerId+'" id="'+c.workerId+'" width=0 height=0 src="'+c.pnaclWorkerPath+'" type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(n);var q=function(b){b.lengthComputable&&(c.useEmscriptenWhileLoading?(f.removeEventListener("progress",q,!0),f.removeEventListener("loadend",r,!0),f.removeEventListener("crash",u,
!0),f.removeEventListener("error",w,!0),m(h(g),"ems"),f.addEventListener("loadend",function(){A=!1;c.yA.Ww="pnacl";g.pnaclComplete&&g.pnaclComplete(f)})):g.workerLoadingProgress&&g.workerLoadingProgress(b.loaded/b.total))},r=function(){g.workerLoadingProgress&&g.workerLoadingProgress(1);p.uH(1E3);m(f,"pnacl")},u=function(){l(new d("The Worker has Crashed.","error.PNaClCrashError"))},w=function(){console.log("PNaClError: Main worker encountered an error. Falling back to Emscripten.");m(h(g),"ems")};
f=n[0];f.addEventListener("progress",q,!0);f.addEventListener("loadend",r,!0);f.addEventListener("crash",u,!0);f.addEventListener("error",w,!0)}else"ems"===b&&m(h(g),"ems")})};p.UQ=function(b){C=Promise.resolve(b);p.Jq({pdf:null})};p.xF=function(){return k};p.Pt=function(b,a,g){C||p.nf().wj||p.BG(b,a);p.rt()||p.oH(g);g=g||p.rt();if(p.nf().wj){if(k&&g&&!p.wF(g))throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");
}else k=!g,b=Promise.all([p.LE(g),C]).then(function(b){if(null===b[0])throw b=Error("A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com."),b.userMessage="A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com.",b;k=p.wF(b[0]);return c(b[1],A,b[0])}),p.Jq({pdf:b});return p.nf().wj};a.ak=d;p.qL=e})(window);
(function(a){var d={PDFNetC:8,PDFNetCFull:8};a.tO=function(){return d.PDFNetC}})("undefined"===typeof window?this:window);
(function(a){var d=a._trnDebugMode||a.GU,e=a.EK?a.EK:{};a.utils=a.utils?a.utils:{};a.utils.warn=function(a,b){b||(b=a,a="default");d&&e[a]&&console.warn(a+": "+b)};a.utils.log=function(a,b){b||(b=a,a="default");d&&e[a]&&console.log(a+": "+b)};a.utils.error=function(a){d&&console.error(a);throw Error(a);};a.info=function(){};a.warn=function(c,b){a.utils.warn(c,b)};a.error=function(c){a.utils.error(c)}})("undefined"===typeof window?this:window);
(function(a){function d(b,a,g,f,k,l){this.Hj=16;this.dJ=288;this.status=0;this.root=null;this.m=0;var h=Array(this.Hj+1),d,z,C,A,y,x,E,G=Array(this.Hj+1),B,I,H,F=new e,M=Array(this.Hj);A=Array(this.dJ);var J,O=Array(this.Hj+1),P,L,D;D=this.root=null;for(y=0;y<h.length;y++)h[y]=0;for(y=0;y<G.length;y++)G[y]=0;for(y=0;y<M.length;y++)M[y]=null;for(y=0;y<A.length;y++)A[y]=0;for(y=0;y<O.length;y++)O[y]=0;d=256<a?b[256]:this.Hj;B=b;I=0;y=a;do h[B[I]]++,I++;while(0<--y);if(h[0]==a)this.root=null,this.status=
this.m=0;else{for(x=1;x<=this.Hj&&0==h[x];x++);E=x;l<x&&(l=x);for(y=this.Hj;0!=y&&0==h[y];y--);C=y;l>y&&(l=y);for(P=1<<x;x<y;x++,P<<=1)if(0>(P-=h[x])){this.status=2;this.m=l;return}if(0>(P-=h[y]))this.status=2,this.m=l;else{h[y]+=P;O[1]=x=0;B=h;I=1;for(H=2;0<--y;)O[H++]=x+=B[I++];B=b;y=I=0;do 0!=(x=B[I++])&&(A[O[x]++]=y);while(++y<a);a=O[C];O[0]=y=0;B=A;I=0;A=-1;J=G[0]=0;H=null;for(L=0;E<=C;E++)for(b=h[E];0<b--;){for(;E>J+G[1+A];){J+=G[1+A];A++;L=(L=C-J)>l?l:L;if((z=1<<(x=E-J))>b+1)for(z-=b+1,H=E;++x<
L&&!((z<<=1)<=h[++H]);)z-=h[H];J+x>d&&J<d&&(x=d-J);L=1<<x;G[1+A]=x;H=Array(L);for(z=0;z<L;z++)H[z]=new e;D=null==D?this.root=new c:D.next=new c;D.next=null;D.list=H;M[A]=H;0<A&&(O[A]=y,F.b=G[A],F.e=16+x,F.t=H,x=(y&(1<<J)-1)>>J-G[A],M[A-1][x].e=F.e,M[A-1][x].b=F.b,M[A-1][x].n=F.n,M[A-1][x].t=F.t)}F.b=E-J;I>=a?F.e=99:B[I]<g?(F.e=256>B[I]?16:15,F.n=B[I++]):(F.e=k[B[I]-g],F.n=f[B[I++]-g]);z=1<<E-J;for(x=y>>J;x<L;x+=z)H[x].e=F.e,H[x].b=F.b,H[x].n=F.n,H[x].t=F.t;for(x=1<<E-1;0!=(y&x);x>>=1)y^=x;for(y^=
x;(y&(1<<J)-1)!=O[A];)J-=G[A],A--}this.m=G[1];this.status=0!=P&&1!=C?1:0}}}function e(){this.n=this.b=this.e=0;this.t=null}function c(){this.list=this.next=null}var b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.Vl||(a.Vl={});a.Vl.YA=function(b){this.CT();this.pv=b;this.qv=0};a.Vl.YA.prototype={getBytes:function(b){for(var a,g=Array(1024),c=[],f=0;f<b&&0<(a=this.BT(g,0,g.length));)c[c.length]=String.fromCharCode.apply(null,g.slice(0,a)),f+=a;return f?(this.pv=this.pv.slice(this.qv),this.qv=0,c.join("")):""},xT:function(){return this.pv.length==this.qv?-1:this.pv.charCodeAt(this.qv++)&
255},Bc:function(b){for(;this.El<b;)this.jo|=this.xT()<<this.El,this.El+=8},Rc:function(a){return this.jo&b[a]},ic:function(b){this.jo>>=b;this.El-=b},ov:function(b,a,g){var c,f,e;if(0==g)return 0;for(e=0;;){this.Bc(this.ng);f=this.Fj.list[this.Rc(this.ng)];for(c=f.e;16<c;){if(99==c)return-1;this.ic(f.b);c-=16;this.Bc(c);f=f.t[this.Rc(c)];c=f.e}this.ic(f.b);if(16==c)this.Od&=32767,b[a+e++]=this.Ej[this.Od++]=f.n;else{if(15==c)break;this.Bc(c);this.Be=f.n+this.Rc(c);this.ic(c);this.Bc(this.io);f=this.uI.list[this.Rc(this.io)];
for(c=f.e;16<c;){if(99==c)return-1;this.ic(f.b);c-=16;this.Bc(c);f=f.t[this.Rc(c)];c=f.e}this.ic(f.b);this.Bc(c);this.Fl=this.Od-f.n-this.Rc(c);for(this.ic(c);0<this.Be&&e<g;)this.Be--,this.Fl&=32767,this.Od&=32767,b[a+e++]=this.Ej[this.Od++]=this.Ej[this.Fl++]}if(e==g)return g}this.Dj=-1;return e},DT:function(b,a,g){var c;c=this.El&7;this.ic(c);this.Bc(16);c=this.Rc(16);this.ic(16);this.Bc(16);if(c!=(~this.jo&65535))return-1;this.ic(16);this.Be=c;for(c=0;0<this.Be&&c<g;)this.Be--,this.Od&=32767,
this.Bc(8),b[a+c++]=this.Ej[this.Od++]=this.Rc(8),this.ic(8);0==this.Be&&(this.Dj=-1);return c},AT:function(b,a,c){if(null==this.nv){var e,l=Array(288);for(e=0;144>e;e++)l[e]=8;for(;256>e;e++)l[e]=9;for(;280>e;e++)l[e]=7;for(;288>e;e++)l[e]=8;this.CA=7;e=new d(l,288,257,g,f,this.CA);if(0!=e.status)return alert("HufBuild error: "+e.status),-1;this.nv=e.root;this.CA=e.m;for(e=0;30>e;e++)l[e]=5;this.BA=5;e=new d(l,30,0,k,h,this.BA);if(1<e.status)return this.nv=null,alert("HufBuild error: "+e.status),
-1;this.yT=e.root;this.BA=e.m}this.Fj=this.nv;this.uI=this.yT;this.ng=this.CA;this.io=this.BA;return this.ov(b,a,c)},zT:function(b,a,c){var e,v,p,u,w,z,C,A=Array(316);for(e=0;e<A.length;e++)A[e]=0;this.Bc(5);z=257+this.Rc(5);this.ic(5);this.Bc(5);C=1+this.Rc(5);this.ic(5);this.Bc(4);e=4+this.Rc(4);this.ic(4);if(286<z||30<C)return-1;for(v=0;v<e;v++)this.Bc(3),A[l[v]]=this.Rc(3),this.ic(3);for(;19>v;v++)A[l[v]]=0;this.ng=7;v=new d(A,19,19,null,null,this.ng);if(0!=v.status)return-1;this.Fj=v.root;this.ng=
v.m;u=z+C;for(e=p=0;e<u;)if(this.Bc(this.ng),w=this.Fj.list[this.Rc(this.ng)],v=w.b,this.ic(v),v=w.n,16>v)A[e++]=p=v;else if(16==v){this.Bc(2);v=3+this.Rc(2);this.ic(2);if(e+v>u)return-1;for(;0<v--;)A[e++]=p}else{17==v?(this.Bc(3),v=3+this.Rc(3),this.ic(3)):(this.Bc(7),v=11+this.Rc(7),this.ic(7));if(e+v>u)return-1;for(;0<v--;)A[e++]=0;p=0}this.ng=9;v=new d(A,z,257,g,f,this.ng);0==this.ng&&(v.status=1);if(0!=v.status)return-1;this.Fj=v.root;this.ng=v.m;for(e=0;e<C;e++)A[e]=A[e+z];this.io=6;v=new d(A,
C,0,k,h,this.io);this.uI=v.root;this.io=v.m;return 0==this.io&&257<z||0!=v.status?-1:this.ov(b,a,c)},CT:function(){null==this.Ej&&(this.Ej=Array(65536));this.El=this.jo=this.Od=0;this.Dj=-1;this.mv=!1;this.Be=this.Fl=0;this.nv=this.Fj=null},BT:function(b,a,g){var c,f;for(c=0;c<g&&(!this.mv||-1!=this.Dj);){if(0<this.Be){if(0!=this.Dj)for(;0<this.Be&&c<g;)this.Be--,this.Fl&=32767,this.Od&=32767,b[a+c++]=this.Ej[this.Od++]=this.Ej[this.Fl++];else{for(;0<this.Be&&c<g;)this.Be--,this.Od&=32767,this.Bc(8),
b[a+c++]=this.Ej[this.Od++]=this.Rc(8),this.ic(8);0==this.Be&&(this.Dj=-1)}if(c==g)break}if(-1==this.Dj){if(this.mv)break;this.Bc(1);0!=this.Rc(1)&&(this.mv=!0);this.ic(1);this.Bc(2);this.Dj=this.Rc(2);this.ic(2);this.Fj=null;this.Be=0}switch(this.Dj){case 0:f=this.DT(b,a+c,g-c);break;case 1:f=null!=this.Fj?this.ov(b,a+c,g-c):this.AT(b,a+c,g-c);break;case 2:f=null!=this.Fj?this.ov(b,a+c,g-c):this.zT(b,a+c,g-c);break;default:f=-1}if(-1==f)return this.mv?0:-1;c+=f}return c}};a.Vl.inflate=function(b){return(new a.Vl.YA(b)).getBytes(4E9)}})(self);
!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).hQ=a()}(function(){return function d(e,c,b){function g(k,l){if(!c[k]){if(!e[k]){var m="function"==typeof require&&require;if(!l&&m)return m(k,!0);if(f)return f(k,!0);m=Error("Cannot find module '"+k+"'");throw m.code="MODULE_NOT_FOUND",m;}m=c[k]={exports:{}};e[k][0].call(m.exports,
function(b){var c=e[k][1][b];return g(c?c:b)},m,m.exports,d,e,c,b)}return c[k].exports}for(var f="function"==typeof require&&require,k=0;k<b.length;k++)g(b[k]);return g}({1:[function(d,e,c){d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(b){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var c=g.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e])}}return b};
c.KH=function(b,g){return b.length===g?b:b.subarray?b.subarray(0,g):(b.length=g,b)};var b={xk:function(b,g,c,e,d){if(g.subarray&&b.subarray)return void b.set(g.subarray(c,c+e),d);for(var n=0;n<e;n++)b[d+n]=g[c+n]},iE:function(b){var g,c,e,d,n;g=e=0;for(c=b.length;g<c;g++)e+=b[g].length;n=new Uint8Array(e);g=e=0;for(c=b.length;g<c;g++)d=b[g],n.set(d,e),e+=d.length;return n}},g={xk:function(b,g,c,e,d){for(var n=0;n<e;n++)b[d+n]=g[c+n]},iE:function(b){return[].concat.apply([],b)}};c.oS=function(f){f?
(c.Ij=Uint8Array,c.no=Uint16Array,c.oo=Int32Array,c.assign(c,b)):(c.Ij=Array,c.no=Array,c.oo=Array,c.assign(c,g))};c.oS(d)},{}],2:[function(d,e,c){function b(b,c){if(65537>c&&(b.subarray&&k||!b.subarray&&f))return String.fromCharCode.apply(null,g.KH(b,c));for(var e="",d=0;d<c;d++)e+=String.fromCharCode(b[d]);return e}var g=d("./common"),f=!0,k=!0,h=new g.Ij(256);for(d=0;256>d;d++)h[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;h[254]=h[254]=1;c.HS=function(b){var c,f,e,k,d,h=b.length,u=0;for(k=
0;k<h;k++)f=b.charCodeAt(k),55296===(64512&f)&&k+1<h&&(e=b.charCodeAt(k+1),56320===(64512&e)&&(f=65536+(f-55296<<10)+(e-56320),k++)),u+=128>f?1:2048>f?2:65536>f?3:4;c=new g.Ij(u);for(k=d=0;d<u;k++)f=b.charCodeAt(k),55296===(64512&f)&&k+1<h&&(e=b.charCodeAt(k+1),56320===(64512&e)&&(f=65536+(f-55296<<10)+(e-56320),k++)),128>f?c[d++]=f:2048>f?(c[d++]=192|f>>>6,c[d++]=128|63&f):65536>f?(c[d++]=224|f>>>12,c[d++]=128|f>>>6&63,c[d++]=128|63&f):(c[d++]=240|f>>>18,c[d++]=128|f>>>12&63,c[d++]=128|f>>>6&63,
c[d++]=128|63&f);return c};c.JU=function(g){return b(g,g.length)};c.tL=function(b){for(var c=new g.Ij(b.length),f=0,e=c.length;f<e;f++)c[f]=b.charCodeAt(f);return c};c.vL=function(g,c){var f,e,k,d,p=c||g.length,u=Array(2*p);for(f=e=0;f<p;)if(k=g[f++],128>k)u[e++]=k;else if(d=h[k],4<d)u[e++]=65533,f+=d-1;else{for(k&=2===d?31:3===d?15:7;1<d&&f<p;)k=k<<6|63&g[f++],d--;1<d?u[e++]=65533:65536>k?u[e++]=k:(k-=65536,u[e++]=55296|k>>10&1023,u[e++]=56320|1023&k)}return b(u,e)};c.kT=function(b,g){var c;g=g||
b.length;g>b.length&&(g=b.length);for(c=g-1;0<=c&&128===(192&b[c]);)c--;return 0>c?g:0===c?g:c+h[b[c]]>g?c:g}},{"./common":1}],3:[function(d,e){e.exports=function(c,b,g,f){var e=65535&c|0;c=c>>>16&65535|0;for(var d;0!==g;){d=2E3<g?2E3:g;g-=d;do e=e+b[f++]|0,c=c+e|0;while(--d);e%=65521;c%=65521}return e|c<<16|0}},{}],4:[function(d,e){e.exports={cB:0,xU:1,dB:2,uU:3,xr:4,mU:5,BU:6,bm:0,yr:1,bK:2,rU:-1,zU:-2,nU:-3,aK:-5,wU:0,kU:1,jU:9,oU:-1,sU:1,vU:2,yU:3,tU:4,pU:0,lU:0,AU:1,CU:2,qU:8}},{}],5:[function(d,
e){var c=function(){for(var b,g=[],c=0;256>c;c++){b=c;for(var e=0;8>e;e++)b=1&b?3988292384^b>>>1:b>>>1;g[c]=b}return g}();e.exports=function(b,g,f,e){f=e+f;for(b^=-1;e<f;e++)b=b>>>8^c[255&(b^g[e])];return b^-1}},{}],6:[function(d,e){e.exports=function(){this.dQ=this.vT=this.time=this.text=0;this.Ic=null;this.Jx=0;this.mx=this.name="";this.IO=0;this.done=!1}},{}],7:[function(d,e){e.exports=function(c,b){var g,f,e,d,l,m,n,q,r,v,p,u,w,z,C,A,y,x,E,G,B,I,H,F;g=c.state;f=c.rj;H=c.input;e=f+(c.Je-5);d=c.Kd;
F=c.output;l=d-(b-c.Gc);m=d+(c.Gc-257);n=g.Ws;q=g.Ae;r=g.hi;v=g.ze;p=g.window;u=g.hj;w=g.pc;z=g.Oh;C=g.Bk;A=(1<<g.Rg)-1;y=(1<<g.Km)-1;a:do b:for(15>w&&(u+=H[f++]<<w,w+=8,u+=H[f++]<<w,w+=8),x=z[u&A];;){if(E=x>>>24,u>>>=E,w-=E,E=x>>>16&255,0===E)F[d++]=65535&x;else{if(!(16&E)){if(0===(64&E)){x=z[(65535&x)+(u&(1<<E)-1)];continue b}if(32&E){g.mode=12;break a}c.ab="invalid literal/length code";g.mode=30;break a}G=65535&x;(E&=15)&&(w<E&&(u+=H[f++]<<w,w+=8),G+=u&(1<<E)-1,u>>>=E,w-=E);15>w&&(u+=H[f++]<<w,
w+=8,u+=H[f++]<<w,w+=8);x=C[u&y];c:for(;;){if(E=x>>>24,u>>>=E,w-=E,E=x>>>16&255,!(16&E)){if(0===(64&E)){x=C[(65535&x)+(u&(1<<E)-1)];continue c}c.ab="invalid distance code";g.mode=30;break a}if(B=65535&x,E&=15,w<E&&(u+=H[f++]<<w,w+=8,w<E&&(u+=H[f++]<<w,w+=8)),B+=u&(1<<E)-1,B>n){c.ab="invalid distance too far back";g.mode=30;break a}if(u>>>=E,w-=E,E=d-l,B>E){if(E=B-E,E>r&&g.Jz){c.ab="invalid distance too far back";g.mode=30;break a}if(x=0,I=p,0===v){if(x+=q-E,E<G){G-=E;do F[d++]=p[x++];while(--E);x=
d-B;I=F}}else if(v<E){if(x+=q+v-E,E-=v,E<G){G-=E;do F[d++]=p[x++];while(--E);if(x=0,v<G){E=v;G-=E;do F[d++]=p[x++];while(--E);x=d-B;I=F}}}else if(x+=v-E,E<G){G-=E;do F[d++]=p[x++];while(--E);x=d-B;I=F}for(;2<G;)F[d++]=I[x++],F[d++]=I[x++],F[d++]=I[x++],G-=3;G&&(F[d++]=I[x++],1<G&&(F[d++]=I[x++]))}else{x=d-B;do F[d++]=F[x++],F[d++]=F[x++],F[d++]=F[x++],G-=3;while(2<G);G&&(F[d++]=F[x++],1<G&&(F[d++]=F[x++]))}break}}break}while(f<e&&d<m);G=w>>3;f-=G;w-=G<<3;c.rj=f;c.Kd=d;c.Je=f<e?5+(e-f):5-(f-e);c.Gc=
d<m?257+(m-d):257-(d-m);g.hj=u&(1<<w)-1;g.pc=w}},{}],8:[function(d,e,c){function b(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function g(){this.mode=0;this.last=!1;this.wrap=0;this.Ly=!1;this.total=this.check=this.Ws=this.Tb=0;this.head=null;this.ze=this.hi=this.Ae=this.fo=0;this.window=null;this.Ic=this.offset=this.length=this.pc=this.hj=0;this.Bk=this.Oh=null;this.pf=this.lq=this.zn=this.YF=this.Km=this.Rg=0;this.next=null;this.Gd=new r.no(320);this.Uq=new r.no(288);this.LD=
this.KF=null;this.oT=this.back=this.Jz=0}function f(b){var c;return b&&b.state?(c=b.state,b.tA=b.Oq=c.total=0,b.ab="",c.wrap&&(b.vk=1&c.wrap),c.mode=A,c.last=0,c.Ly=0,c.Ws=32768,c.head=null,c.hj=0,c.pc=0,c.Oh=c.KF=new r.oo(y),c.Bk=c.LD=new r.oo(x),c.Jz=1,c.back=-1,z):C}function k(b){var c;return b&&b.state?(c=b.state,c.Ae=0,c.hi=0,c.ze=0,f(b)):C}function h(b,c){var g,f;return b&&b.state?(f=b.state,0>c?(g=0,c=-c):(g=(c>>4)+1,48>c&&(c&=15)),c&&(8>c||15<c)?C:(null!==f.window&&f.fo!==c&&(f.window=null),
f.wrap=g,f.fo=c,k(b))):C}function l(b,c){var f,e;return b?(e=new g,b.state=e,e.window=null,f=h(b,c),f!==z&&(b.state=null),f):C}function m(b,c,g,f){var e;b=b.state;return null===b.window&&(b.Ae=1<<b.fo,b.ze=0,b.hi=0,b.window=new r.Ij(b.Ae)),f>=b.Ae?(r.xk(b.window,c,g-b.Ae,b.Ae,0),b.ze=0,b.hi=b.Ae):(e=b.Ae-b.ze,e>f&&(e=f),r.xk(b.window,c,g-f,e,b.ze),f-=e,f?(r.xk(b.window,c,g-f,f,0),b.ze=f,b.hi=b.Ae):(b.ze+=e,b.ze===b.Ae&&(b.ze=0),b.hi<b.Ae&&(b.hi+=e))),0}var n,q,r=d("../utils/common"),v=d("./adler32"),
p=d("./crc32"),u=d("./inffast"),w=d("./inftrees"),z=0,C=-2,A=1,y=852,x=592,E=!0;c.HV=k;c.IV=h;c.JV=f;c.FV=function(b){return l(b,15)};c.TO=l;c.inflate=function(c,g){var f,e,k,l,d,h,x,y,D,Q,S,N,ca,R,U,V,Z,ha,ia,W,aa,da,X=0,Y=new r.Ij(4),ma=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!c||!c.state||!c.output||!c.input&&0!==c.Je)return C;f=c.state;12===f.mode&&(f.mode=13);d=c.Kd;k=c.output;x=c.Gc;l=c.rj;e=c.input;h=c.Je;y=f.hj;D=f.pc;Q=h;S=x;aa=z;a:for(;;)switch(f.mode){case A:if(0===f.wrap){f.mode=
13;break}for(;16>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(2&f.wrap&&35615===y){f.check=0;Y[0]=255&y;Y[1]=y>>>8&255;f.check=p(f.check,Y,2,0);D=y=0;f.mode=2;break}if(f.Tb=0,f.head&&(f.head.done=!1),!(1&f.wrap)||(((255&y)<<8)+(y>>8))%31){c.ab="incorrect header check";f.mode=30;break}if(8!==(15&y)){c.ab="unknown compression method";f.mode=30;break}if(y>>>=4,D-=4,W=(15&y)+8,0===f.fo)f.fo=W;else if(W>f.fo){c.ab="invalid window size";f.mode=30;break}f.Ws=1<<W;c.vk=f.check=1;f.mode=512&y?10:12;D=y=0;
break;case 2:for(;16>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(f.Tb=y,8!==(255&f.Tb)){c.ab="unknown compression method";f.mode=30;break}if(57344&f.Tb){c.ab="unknown header flags set";f.mode=30;break}f.head&&(f.head.text=y>>8&1);512&f.Tb&&(Y[0]=255&y,Y[1]=y>>>8&255,f.check=p(f.check,Y,2,0));D=y=0;f.mode=3;case 3:for(;32>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}f.head&&(f.head.time=y);512&f.Tb&&(Y[0]=255&y,Y[1]=y>>>8&255,Y[2]=y>>>16&255,Y[3]=y>>>24&255,f.check=p(f.check,Y,4,0));D=y=0;f.mode=4;
case 4:for(;16>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}f.head&&(f.head.vT=255&y,f.head.dQ=y>>8);512&f.Tb&&(Y[0]=255&y,Y[1]=y>>>8&255,f.check=p(f.check,Y,2,0));D=y=0;f.mode=5;case 5:if(1024&f.Tb){for(;16>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}f.length=y;f.head&&(f.head.Jx=y);512&f.Tb&&(Y[0]=255&y,Y[1]=y>>>8&255,f.check=p(f.check,Y,2,0));D=y=0}else f.head&&(f.head.Ic=null);f.mode=6;case 6:if(1024&f.Tb&&(N=f.length,N>h&&(N=h),N&&(f.head&&(W=f.head.Jx-f.length,f.head.Ic||(f.head.Ic=Array(f.head.Jx)),
r.xk(f.head.Ic,e,l,N,W)),512&f.Tb&&(f.check=p(f.check,e,N,l)),h-=N,l+=N,f.length-=N),f.length))break a;f.length=0;f.mode=7;case 7:if(2048&f.Tb){if(0===h)break a;N=0;do W=e[l+N++],f.head&&W&&65536>f.length&&(f.head.name+=String.fromCharCode(W));while(W&&N<h);if(512&f.Tb&&(f.check=p(f.check,e,N,l)),h-=N,l+=N,W)break a}else f.head&&(f.head.name=null);f.length=0;f.mode=8;case 8:if(4096&f.Tb){if(0===h)break a;N=0;do W=e[l+N++],f.head&&W&&65536>f.length&&(f.head.mx+=String.fromCharCode(W));while(W&&N<h);
if(512&f.Tb&&(f.check=p(f.check,e,N,l)),h-=N,l+=N,W)break a}else f.head&&(f.head.mx=null);f.mode=9;case 9:if(512&f.Tb){for(;16>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(y!==(65535&f.check)){c.ab="header crc mismatch";f.mode=30;break}D=y=0}f.head&&(f.head.IO=f.Tb>>9&1,f.head.done=!0);c.vk=f.check=0;f.mode=12;break;case 10:for(;32>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}c.vk=f.check=b(y);D=y=0;f.mode=11;case 11:if(0===f.Ly)return c.Kd=d,c.Gc=x,c.rj=l,c.Je=h,f.hj=y,f.pc=D,2;c.vk=f.check=1;f.mode=
12;case 12:if(5===g||6===g)break a;case 13:if(f.last){y>>>=7&D;D-=7&D;f.mode=27;break}for(;3>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}switch(f.last=1&y,y>>>=1,--D,3&y){case 0:f.mode=14;break;case 1:R=f;if(E){n=new r.oo(512);q=new r.oo(32);for(V=0;144>V;)R.Gd[V++]=8;for(;256>V;)R.Gd[V++]=9;for(;280>V;)R.Gd[V++]=7;for(;288>V;)R.Gd[V++]=8;w(1,R.Gd,0,288,n,0,R.Uq,{pc:9});for(V=0;32>V;)R.Gd[V++]=5;w(2,R.Gd,0,32,q,0,R.Uq,{pc:5});E=!1}R.Oh=n;R.Rg=9;R.Bk=q;R.Km=5;if(f.mode=20,6===g){y>>>=2;D-=2;break a}break;
case 2:f.mode=17;break;case 3:c.ab="invalid block type",f.mode=30}y>>>=2;D-=2;break;case 14:y>>>=7&D;for(D-=7&D;32>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if((65535&y)!==(y>>>16^65535)){c.ab="invalid stored block lengths";f.mode=30;break}if(f.length=65535&y,y=0,D=0,f.mode=15,6===g)break a;case 15:f.mode=16;case 16:if(N=f.length){if(N>h&&(N=h),N>x&&(N=x),0===N)break a;r.xk(k,e,l,N,d);h-=N;l+=N;x-=N;d+=N;f.length-=N;break}f.mode=12;break;case 17:for(;14>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(f.zn=
(31&y)+257,y>>>=5,D-=5,f.lq=(31&y)+1,y>>>=5,D-=5,f.YF=(15&y)+4,y>>>=4,D-=4,286<f.zn||30<f.lq){c.ab="too many length or distance symbols";f.mode=30;break}f.pf=0;f.mode=18;case 18:for(;f.pf<f.YF;){for(;3>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}f.Gd[ma[f.pf++]]=7&y;y>>>=3;D-=3}for(;19>f.pf;)f.Gd[ma[f.pf++]]=0;if(f.Oh=f.KF,f.Rg=7,da={pc:f.Rg},aa=w(0,f.Gd,0,19,f.Oh,0,f.Uq,da),f.Rg=da.pc,aa){c.ab="invalid code lengths set";f.mode=30;break}f.pf=0;f.mode=19;case 19:for(;f.pf<f.zn+f.lq;){for(;X=f.Oh[y&
(1<<f.Rg)-1],U=X>>>24,V=65535&X,!(U<=D);){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(16>V)y>>>=U,D-=U,f.Gd[f.pf++]=V;else{if(16===V){for(R=U+2;D<R;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(y>>>=U,D-=U,0===f.pf){c.ab="invalid bit length repeat";f.mode=30;break}W=f.Gd[f.pf-1];N=3+(3&y);y>>>=2;D-=2}else if(17===V){for(R=U+3;D<R;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}y>>>=U;D-=U;W=0;N=3+(7&y);y>>>=3;D-=3}else{for(R=U+7;D<R;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}y>>>=U;D-=U;W=0;N=11+(127&y);y>>>=
7;D-=7}if(f.pf+N>f.zn+f.lq){c.ab="invalid bit length repeat";f.mode=30;break}for(;N--;)f.Gd[f.pf++]=W}}if(30===f.mode)break;if(0===f.Gd[256]){c.ab="invalid code -- missing end-of-block";f.mode=30;break}if(f.Rg=9,da={pc:f.Rg},aa=w(1,f.Gd,0,f.zn,f.Oh,0,f.Uq,da),f.Rg=da.pc,aa){c.ab="invalid literal/lengths set";f.mode=30;break}if(f.Km=6,f.Bk=f.LD,da={pc:f.Km},aa=w(2,f.Gd,f.zn,f.lq,f.Bk,0,f.Uq,da),f.Km=da.pc,aa){c.ab="invalid distances set";f.mode=30;break}if(f.mode=20,6===g)break a;case 20:f.mode=21;
case 21:if(6<=h&&258<=x){c.Kd=d;c.Gc=x;c.rj=l;c.Je=h;f.hj=y;f.pc=D;u(c,S);d=c.Kd;k=c.output;x=c.Gc;l=c.rj;e=c.input;h=c.Je;y=f.hj;D=f.pc;12===f.mode&&(f.back=-1);break}for(f.back=0;X=f.Oh[y&(1<<f.Rg)-1],U=X>>>24,R=X>>>16&255,V=65535&X,!(U<=D);){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(R&&0===(240&R)){Z=U;ha=R;for(ia=V;X=f.Oh[ia+((y&(1<<Z+ha)-1)>>Z)],U=X>>>24,R=X>>>16&255,V=65535&X,!(Z+U<=D);){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}y>>>=Z;D-=Z;f.back+=Z}if(y>>>=U,D-=U,f.back+=U,f.length=V,0===R){f.mode=
26;break}if(32&R){f.back=-1;f.mode=12;break}if(64&R){c.ab="invalid literal/length code";f.mode=30;break}f.Ic=15&R;f.mode=22;case 22:if(f.Ic){for(R=f.Ic;D<R;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}f.length+=y&(1<<f.Ic)-1;y>>>=f.Ic;D-=f.Ic;f.back+=f.Ic}f.oT=f.length;f.mode=23;case 23:for(;X=f.Bk[y&(1<<f.Km)-1],U=X>>>24,R=X>>>16&255,V=65535&X,!(U<=D);){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(0===(240&R)){Z=U;ha=R;for(ia=V;X=f.Bk[ia+((y&(1<<Z+ha)-1)>>Z)],U=X>>>24,R=X>>>16&255,V=65535&X,!(Z+U<=D);){if(0===
h)break a;h--;y+=e[l++]<<D;D+=8}y>>>=Z;D-=Z;f.back+=Z}if(y>>>=U,D-=U,f.back+=U,64&R){c.ab="invalid distance code";f.mode=30;break}f.offset=V;f.Ic=15&R;f.mode=24;case 24:if(f.Ic){for(R=f.Ic;D<R;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}f.offset+=y&(1<<f.Ic)-1;y>>>=f.Ic;D-=f.Ic;f.back+=f.Ic}if(f.offset>f.Ws){c.ab="invalid distance too far back";f.mode=30;break}f.mode=25;case 25:if(0===x)break a;if(N=S-x,f.offset>N){if(N=f.offset-N,N>f.hi&&f.Jz){c.ab="invalid distance too far back";f.mode=30;break}N>
f.ze?(N-=f.ze,ca=f.Ae-N):ca=f.ze-N;N>f.length&&(N=f.length);R=f.window}else R=k,ca=d-f.offset,N=f.length;N>x&&(N=x);x-=N;f.length-=N;do k[d++]=R[ca++];while(--N);0===f.length&&(f.mode=21);break;case 26:if(0===x)break a;k[d++]=f.length;x--;f.mode=21;break;case 27:if(f.wrap){for(;32>D;){if(0===h)break a;h--;y|=e[l++]<<D;D+=8}if(S-=x,c.Oq+=S,f.total+=S,S&&(c.vk=f.check=f.Tb?p(f.check,k,S,d-S):v(f.check,k,S,d-S)),S=x,(f.Tb?y:b(y))!==f.check){c.ab="incorrect data check";f.mode=30;break}D=y=0}f.mode=28;
case 28:if(f.wrap&&f.Tb){for(;32>D;){if(0===h)break a;h--;y+=e[l++]<<D;D+=8}if(y!==(4294967295&f.total)){c.ab="incorrect length check";f.mode=30;break}D=y=0}f.mode=29;case 29:aa=1;break a;case 30:aa=-3;break a;case 31:return-4;default:return C}return c.Kd=d,c.Gc=x,c.rj=l,c.Je=h,f.hj=y,f.pc=D,(f.Ae||S!==c.Gc&&30>f.mode&&(27>f.mode||4!==g))&&m(c,c.output,c.Kd,S-c.Gc)?(f.mode=31,-4):(Q-=c.Je,S-=c.Gc,c.tA+=Q,c.Oq+=S,f.total+=S,f.wrap&&S&&(c.vk=f.check=f.Tb?p(f.check,k,S,c.Kd-S):v(f.check,k,S,c.Kd-S)),
c.hM=f.pc+(f.last?64:0)+(12===f.mode?128:0)+(20===f.mode||15===f.mode?256:0),(0===Q&&0===S||4===g)&&aa===z&&(aa=-5),aa)};c.RO=function(b){if(!b||!b.state)return C;var c=b.state;return c.window&&(c.window=null),b.state=null,z};c.SO=function(b,c){var g;b&&b.state&&(g=b.state,0===(2&g.wrap)||(g.head=c,c.done=!1))};c.UO=function(b,c){var g,f,e=c.length;return b&&b.state?(g=b.state,0!==g.wrap&&11!==g.mode?C:11===g.mode&&(f=1,f=v(f,c,e,0),f!==g.check)?-3:m(b,c,e,e)?(g.mode=31,-4):(g.Ly=1,z)):C};c.EV="pako inflate (from Nodeca project)"},
{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(d,e){var c=d("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,
26,26,27,27,28,28,29,29,64,64];e.exports=function(e,l,d,n,q,r,v,p){var u,w,z,C,A,y,x,E,G=p.pc,B,I,H,F,M,J,O=0,P,L=null,D=0,Q=new c.no(16);C=new c.no(16);var S=null,N=0;for(B=0;15>=B;B++)Q[B]=0;for(I=0;I<n;I++)Q[l[d+I]]++;F=G;for(H=15;1<=H&&0===Q[H];H--);if(F>H&&(F=H),0===H)return q[r++]=20971520,q[r++]=20971520,p.pc=1,0;for(G=1;G<H&&0===Q[G];G++);F<G&&(F=G);for(B=u=1;15>=B;B++)if(u<<=1,u-=Q[B],0>u)return-1;if(0<u&&(0===e||1!==H))return-1;C[1]=0;for(B=1;15>B;B++)C[B+1]=C[B]+Q[B];for(I=0;I<n;I++)0!==
l[d+I]&&(v[C[l[d+I]]++]=I);if(0===e?(L=S=v,A=19):1===e?(L=b,D-=257,S=g,N-=257,A=256):(L=f,S=k,A=-1),P=0,I=0,B=G,C=r,M=F,J=0,z=-1,O=1<<F,n=O-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){y=B-J;v[I]<A?(x=0,E=v[I]):v[I]>A?(x=S[N+v[I]],E=L[D+v[I]]):(x=96,E=0);u=1<<B-J;G=w=1<<M;do w-=u,q[C+(P>>J)+w]=y<<24|x<<16|E|0;while(0!==w);for(u=1<<B-1;P&u;)u>>=1;if(0!==u?(P&=u-1,P+=u):P=0,I++,0===--Q[B]){if(B===H)break;B=l[d+v[I]]}if(B>F&&(P&n)!==z){0===J&&(J=F);C+=G;M=B-J;for(u=1<<M;M+J<H&&(u-=Q[M+J],!(0>=u));)M++,
u<<=1;if(O+=1<<M,1===e&&852<O||2===e&&592<O)return 1;z=P&n;q[z]=F<<24|M<<16|C-r|0}}return 0!==P&&(q[C+P]=B-J<<24|4194304),p.pc=F,0}},{"../utils/common":1}],10:[function(d,e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(d,e){e.exports=function(){this.input=null;this.tA=this.Je=this.rj=0;this.output=null;this.Oq=this.Gc=this.Kd=0;this.ab="";this.state=
null;this.hM=2;this.vk=0}},{}],"/lib/inflate.js":[function(d,e,c){function b(c){if(!(this instanceof b))return new b(c);var g=this.options=k.assign({HL:16384,bd:0,to:""},c||{});g.raw&&0<=g.bd&&16>g.bd&&(g.bd=-g.bd,0===g.bd&&(g.bd=-15));!(0<=g.bd&&16>g.bd)||c&&c.bd||(g.bd+=32);15<g.bd&&48>g.bd&&0===(15&g.bd)&&(g.bd|=15);this.Hx=0;this.ab="";this.ended=!1;this.Ns=[];this.vl=new n;this.vl.Gc=0;c=f.TO(this.vl,g.bd);if(c!==l.bm)throw Error(m[c]);this.header=new q;f.SO(this.vl,this.header)}function g(c,
g){var f=new b(g);if(f.push(c,!0),f.Hx)throw f.ab||m[f.Hx];return f.result}var f=d("./zlib/inflate"),k=d("./utils/common"),h=d("./utils/strings"),l=d("./zlib/constants"),m=d("./zlib/messages"),n=d("./zlib/zstream"),q=d("./zlib/gzheader"),r=Object.prototype.toString;b.prototype.push=function(b,c){var g,e,d,m,q,n,x=this.vl,E=this.options.HL,G=this.options.kV,B=!1;if(this.ended)return!1;e=c===~~c?c:!0===c?l.xr:l.cB;"string"==typeof b?x.input=h.tL(b):"[object ArrayBuffer]"===r.call(b)?x.input=new Uint8Array(b):
x.input=b;x.rj=0;x.Je=x.input.length;do{if(0===x.Gc&&(x.output=new k.Ij(E),x.Kd=0,x.Gc=E),g=f.inflate(x,l.cB),g===l.bK&&G&&(n="string"==typeof G?h.HS(G):"[object ArrayBuffer]"===r.call(G)?new Uint8Array(G):G,g=f.UO(this.vl,n)),g===l.aK&&!0===B&&(g=l.bm,B=!1),g!==l.yr&&g!==l.bm)return this.kz(g),this.ended=!0,!1;x.Kd&&(0!==x.Gc&&g!==l.yr&&(0!==x.Je||e!==l.xr&&e!==l.dB)||("string"===this.options.to?(d=h.kT(x.output,x.Kd),m=x.Kd-d,q=h.vL(x.output,d),x.Kd=m,x.Gc=E-m,m&&k.xk(x.output,x.output,d,m,0),this.eG(q)):
this.eG(k.KH(x.output,x.Kd))));0===x.Je&&0===x.Gc&&(B=!0)}while((0<x.Je||0===x.Gc)&&g!==l.yr);return g===l.yr&&(e=l.xr),e===l.xr?(g=f.RO(this.vl),this.kz(g),this.ended=!0,g===l.bm):e!==l.dB||(this.kz(l.bm),x.Gc=0,!0)};b.prototype.eG=function(b){this.Ns.push(b)};b.prototype.kz=function(b){b===l.bm&&("string"===this.options.to?this.result=this.Ns.join(""):this.result=k.iE(this.Ns));this.Ns=[];this.Hx=b;this.ab=this.vl.ab};c.ST=b;c.inflate=g;c.GV=function(b,c){return c=c||{},c.raw=!0,g(b,c)};c.KW=g},
{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
(function(a){a.og={Fi:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d){for(var e="",c,b,g,f,k,h,l=0;l<d.length;)c=d.charCodeAt(l++),b=d.charCodeAt(l++),g=d.charCodeAt(l++),f=c>>2,c=(c&3)<<4|b>>4,k=(b&15)<<2|g>>6,h=g&63,isNaN(b)?k=h=64:isNaN(g)&&(h=64),e=e+a.og.Fi.charAt(f)+a.og.Fi.charAt(c)+a.og.Fi.charAt(k)+a.og.Fi.charAt(h);return e},decode:function(d){var e="",c,b,g,f,k,h=0;for(d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<d.length;)c=a.og.Fi.indexOf(d.charAt(h++)),
b=a.og.Fi.indexOf(d.charAt(h++)),f=a.og.Fi.indexOf(d.charAt(h++)),k=a.og.Fi.indexOf(d.charAt(h++)),c=c<<2|b>>4,b=(b&15)<<4|f>>2,g=(f&3)<<6|k,e+=String.fromCharCode(c),64!==f&&(e+=String.fromCharCode(b)),64!==k&&(e+=String.fromCharCode(g));return e}};"undefined"===typeof window.btoa&&(window.btoa=a.og.encode);"undefined"===typeof window.atob&&(window.atob=a.og.decode)})(window);
(function(a){function d(a){var c;"string"!==typeof a?a={documentElement:a}:(c=new DOMParser,a=c.parseFromString(a,"text/xml"));this.current=a.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}d.prototype={tB:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.tB();return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},ta:function(){return this.current.tagName},ma:function(){++this.depth;
this.next=this.current.firstChild;this.tB();this.next||++this.diff},ya:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},K:function(a){return this.current.getAttribute(a)}};a.Ee=d})(window);
(function(a){function d(a){this.depth=this.index=0;this.de=a;this.location={start:0,Zt:1,$t:1,end:a.length,empty:!0};this.hq=[this.location];this.Oy=!1;"?"===this.de.charAt(1)&&this.ME();this.location.empty=!1}a.vr=a.vr?a.vr:{};a.vr.VS=function(a){if(a)return a.replace(/&[^;]*;/g,function(a){switch(a.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===a.charAt(2)?String.fromCharCode(parseInt(a.substring(3,a.length-1),16)):String.fromCharCode(parseInt(a.substring(2,
a.length-1),10))}return a})};d.prototype={advance:function(){this.Oi=null;this.ME();var a=this.location.start;++a;this.location.empty=!1;if("/"!==this.de.charAt(a))return this.location.empty="/"===this.de.charAt(this.de.indexOf(">",a)-1),!0;this.location.end=!0;return!1},NF:function(){var a=this.location.start+1,c=this.de.indexOf(">",a);this.location.empty&&--c;a=this.de.substring(a,c);this.Oi={};c=a.indexOf(" ");if(-1!==c){this.ZD=a.substring(0,c);for(var a=a.slice(c),a=a.split('"'),c=a.length-1,
b=0;b<c;++b){var g=a[b],f=a[++b];this.Oi[g.substring(1,g.length-1)]=f}}else this.ZD=a},ME:function(){if(this.Oy)this.Oy=!1,this.location.start=this.de.indexOf("<",this.location.start+1);else{var a=this.location.Zt;if(!this.location.empty)for(var c=this.location.$t;0<c;)a=this.de.indexOf("<",a),"/"===this.de.charAt(++a)?--c:(a=this.de.indexOf(">",a),"/"!==this.de.charAt(a-1)&&++c);this.location.start=this.de.indexOf("<",a)}this.location.Zt=this.location.start+1;this.location.$t=1},mark:function(){this.de.mark&&
this.de.mark(this.location.start)},ta:function(){null!==this.Oi&&"undefined"!==typeof this.Oi||this.NF();return this.ZD},ma:function(){++this.depth;this.location={start:this.location.start};this.hq[this.hq.length]=this.location;this.Oy=!0},ya:function(){--this.depth;this.Oi=null;var a=this.location.Zt,c=this.location.$t,b=this.location.empty,g=this.location.end;this.hq.pop();this.location=this.hq[this.hq.length-1];this.location.Zt=a;this.location.$t=g?0:b?c:c+1},K:function(e){null!==this.Oi&&"undefined"!==
typeof this.Oi||this.NF();return a.vr.VS(this.Oi[e])}};a.iU=d})(self);
(function(a){a.setImmediate||function(){function d(b){var a=b.data;if("string"==typeof a&&0==a.indexOf("IM")&&(b=c[a]))a:{delete c[a],a=b[0];switch(b.length){case 1:a();break a;case 2:a(b[1]);break a;case 3:a(b[1],b[2]);break a}a.apply(window,g.call(b,1))}}var e=0,c={},b=!0,g=Array.prototype.slice;a.setImmediate=function(){for(var g=e++,k="IM"+g,h=arguments.length,l=Array(h);h--;)l[h]=arguments[h];c[k]=l;b&&(b=!1,a.addEventListener("message",d));a.postMessage(k,"*");return g};a.clearImmediate=function(b){delete c["IM"+
b]}}()})("undefined"===typeof self?this:self);
(function(a){function d(b){if(b){if(b.length!==this.Kl)throw Error("Data is wrong size for zip header!");this.zp=b=this.zQ(b);if(b.zj!==this.KM)throw Error("Invalid XOD file, signature is wrong!");this.uP=4294967295===b.Vs;this.Rf={};this.names=[]}}function e(b,c,e){this.source=b;this.Ls=this.ex=!1;this.uf={};this.Ek=function(){};this.decrypt=c;this.zk=e;this.wD=a.o.eh&&c!==a.o.eh.decrypt}function c(b){this.hl=b;this.started=!1;this.Xh=1}c.prototype={cancel:function(){}};a.cj=function(b){if("string"!==
typeof b){for(var a="",c=0,e=b.length,l;c<e;)l=b.subarray(c,c+1024),c+=1024,a+=String.fromCharCode.apply(null,l);return a}return b};a.pO=function(b){if("string"===typeof b){for(var a=new Uint8Array(b.length),c=b.length,e=0;e<c;e++)a[e]=b.charCodeAt(e);return a}return b};e.prototype={Df:"Document/FixedDocument.fdoc",pg:"Document/DocProps/core.xml",Cf:"Document/Structure/DocStruct.struct",wR:function(b){this.Ek=b},ml:function(b){var c=this;this.xn(function(e){if(e){a.utils.warn("Error loading document: "+
e);c.Ek(e);if(b){b(e);return}throw e;}return c.request([c.Df,c.pg,c.Cf])})},ai:function(){return!1},request:function(b,a){var c=this;if(!c.ex)throw Error("Document must be loaded before requesting parts");_(b).each(function(b){c.QM(b,function(b,g,e,d){return b?(g!==c.Cf&&c.Ek(b),c.trigger("partReady",{pa:g,Of:!1,hd:!!b.Mw,error:b})):c.trigger("partReady",{pa:g,data:e,Of:!1,hd:!1,error:null,wb:d,bG:a})})})},rl:function(b){this.lf=b},fA:function(b){this.withCredentials=b},$w:function(b){var a=this;
_(b).each(function(b){var c=a.uf[b];c&&(c.Xh--,0===c.Xh&&(delete a.uf[b],c.cancel()))})},QM:function(b,a){if(this.uf[b])this.uf[b].Xh++;else return this.uf[b]=new c(b),this.GG(b,a)}};_(e.prototype).extend(Backbone.Events);d.prototype={CE:function(){return{start:this.zp.Vs,stop:this.zp.Vs+this.zp.JD}},Jp:function(b){var a=this.Rf[b],c=a.offset+this.Ao+a.Wg+a.Fk;return{start:c,stop:c+a.Gs,hl:b}},ut:function(b){b=this.Jp(b);var a=Math.floor(b.start/102400),c=b.stop-b.start;return Math.min(c,102400*(a+
1)-b.start)>c/2?a:a+1},GP:function(b){if(b&&(this.zp=b=this.CQ(b),b.zj!==this.wT))throw Error("Invalid XOD file, signature is wrong!");},pN:function(b){var a=this.ut(b),c=this.names.indexOf(b),e;b=[];var l;for(l=c-1;0<=l&&this.ut(this.names[l])===a;--l);e=l+1;var d=this.Jp(this.names[e]).start;for(l=c+1;l<this.names.length&&this.ut(this.names[l])===a;++l);a=l-1;c=this.Jp(this.names[a]).stop;for(l=e;l<=a;++l)e=this.Jp(this.names[l]),e.start-=d,e.stop-=d,b.push(e);return{start:d,stop:c,DG:b}},mD:function(b){return!!this.Rf[b]},
vF:function(b){return 0!==this.Rf[b].Os},EG:function(b){for(var a=10,c=this.GI,e=this.zp.XH,l=0;l<e;l++){var d=this.AQ(b,a),a=a+c,n=b.substr(a,d.Wg),a=a+(d.Wg+d.Fk+d.kD+10);this.Rf[n]=d;this.names[this.names.length]=n}},ZJ:56,$J:20,Kl:22,GI:36,Ao:30,Hu:function(b,a,c){for(var e="",l=0;l<a;l++)var d=b.charCodeAt(l+c).toString(16),e=1===d.length?"0"+d+e:d+e;return parseInt(e,16)},AQ:function(b,a){var c={},e=this.Hu;c.Os=e(b,2,a);c.Gs=e(b,4,a+10);c.TS=e(b,4,a+14);c.Wg=e(b,2,a+18);c.Fk=e(b,2,a+20);c.kD=
e(b,2,a+22);c.offset=e(b,4,a+32);return c},CQ:function(b){var a={},c=this.Hu;a.zj=c(b,4,0);a.BV=c(b,8,4);a.MW=c(b,2,12);a.NW=c(b,2,14);a.tM=c(b,4,16);a.FL=c(b,4,20);a.XP=c(b,8,24);a.XH=c(b,8,32);a.JD=c(b,8,40);a.Vs=c(b,8,48);return a},zQ:function(b){var a={},c=this.Hu;a.zj=c(b,4,0);a.tM=c(b,2,4);a.FL=c(b,2,6);a.XP=c(b,2,8);a.XH=c(b,2,10);a.JD=c(b,4,12);a.Vs=c(b,4,16);a.kD=c(b,2,20);return a},FG:function(b){var a={},c=this.Hu;a.zj=c(b,4,0);a.LW=c(b,2,4);a.Tb=c(b,2,6);a.Os=c(b,2,8);a.$V=c(b,2,10);a.ZV=
c(b,2,12);a.RU=c(b,4,14);a.Gs=c(b,4,18);a.TS=c(b,4,22);a.Wg=c(b,2,26);a.Fk=c(b,2,28);return a},KM:101010256,wT:101075792,SF:67324752,TF:"PK\u0003\u0004"};d.inflate=function(b){return"string"===typeof b?a.Vl.inflate(b):a.hQ.inflate(b,{bd:-15})};a.o=a.o||{};a.o.V=a.o.V||{};var b=a.o.V;b.Xe=e;b.yi=d;b.Uw=Array(1024);a.ry=function(c,f,e,d){f=f||0;e=e||!1;var l="",m;m=!(_.isNull(c.responseBody)||_.isUndefined(c.responseBody));if(10===a.utils.ie&&m||!a.Uint8Array&&m){m=c.responseBody;d=_.isArray(m)?m:(new a.VBArray(m)).toArray();
f=d.length;c=Array(f);for(e=0;e<f;e++)c[e]=d[e]&255;e=f/1024+1;for(f=0;f<e;f++)l+=String.fromCharCode.apply(null,c.slice(1024*f,1024*f+1024))}else if(!a.Uint8Array||e||_.isUndefined(c.response))for(m=c.responseText,c=b.Uw,e=f;e<d;){for(f=0;1024>f&&e<d;++f)c[f]=m.charCodeAt(e)&255,++e;l+=String.fromCharCode.apply(null,c.slice(0,f))}else{m=c.response;d=new a.Uint8Array(m);m=d.length;e=f;if(a.utils.typedArrayApply)return d.subarray(f);for(c=b.Uw;e<m;){f=0;for(var n=Math.min(e+1024,m);e<n;f++,e++)c[f]=
d[e];l+=String.fromCharCode.apply(null,1024>f?c.slice(0,f):c)}}return l};a.o.V.ki={lr:0,GA:1,cJ:2}})(window);
(function(a){function d(b,c,f){e.apply(this,arguments);if("xod"!==b.name.split(".").pop())throw Error("Not an XOD file");if(!a.FileReader||!a.File||!a.Blob)throw Error("File API is not supported in this browser");this.file=b;this.Ms=[];this.rx=0}var e=a.o.V.Xe,c=a.o.V.yi;d.prototype=new e;d.prototype=_(d.prototype).extend({bz:function(b,a,c){var e=this,d=new FileReader;d.onloadend=function(b,m){if(0<e.Ms.length){var n=e.Ms.shift();n.DQ.readAsBinaryString(n.file)}else e.rx--;if(d.error){n=d.error;
if(n.code===n.ABORT_ERR){console.warn("Request for chunk "+a.start+"-"+a.stop+" was aborted");return}return c(n)}return c(!1,m||b.target.result)};a&&(b=(b.slice||b.webkitSlice||b.mozSlice||b.Kx).call(b,a.start,a.stop));0===e.Ms.length&&50>e.rx?(d.readAsBinaryString(b),e.rx++):e.Ms.push({DQ:d,file:b});return function(){d.abort()}},xn:function(b){var a=this;a.Ls=!0;var f=c.prototype.Kl;a.bz(a.file,{start:-f,stop:a.file.size},function(e,d){if(e)return console.warn("Error loading end header: %s",e),b(e);
if(d.length!==f)throw Error("Zip end header data is wrong size!");a.Ab=new c(d);var l=a.Ab.CE();a.bz(a.file,l,function(c,f){if(c)return console.warn("Error loading central directory: %s",c),b(c);if(f.length!==l.stop-l.start)throw Error("Zip central directory data is wrong size!");a.Ab.EG(f);a.ex=!0;a.Ls=!1;return b(!1)})})},GG:function(b,a){var c=this,e=c.uf[b];if(!c.Ab.mD(b))return a(Error('File not found: "'+b+'"'),b);var d=c.Ab.Jp(b),l=c.bz(c.file,d,function(e,k){delete c.uf[b];if(e)return console.warn('Error loading part "%s": %s',
b,e),a(e);if(k.length!==d.stop-d.start)throw Error("Part data is wrong size!");var l=c.Ab.vF(b);a(!1,b,k,l)});e.started=!0;e.cancel=l}});a.o.V.ZI=d;a.Ve=a.Ve||{};a.Ve.MT=function(b){return{name:b.value.split(/[/\\]/).pop(),size:null,data:null,waiting:[],Ny:!1,Kx:function(b,a){return{fG:this,Kx:this.Kx,start:b,stop:a}}}};a.Ve.NT=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(b){var a=b.fG||b,c=this,e=encodeURI(a.name);if(a.data)return this.Hy(b);if(a.Ny)return a.waiting.push(function(){c.Hy(b)});
a.Ny=!0;new JSIO.HT(e,function(e){a.Ny=!1;if(e)return console.error('Failed to load file "%s"',a.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),c.error=Error('Failed to load file "%s"',a.name),c.onloadend(c.error);a.size=this.fileSize;a.data=this.read(this.fileSize);c.Hy.call(c,b);for(e=0;e<a.waiting.length;e++)a.waiting[e]();a.waiting=[]})},Hy:function(b){var a=b.fG||b,c=b.start||0;b=b.stop||a.size;null===c&&(c=a.size);null===b&&(b=a.size);0>c&&(c=a.size+
c);0>b&&(b=a.size+b);a=a.data.slice(c,b);c="";for(b=0;b<a.length/1E3;b++)c+=String.fromCharCode.apply(null,a.slice(1E3*b,1E3*b+1E3));this.result=c;this.onloadend({},c)}}}})(window);
(function(a){function d(a){this.file=a}d.prototype=$.extend({getFileData:function(a){var c=this,b=new FileReader;b.onload=function(b){c.trigger("documentLoadingProgress",[b.loaded,b.loaded]);a(new Uint8Array(b.target.result))};b.onprogress=function(b){b.lengthComputable&&c.trigger("documentLoadingProgress",[b.loaded,0<b.total?b.total:0])};b.readAsArrayBuffer(this.file)},getFile:function(){return a.utils.isJSWorker?this.file.path:this.file}},a.utils.eventHandler);a.o.V.$I=d})(window);
(function(a){function d(a){this.buffer=a}d.prototype=$.extend({getFileData:function(a){a(new Uint8Array(this.buffer))},getFile:function(){return null}},a.utils.eventHandler);a.o.V.wI=d})(window);
(function(a){function d(b,a,c,g){f.apply(this,[b,c,g]);this.$h={};this.lp=a;this.url=b}function e(){this.Xh=1}function c(b){var c=b.request,g=b.range;return function(f,e){if(f){if(f.code===c.Cb.Gj){a.utils.warn("Request for range "+g.start+"-"+g.stop+" was aborted");return}return b.Le.forEach(function(b){b("Error retrieving file: "+c.url+". Received return status "+f.status+".")})}return b.Le.forEach(function(b){b(!1,e,c)})}}function b(b,c,g,f){this.url=b;this.range=c;this.lf=g;this.request=new XMLHttpRequest;
this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");f&&(this.request.withCredentials=f);_.isUndefined(c.stop)?this.request.setRequestHeader("Range","bytes="+c.start):this.request.setRequestHeader("Range",["bytes=",c.start,"-",c.stop-1].join(""));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");if(g)for(var e in g)this.request.setRequestHeader(e,g[e]);this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):
this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Cb.ri}function g(b,c,g){for(var f=-1,e=0;e<g.length;e++)_.isEqual(g[e].range,c)&&_.isEqual(g[e].url,b)&&(f=e);-1===f&&a.utils.warn(c+" not found in queue");return f}var f=a.o.V.Xe,k=a.o.V.yi,h=[],l=[];b.prototype={constructor:b,start:function(b){var c=this,g=this.request;g.onreadystatechange=function(){if(c.Mw)return c.status=c.Cb.Gj,b({code:c.Cb.Gj});if(this.readyState===c.XJ.DONE){c.yt();var f=0===window.document.URL.indexOf("file:///");
200===g.status||206===g.status||f&&0===g.status?(f=a.ry(this),c.success(f,b)):(c.status=c.Cb.ERROR,b({code:c.status,status:this.status}))}};this.request.send(null);this.status=this.Cb.Tj},success:function(b,a){this.status=this.Cb.EJ;if(a)return a(!1,b)},abort:function(){this.yt();this.Mw=!0;this.request.abort()},yt:function(){var b=g(this.url,this.range,l);-1!==b&&l.splice(b,1);if(0<h.length){var b=h.shift(),a=new this.constructor(b.url,b.range,this.lf,this.withCredentials);b.request=a;l.push(b);
a.start(c(b))}},XJ:{gU:0,DONE:4},Cb:{ri:0,Tj:1,EJ:2,ERROR:3,Gj:4},extend:function(b){var a=$.extend({},this,b.prototype);a.constructor=b;return a}};a.QW=[];d.prototype={Fu:b,aJ:3,Qs:function(b,c,g){var f=-1===b.indexOf("?")?"?":"&";switch(g){case !1:case a.o.V.ki.lr:b=b+f+"_="+_.uniqueId();break;case !0:case a.o.V.ki.GA:b=b+f+"_="+c.start+","+(_.isUndefined(c.stop)?"":c.stop)}return b},LM:function(b,a,c,g,f){for(var e=0;e<h.length;e++)if(_.isEqual(h[e].range,a)&&_.isEqual(h[e].url,b))return h[e].Le.push(g),
h[e].nu++,null;for(e=0;e<l.length;e++)if(_.isEqual(l[e].range,a)&&_.isEqual(l[e].url,b))return l[e].Le.push(g),l[e].nu++,null;c={url:b,range:a,lp:c,Le:[g],nu:1,request:{}};if(0===h.length&&l.length<this.aJ)return l.push(c),c.request=new this.Fu(b,a,f,this.withCredentials),c;h.push(c);return null},Zk:function(b,a,f){var e=this.Qs(b,a,this.lp);(b=this.LM(e,a,this.lp,f,this.lf))&&b.request.start(c(b));return function(){var b=g(e,a,l),c;-1!==b?(c=--l[b].nu,0===c&&l[b].request.abort()):(b=g(e,a,h),-1!==
b&&(c=--h[b].nu,0===c&&h.splice(b,1)))}},GE:function(){return{start:-k.prototype.Kl}},xO:function(){var b=-(k.prototype.Kl+k.prototype.$J);return{start:b-k.prototype.ZJ,end:b}},xn:function(b){var c=this;c.Ls=!0;var g=k.prototype.Kl;c.Zk(c.url,c.GE(),function(f,e){function l(){var g=c.Ab.CE();c.Zk(c.url,g,function(f,e){if(f)return a.utils.warn("Error loading central directory: "+f),b(f);e=a.cj(e);if(e.length!==g.stop-g.start)return b("Invalid XOD file: Zip central directory data is wrong size! Should be "+
(g.stop-g.start)+" but is "+e.length);c.Ab.EG(e);c.ex=!0;c.Ls=!1;return b(!1)})}if(f)return a.utils.warn("Error loading end header: "+f),b(f);e=a.cj(e);if(e.length!==g)return b("Invalid XOD file: Zip end header data is wrong size!");try{c.Ab=new k(e)}catch(d){return b(d)}c.Ab.uP?c.Zk(c.url,c.xO(),function(g,f){if(g)return a.utils.warn("Error loading zip64 header: "+g),b(g);f=a.cj(f);c.Ab.GP(f);l()}):l()})},oy:function(b){b(Object.keys(this.Ab.Rf))},GG:function(b,c){var g=this;if(!g.Ab.mD(b))return delete g.uf[b],
c(Error('File not found: "'+b+'"'),b);var f=g.Ab.ut(b);if(f in g.$h){var k=g.uf[b];k.Dm=g.$h[f];k.Dm.Xh++;k.cancel=k.Dm.cancel}else{var l=g.Ab.pN(b),d=g.Zk(g.url,l,function(e,k){e?(a.utils.warn('Error loading part "'+b+'": '+e),g.Zk(g.url,l,function(a,e){if(a)return c(a,b);g.HG(e,l,f,b,c)})):g.HG(k,l,f,b,c)}),h=g.uf[b];h&&(h.started=!0,h.cancel=function(){h.Dm.Xh--;0===h.Dm.Xh&&(d(),delete g.$h[f])},g.$h[f]=new e,h.Dm=g.$h[f],h.Dm.cancel=h.cancel)}},HG:function(b,a,c,g,f){if(b.length!==a.stop-a.start)return f(Error("Part data is wrong size!"),
g);do{if(!this.$h[c])return;g=this.$h[c].Xh;for(var e=a.DG.length,k=0;k<e;++k){var l=a.DG[k];f(!1,l.hl,b["string"===typeof b?"substring":"subarray"](l.start,l.stop),this.Ab.vF(l.hl));l.hl in this.uf&&delete this.uf[l.hl]}}while(g!==this.$h[c].Xh);delete this.$h[c]}};d.prototype=$.extend(new f,d.prototype);a.o.V.Kj=d;a.o.V.uv=b})(window);
(function(a){function d(a,b){e.apply(this,[a]);this.url=a;-1===b.indexOf("/",b.length-1)&&(b+="/");this.path=b}var e=a.o.V.Xe;d.prototype=new e;d.prototype=_(d.prototype).extend({request:function(c){var b=this;_(c).each(function(c){var f=-1!==c.indexOf("Thumbs/"),e=-1!==c.indexOf("Fonts/");if(-1!==c.indexOf("Images/")||f||e)return b.trigger("partReady",{pa:c,data:c,Of:!0,hd:!1,error:null,wb:!1});$.ajax({url:b.path+c,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var b=$.ajaxSettings.xhr();
b&&(this.gO=function(){return b.responseBody});return b},success:function(f){var e=a.utils.ie?this.gO():f;f="";var k,d,q;if(a.utils.ie){e=(new a.VBArray(e)).toArray();q=e.length;k=Array(q);for(d=0;d<q;d++)k[d]=e[d]&255;e=q/1024+1;for(d=0;d<e;d++)f+=String.fromCharCode.apply(null,k.slice(1024*d,1024*d+1024))}else for(k=a.o.V.Uw,d=0;d<e.length;){for(q=0;1024>q&&d<e.length;++q)k[q]=e.charCodeAt(d)&255,++d;f+=String.fromCharCode.apply(null,k.slice(0,q))}return b.trigger("partReady",{pa:c,data:f,Of:!1,
hd:!1,error:null,wb:!0})},error:function(a,f,e){a=Error(f+" "+e);return b.trigger("partReady",{pa:c,Of:!1,hd:!!a.Mw,error:a})}})})},xn:function(a){a()}});a.o.V.Cv=d})(window);
(function(a){function d(a,c){c=c||{};this.url=a;this.filename=c.filename||a;this.lf=null;this.iT=!!c.useDownloader;this.withCredentials=!!c.withCredentials}d.prototype=$.extend({rl:function(a){this.lf=a},getFileData:function(a){var c=new XMLHttpRequest,b=0===this.url.indexOf("blob:")?"blob":"arraybuffer";c.open("GET",this.url,!0);c.withCredentials=this.withCredentials;c.responseType=b;var g=this;if(this.lf)for(var f in this.lf)c.setRequestHeader(f,this.lf[f]);var k=/^https?:/i.test(this.url);c.addEventListener("load",
function(b){if(200===this.status||!k&&0===this.status)if(g.trigger("documentLoadingProgress",[b.loaded,b.loaded]),"blob"===this.responseType){b=this.response;var c=new FileReader;c.onload=function(b){a(new Uint8Array(b.target.result))};c.readAsArrayBuffer(b)}else try{c=new Uint8Array(this.response),a(c)}catch(f){g.trigger("error",["pdfLoad","Out of memory"])}else g.trigger("error",["pdfLoad",b.currentTarget.statusText])},!1);c.onprogress=function(b){g.trigger("documentLoadingProgress",[b.loaded,0<
b.total?b.total:0])};c.addEventListener("error",function(){g.trigger("error",["pdfLoad","Network failure"])},!1);c.send()},getFile:function(){if(a.utils.isJSWorker)return this.url;if(this.iT){var e={url:this.url};this.lf&&(e.customHeaders=this.lf);return e}return null}},a.utils.eventHandler);a.o.V.hr=d})(window);
(function(a){function d(a,g,d,l){b.apply(this,[a,d,l]);this.url=a;this.stream=new c(a,g);this.Ab=new e;this.wq=createPromiseCapability()}function e(){this.buffer="";this.state=0;this.ul=4;this.Mc=null;this.Re=g.prototype.Ao;this.Rf={}}function c(b,c){var g=-1===b.indexOf("?")?"?":"&";switch(c){case !1:case a.o.V.ki.lr:this.url=b+g+"_="+_.uniqueId();break;default:this.url=b}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");
this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Cb.ri}var b=a.o.V.Xe,g=a.o.V.yi;c.prototype={start:function(b,a){var c=this,g=this.request,e;c.ag=0;if(b)for(var d in b)this.request.setRequestHeader(d,b[d]);a&&(this.request.withCredentials=a);this.Uh=setInterval(function(){var b=0===window.document.URL.indexOf("file:///"),b=200===g.status||b&&0===g.status;if(4!==g.readyState||
b){try{g.responseText}catch(a){return}c.ag<g.responseText.length&&(e=c.Az())&&c.trigger("data",e);0===g.readyState&&(clearInterval(c.Uh),c.trigger("done"))}else clearInterval(c.Uh),c.trigger("done","Error received return status "+g.status)},1E3);this.request.send(null);this.status=this.Cb.Tj},Az:function(){var b=this.request,c=b.responseText;if(0!==c.length)if(this.ag===c.length)clearInterval(this.Uh),this.trigger("done");else return c=Math.min(this.ag+3E6,c.length),b=a.ry(b,this.ag,!0,c),this.ag=
c,b},abort:function(){clearInterval(this.Uh);var b=this;this.request.onreadystatechange=function(){a.utils.warn("StreamingRequest aborted");b.status=b.Cb.Gj;return b.trigger("aborted")};this.request.abort()},finish:function(){var b=this;this.request.onreadystatechange=function(){b.status=b.Cb.Dv;return b.trigger("done")};this.request.abort()},Cb:{ri:0,Tj:1,Dv:2,ERROR:3,Gj:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new g;e.prototype=_(e.prototype).extend({processData:function(b){var a;
for(b=this.buffer+b;b.length>=this.Re;)switch(this.state){case 0:this.Mc=a=this.FG(b.slice(0,this.Re));if(a.zj!==this.SF)throw Error("Wrong signature in local header: "+a.zj);b=b.slice(this.Re);this.state=1;this.Re=a.Gs+a.Wg+a.Fk+this.ul;this.trigger("header",a);break;case 1:if(this.Mc.name=b.slice(0,this.Mc.Wg),this.Rf[this.Mc.name]=this.Mc,a=this.Re-this.ul,this.trigger("file",this.Mc.name,b.slice(this.Mc.Wg+this.Mc.Fk,a),this.Mc.Os),b=b.slice(a),b.slice(0,this.ul)===this.TF)this.state=0,this.Re=
g.prototype.Ao;else return this.state=2,!0}this.buffer=b;return!1}});_(e.prototype).extend(Backbone.Events);d.prototype=new b;d.prototype=_(d.prototype).extend({ml:function(b){var a=this;this.request([this.Df,this.pg,this.Cf]);this.stream.bind("data",function(c){try{if(a.Ab.processData(c))return a.stream.finish()}catch(g){throw a.stream.abort(),a.Ek(g),b(g),g;}});this.stream.bind("done",function(c){a.wq.resolve();c&&(a.Ek(c),b(c))});this.Ab.bind("header",_(this.Iu).bind(this));this.Ab.bind("file",
_(this.Cz).bind(this));return this.stream.start(this.lf,this.withCredentials)},oy:function(b){var a=this;this.wq.promise.then(function(){b(Object.keys(a.Ab.Rf))})},ai:function(){return!0},request:function(){},Iu:function(){},abort:function(){this.stream&&this.stream.abort()},Cz:function(b,a,c){this.trigger("partReady",{pa:b,data:a,Of:!1,hd:!1,error:null,wb:c})}});a.o.V.ZA=d;a.o.V.dU=c})(window);
(function(a){function d(a,g,d,l){b.apply(this,[a,d,l]);this.url=a;this.stream=new c(a,g);this.Ab=new e(g,d,l,a.slice(0,a.lastIndexOf("/")+1));this.wq=createPromiseCapability();this.qM={};this.UG=null;this.timeStamp=0}function e(b,a,c,e){this.lp=b;this.decrypt=a;this.zk=c;this.buffer="";this.state=0;this.ul=4;this.Mc=null;this.Re=g.prototype.Ao;this.Dn=[];this.Qu=[];this.oq=this.hz=0;this.Rf={};this.YQ=e;this.gu="";this.Gu=null;this.$y="";this.Gz=0;this.JP=5}function c(b,c){var g=-1===b.indexOf("?")?
"?":"&";switch(c){case !1:case a.o.V.ki.lr:this.url=b+g+"_="+_.uniqueId();break;default:this.url=b}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Cb.ri}var b=a.o.V.Xe,g=a.o.V.yi;c.prototype={start:function(b,a){var c=this,g=this.request,
e;c.ag=0;if(b)for(var d in b)this.request.setRequestHeader(d,b[d]);a&&(this.request.withCredentials=a);this.Uh=setInterval(function(){var b=0===window.document.URL.indexOf("file:///"),b=200===g.status||b&&0===g.status;if(4!==g.readyState||b){try{g.responseText}catch(a){return}c.ag<g.responseText.length&&(e=c.Az())&&c.trigger("data",e);0===g.readyState&&(clearInterval(c.Uh),c.trigger("done"))}else clearInterval(c.Uh),c.trigger("done","Error received return status "+g.status)},300);this.request.send(null);
this.status=this.Cb.Tj},Az:function(){var b=this.request,c=b.responseText;if(0!==c.length)if(this.ag===c.length)clearInterval(this.Uh),this.trigger("done");else return c=Math.min(this.ag+3E6,c.length),b=a.ry(b,this.ag,!0,c),this.ag=c,b},abort:function(){clearInterval(this.Uh);var b=this;this.request.onreadystatechange=function(){a.utils.warn("RangeStreamingRequest aborted");b.status=b.Cb.Gj;return b.trigger("aborted")};this.request.abort()},finish:function(){var b=this;this.request.onreadystatechange=
function(){b.status=b.Cb.Dv;return b.trigger("done")};this.request.abort()},Cb:{ri:0,Tj:1,Dv:2,ERROR:3,Gj:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new g;e.prototype=_(e.prototype).extend({gM:function(b){b=a.utils.utf8_decode(b).split("\n");this.$y&&(b[0]=this.$y+b[0]);var c=b[b.length-1];c&&(this.$y=c,b.pop());0<b.length&&3>b[b.length-1].length&&b.pop();0<b.length&&3>b[0].length&&b.shift();return b},yQ:function(b){if(!b)return!1;b=this.gM(b);for(var a=0,c=0,g,e=this.gu,d=!1,q=0;q<b.length;++q)if(g=
b[q].trim().replace(/(^[[,]*|[\],]*$)/g,""),!(4>g.length)){g=JSON.parse(g)||{};g.url&&(this.gu=this.YQ+g.url,e!==this.gu&&(a=0,d=!0),e=this.gu);g.size&&(0===a&&(c=g.pos),a+=g.size,d||1048576<a||0===this.hz||b.length===q+1)&&(this.dz({start:c,stop:c+a,url:e}),a=0);if(g.end||0===g.size)return 0<a&&this.dz({start:c,stop:c+a,url:e}),!0;d=!1}return!1},dz:function(b){var c=this;if(0<this.hz&&0===this.oq)this.Qu.push(b);else{var g=this.hz++;this.Gu&&this.Gu.url===b.url||(this.Gu=new a.o.V.Kj(b.url,this.lp,
this.decrypt,this.zk));var e=this.Gu;++c.Gz;e.Zk(b.url,b,function(a,e){--c.Gz;c.$P(e,g,b)})}},WM:function(){if(0<this.oq)for(;0<this.Qu.length&&this.Gz<this.JP;)this.dz(this.Qu.shift())},$P:function(b,c,g){this.Dn[c-this.oq]={data:b,range:g};for(b=c;this.oq===b;b++)0<this.Dn.length&&this.Dn[0]&&(this.processData(a.cj(this.Dn[0].data),this.Dn[0].range),this.Dn.shift(),++this.oq,this.WM())},processData:function(b){var a;if(2===this.state)return!1;for(b=this.buffer+b;b.length>=this.Re;)switch(this.state){case 0:this.Mc=
a=this.FG(b.slice(0,this.Re));if(a.zj!==this.SF)throw Error("Wrong signature in local header: "+a.zj);b=b.slice(this.Re);this.state=1;this.Re=a.Gs+a.Wg+a.Fk+this.ul;this.trigger("header",a);break;case 1:if(this.Mc.name=b.slice(0,this.Mc.Wg),this.Rf[this.Mc.name]=this.Mc,a=this.Re-this.ul,this.trigger("file",this.Mc.name,b.slice(this.Mc.Wg+this.Mc.Fk,a),this.Mc.Os),b=b.slice(a),b.slice(0,this.ul)===this.TF)this.state=0,this.Re=g.prototype.Ao;else return this.state=2,!0}this.buffer=b;return!1}});_(e.prototype).extend(Backbone.Events);
d.prototype=new b;d.prototype=_(d.prototype).extend({ml:function(b){var a=this;this.request([this.Df,this.pg,this.Cf]);this.stream.bind("data",function(c){try{if(a.Ab.yQ(c))return a.stream.finish()}catch(g){throw a.stream.abort(),a.Ek(g),b(g),g;}});this.stream.bind("done",function(c){a.wq.resolve();a.UG={};c&&(a.Ek(c),b(c))});this.Ab.bind("header",_(this.Iu).bind(this));this.Ab.bind("file",_(this.Cz).bind(this));this.timeStamp=Date.now();return this.stream.start(this.lf,this.withCredentials)},oy:function(b){var a=
this;this.wq.promise.then(function(){b(Object.keys(a.Ab.Rf))})},ai:function(){return!0},request:function(){},Iu:function(){},abort:function(){this.stream&&this.stream.abort()},Cz:function(b,a,c){this.trigger("partReady",{pa:b,data:a,Of:!1,hd:!1,error:null,wb:c});this.qM[b]={pa:b,data:null,wb:c}}});a.o.V.zJ=d;a.o.V.bU=c})(window);
(function(a){function d(a){e.apply(this,arguments);this.db=a}var e=a.o.V.Xe;d.prototype=new e;d.prototype=_(d.prototype).extend({request:function(a){var b=this;_(a).each(function(a){b.db.get(a,function(c,e,d){return c?b.trigger("partReady",{pa:a,error:c}):b.trigger("partReady",{pa:a,data:e,Of:!1,hd:!1,error:null,wb:d})})})},xn:function(a){a()}});a.o.V.Ko=d})(window);
(function(a){function d(b,a,e,k){c.apply(this,arguments)}function e(b,c){this.url=b;this.range=c;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Cb.ri}var c=a.o.V.Kj;e.prototype=a.o.V.uv.prototype.extend(e);d.prototype={Fu:e,Qs:function(b,a){return b+"/bytes="+a.start+","+(a.stop?a.stop:"")}};d.prototype=$.extend(new c,d.prototype);a.o.V.vI=
d;a.o.V.GT=e})(window);
(function(a){a.o.FA=function(a,e){function c(b,a){function c(b){d().then(function(a){u&&!w?setTimeout(function(){c(b)},1):a.send(JSON.stringify(b))})}function e(b,a,g){var k=createPromiseCapability(),d=!1,h=k;r=b;v=a;p=g;n=null;try{var B=new WebSocket(z?q+"/"+z:q+"/ws");B.onopen=function(){k.resolve();d=!0;k=null;u=!1;m.resolve(B);v&&v()};B.onerror=function(b){u=w=!0;k&&k.reject(b);n&&n.reject()};B.onclose=function(){m=createPromiseCapability();u=!0;n||(n=createPromiseCapability());n.resolve();p&&
p();r&&d&&r({t:"health",data:{unhealthy:!0}})};B.onmessage=function(b){b&&b.data&&(b=JSON.parse(b.data),b.hb?c({hb:!0}):b.end?l():r(b))}}catch(I){k.reject(I),k=null}return h.promise}function d(){u&&r&&e(r);return m.promise}function l(){return n?n.promise:d().then(function(b){n=createPromiseCapability();b.close();return n.promise})}var m=createPromiseCapability(),n=null,q=function(b){var a=b.indexOf("://"),c="ws://";0>a?a=0:(5===a&&(c="wss://"),a+=3);var g=b.lastIndexOf("/");0>g&&(g=b.length);return c+
b.slice(a,g)}(b),r=null,v=null,p=null,u=!1,w=!1,z=a;return{send:c,jA:e,close:l}}return window.WebSocket?c(a,e):function(b,a){function c(b){(v?v.promise:Promise.resolve(r)).then(function(a){var c=new XMLHttpRequest;a=q?n+"/"+q+"pf?id="+a:n+"/pf?id="+a;var g=new FormData;g.append("data",JSON.stringify(b));c.open("POST",a);c.send(g)})}function e(){d();p=!0;u();m.close()}function d(){r=0;v||(v=createPromiseCapability())}function l(){m=new XMLHttpRequest;var b=n+"/pf",b=0!==r?b+("?id="+r+"&uc="+z):b+("?uc="+
z);z++;m.open("GET",b,!0);m.setRequestHeader("Cache-Control","no-cache");m.setRequestHeader("X-Requested-With","XMLHttpRequest");var a=m,g=!1;m.onreadystatechange=function(){a:{var b;if(3<=a.readyState&&!g){try{b=a.responseText.length}catch(m){console.log("caught exception");break a}if(0<b)try{var q=a.responseText.split("\n");for(q[q.length-1]&&q.pop();0<q.length&&3>q[q.length-1].length;)"]"===q.pop()&&d();0<q.length&&3>q[0].length&&q.shift();for(b=0;b<q.length;++b)q[b].endsWith(",")&&(q[b]=q[b].substr(0,
q[b].length-1));0===r&&0<q.length&&(r=JSON.parse(q.shift()).id,b=v,v=null,b.resolve(r));var n;for(b=0;b<q.length;++b)(n=JSON.parse(q[b]))&&n.end?e():n&&n.hb&&n.id===r?c({hb:!0}):w(n)}catch(m){}p?console.log("dead"):(g=!0,l())}}};m.send()}var m,n=function(b){var a=b.lastIndexOf("/");0>a&&(a=b.length);return b.slice(0,a)}(b),q=a,r=0,v=createPromiseCapability(),p=!1,u=null,w=null,z=0;return{send:c,jA:function(b,a,c){w=b;u=c;p=!1;d();l();a&&a();return Promise.resolve()},close:e}}(a,e)}})(window);
(function(a){function d(b,g){g.endsWith("/")||(g+="/");g.endsWith("blackbox/")||(g+="blackbox/");this.px=a.o.FA(g);this.gv=null;this.vf=g;this.ND=b;this.$d=null;this.gl=e();this.Ui=e();this.ox=!1;this.Ie=this.Qc=this.cd=this.Ld=null;this.fe=[];this.nt=[];this.cache={};this.UG=null;this.Qu=[];this.timeStamp=0;this.te=[];this.rf=[];this.Mx=null;this.sx=!1;this.Sz=this.id=null;this.az=this.kF=c;this.Eq=0;this.Iy=!1;this.TP=1;this.cu={}}function e(){var b={promise:null,resolve:null,reject:null,state:0,
result:null,request:null,$p:function(){return 1===(b.state&1)},lP:function(){return 2===(b.state&2)},$f:function(){return!b.lP()&&!b.$p()},fP:function(){return 4===(b.state&4)},mH:function(){b.state|=4}};b.promise=new Promise(function(a,c){b.resolve=function(){if(0===b.state||4===b.state)b.state=1,b.result=arguments[0],a.apply(null,arguments)};b.reject=function(){if(0===b.state||4===b.state)b.state=2,c.apply(null,arguments)}});return b}function c(){return!1}function b(b,a,c){if(!(a in g))return!0;
a=g[a];for(var e=0;e<a.length;e++){var d;var n=b;d=a[e];var q=c;if(d.name in n){var r="",v=!1,n=n[d.name];switch(d.type){case "s":r="String";v=_.isString(n);break;case "a":r="Array";v=_.isArray(n);break;case "n":r="Number";v=_.isNumber(n)&&_.isFinite(n);break;case "o":r="Object",v=_.isObject(n)&&!_.isArray(n)}v||q.reject('Expected response field "'+d.name+'" to have type '+r);d=v}else q.reject('Response missing field "'+d.name+'"'),d=!1;if(!d)return!1}return!0}var g={pages:[{name:"pages",type:"a"}],
pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}]};d.prototype=_(d.prototype).extend({DD:function(){var b=createPromiseCapability();if(this.gv){var a=!1,c=new XMLHttpRequest;
c.open("GET",this.vf+"ck?c="+this.gv);c.withCredentials=!0;c.onreadystatechange=function(){3<=c.readyState&&!a&&(a=!0,200===c.status?b.resolve():b.reject())};c.send()}else b.resolve();return b.promise},JR:function(b,a){this.kF=b||c;this.az=a||c},RL:function(){var b=this;b.Ui=e();b.gl=e();return this.px.close().then(function(){function a(){b.ox=!1;b.id=null;b.sx=!1;return Promise.resolve()}return b.DD().then(a,a)})},WG:function(){this.kF();this.Py();this.Ld&&(this.Ld.$f()?this.we(this.Ld.request):
this.Ld.$p()&&this.az(this.Ld.result.url,"pdf")&&(this.Ld=null,this.VG()));this.Ie&&this.Ie.$f()&&this.we(this.Ie.request);this.cd&&this.cd.$f()?this.we(this.cd.request):this.Qc&&this.Qc.$f()&&this.eF(this.Qc.request);var b;for(b=0;b<this.te.length;b++)this.te[b]&&this.te[b]&&(this.te[b].$f()?this.we(this.te[b].request):this.te[b].$p()&&this.az(this.te[b].result.url,"image")&&(this.te[b]=null,this.Pu(b)));for(b=0;b<this.rf.length;b++)this.rf[b]&&this.rf[b]&&this.rf[b].$f()&&!this.rf[b].fP()&&this.we(this.rf[b].request);
for(b=0;b<this.fe.length;b++)this.fe[b]&&this.fe[b].$f()&&this.we(this.fe[b].request)},Py:function(){var b=this;this.ox||(this.timeStamp=Date.now(),this.px.jA(function(a){b.aQ(a)}).then(function(){},function(){b.sx=!0;b.Eq=0;b.Sz=0;b.DD();b.Ui.resolve({unhealthy:!0,id:0,serverID:"0",hasPDF:!0,hasXOD:!1});b.gl.resolve()}),this.ox=!0)},ml:function(b){this.Mx=b||null;this.gl.$p()||(this.Py(),this.we({t:"pages"}));return this.gl.promise},lD:function(b){b=$.extend(b,{uri:encodeURIComponent(this.ND)});
this.Mx&&(b.ext=this.Mx);this.$d&&(b.c=this.$d);return b},we:function(b){b=this.lD(b);this.px.send(b)},Bh:function(b){return b},aQ:function(a){var c=this,g,d=a.data,m=a.err,n=a.t;switch(n){case "pages":m?c.gl.reject(m):b(d,n,c.gl)&&c.gl.resolve(d);break;case "config":m?c.Ui.reject(m):b(d,n,c.Ui)&&(d.id&&(c.id=d.id),d.sCookieName&&(c.gv=d.sCookieName),d.serverID?(c.Eq=d.serverID===c.Sz&&c.Iy?c.Eq+1:0,c.Sz=d.serverID):c.Eq=0,c.Iy=!1,c.Ui.resolve(d));break;case "health":m?c.Ui.reject(m):b(d,n,c.Ui)&&
d.unhealthy&&c.gv&&1>=c.Eq&&(c.Iy=!0,c.RL().then(function(){c.WG()},function(){c.WG()}));break;case "pdf":d.url=c.vf+"../"+d.url;m?c.Ld.reject(m):b(d,n,c.Ld)&&c.Ld.resolve(d);break;case "docmod":d.url=c.vf+"../"+d.url;m?c.cu[d.rID].reject(m):b(d,n,c.Ld)&&c.cu[d.rID].resolve(d);break;case "xod":if(m)this.cd&&this.cd.$f()&&this.cd.reject(m),this.Qc&&this.Qc.$f()&&this.Qc.reject(m);else if(d.notFound)d.noCreate||this.cd&&this.cd.$f()&&this.cd.resolve(d),this.Qc&&this.Qc.$f()&&this.Qc.resolve(d);else{d.url&&
(d.url=c.vf+"../"+d.url);if(!this.Qc||this.Qc.$p())this.Qc=e(),this.Qc.request={t:"xod",noCreate:!0};this.cd||(this.cd=e(),this.cd.request={t:"xod"});this.Qc.resolve(d);this.cd.resolve(d)}break;case "annots":m?c.Ie.reject(m):b(d,n,c.Ie)&&(c.Ie.mH(),$.ajax({dataType:"text",url:c.vf+"../"+d.url,success:function(b){c.Ie.resolve(b)},error:function(b,a,g){c.Ie.reject(a+(g?": "+JSON.stringify(g):""))}}));break;case "image":g=this.te[d.p];m?g.promise.reject(m):b(d,n,g)&&(g.result=d,g.result.url=c.vf+"../"+
g.result.url,g.resolve(g.result));break;case "tiles":g=d.rID;a=this.fe[g];this.fe[g]=null;this.nt.push(g);if(m)a.reject(m);else if(b(d,n,a)){for(m=0;m<d.tiles.length;m++)d.tiles[m]=c.vf+"../"+d.tiles[m];a.resolve(d)}break;case "text":g=this.rf[d.p];m?g.reject(m):b(d,n,g)&&(g.mH(),$.ajax({dataType:"json",url:c.vf+"../"+d.url,success:function(b){g.result=b;g.resolve(g.result)},error:function(b,a,c){g.reject(a+(c?": "+JSON.stringify(c):""))}}));break;case "progress":"loading"===d.t&&c.trigger("documentLoadingProgress",
[d.bytes,d.total])}},yE:function(){this.Py();return this.Ui.promise},dN:function(){this.Ie||(this.Ie=e(),this.Ie.request={t:"annots"},this.we(this.Ie.request));return this.Ie.promise},Pu:function(b){this.te[b]||(this.te[b]=e(),this.te[b].request={t:"image",p:b},this.we(this.te[b].request));return this.te[b].promise},QQ:function(b){this.rf[b]||(this.rf[b]=e(),this.rf[b].request={t:"text",p:b},this.we(this.rf[b].request));return this.rf[b].promise},RQ:function(b,a,c,g){var d=this.fe.length;this.nt.length&&
(d=this.nt.pop());this.fe[d]=e();this.fe[d].request={t:"tiles",p:b,z:a,r:c,size:g,rID:d};this.we(this.fe[d].request);return this.fe[d].promise},VG:function(){this.Ld||(this.Ld=e(),this.Ld.request={t:"pdf"},this.sx?this.Ld.resolve({url:this.ND}):this.we(this.Ld.request));return this.Ld.promise},GN:function(b){var a=new XMLHttpRequest,c=this.vf+"aul?id="+this.id,g=new FormData,d={};b.annots&&(d.annots="xfdf");b.watermark&&(d.watermark="png");d={t:"docmod",reqID:this.TP++,parts:d};b.print&&(d.print=
!0);d=this.lD(d);g.append("msg",JSON.stringify(d));b.annots&&g.append("annots",b.annots);b.watermark&&g.append("watermark",b.watermark);this.cu[d.reqID]=e();a.open("POST",c);a.send(g);return this.cu[d.reqID].promise},eF:function(){this.Qc||(this.Qc=e(),this.Qc.request={t:"xod",noCreate:!0},this.we(this.Qc.request));return this.Qc.promise},SQ:function(){this.cd||(this.cd=e(),this.cd.request={t:"xod"},this.we(this.cd.request));return this.cd.promise},ai:function(){return!0},request:function(){},Iu:function(){},
abort:function(){for(var b=0;b<this.fe.length;b++)this.fe[b]&&(this.fe[b].resolve(null),this.fe[b]=null,this.nt.push(b));this.close()},rl:function(b){this.$d=this.$d||{};this.$d.headers=b},mN:function(){return this.$d?_.omit(this.$d.headers,["Cookie","cookie"]):null},fA:function(b){this.$d=this.$d||{};this.$d.internal=this.$d.internal||{};this.$d.internal.withCredentials=b},vO:function(){return this.$d&&this.$d.internal?this.$d.internal.withCredentials:null},getFileData:function(){return Promise.reject()}},
a.utils.eventHandler);a.o.V.$q=d})(window);
(function(a){function d(b,a,g,e){c.apply(this,arguments)}function e(b,a){this.url=b;this.range=a;this.status=this.Cb.ri}var c=a.o.V.Kj,b=a.o.V.uv,g={};e.prototype={start:function(b){var c=this;g[this.range.start]={success:function(g){var e=atob(g),d,h=e.length;g=new Uint8Array(h);for(d=0;d<h;++d)g[d]=e.charCodeAt(d);e=g.length;d="";var r=0;if(a.utils.typedArrayApply)for(;r<e;)h=g.subarray(r,r+1024),r+=1024,d+=String.fromCharCode.apply(null,h);else for(h=Array(1024);r<e;){for(var v=0,p=Math.min(r+
1024,e);r<p;v++,r++)h[v]=g[r];d+=String.fromCharCode.apply(null,1024>v?h.slice(0,v):h)}c.success(d,b)},fail:function(){c.status=c.Cb.ERROR;b({code:c.status})}};var e=document.createElement("IFRAME");e.setAttribute("src",this.url);document.documentElement.appendChild(e);e.parentNode.removeChild(e);e=null;this.status=this.Cb.Tj;c.yt()}};e.prototype=b.prototype.extend(e);d.prototype={Fu:e,Qs:function(b,a){return b+"#"+a.start+"&"+(a.stop?a.stop:"")}};d.prototype=$.extend(new c,d.prototype);a.o.V.yo=
d;a.o.V.QT=e;a.o.V.yo.yz=function(b,a){var c=g[a];delete g[a];c.success(b)};a.o.V.yo.xz=function(b,a){var c=g[a];delete g[a];c.fail()}})(window);
(function(a){function d(b,a,g,e){c.apply(this,arguments)}function e(b,a){this.url=b;this.range=a;this.status=this.Cb.ri}var c=a.o.V.Kj,b=a.o.V.uv,g={};e.prototype={start:function(b){function a(){e.status=e.Cb.ERROR;b({code:e.status})}function c(a){var g=atob(a),d,k=g.length;a=new Uint8Array(k);for(d=0;d<k;++d)a[d]=g.charCodeAt(d);g=a.length;d="";for(var h=0;h<g;)k=a.subarray(h,h+1024),h+=1024,d+=String.fromCharCode.apply(null,k);e.success(d,b)}var e=this;"undefined"===typeof g[this.range.start]&&
(g[this.range.start]={success:c,fail:a},window.external.notify(this.url),this.status=this.Cb.Tj);e.yt()}};e.prototype=b.prototype.extend(e);d.prototype={Fu:e,Qs:function(b,a){return b+"?"+a.start+"&"+(a.stop?a.stop:"")}};d.prototype=$.extend(new c,d.prototype);a.o.V.Lo=d;a.o.V.hU=e;a.o.V.Lo.yz=function(b,a){var c=g[a];delete g[a];c.success(b)};a.o.V.Lo.xz=function(b,a){var c=g[a];delete g[a];c.fail()}})(window);
(function(a){function d(){e.apply(this,arguments)}var e=a.o.V.Kj;d.prototype=$.extend(new e,{GE:function(){return{start:this.fE-a.o.V.yi.prototype.Kl,stop:this.fE}},xn:function(a){var b=this;this.Zk(this.url,{start:0,stop:1},function(g,f,d){if(g)return a(g);g=d.request.getResponseHeader("Content-Range");b.fE=g.split("/")[1];e.prototype.xn.call(b,a)})}});a.o.V.zI=d})(window);
(function(a){function d(b,g,e){this.Md=b;this.ru=!1;this.cache=new c(a.xv,b.ai());b.decrypt&&b.ai()&&(this.Dk=new c(a.xv,b.ai()));this.J=g;this.Sh={};this.Mq={};this.Es={};this.Ts={};this.ot=[];this.Dp={};this.ue=e;this.uu=_.bind(this.uu,this);b.bind("partReady",this.uu)}function e(b){window._indexedDB=window._indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window._IDBTransaction=window._IDBTransaction||window.IDBTransaction||window.webkitIDBTransaction;
window._IDBTransaction&&!window._IDBTransaction.READ_WRITE&&(window._IDBTransaction.READ_WRITE="readwrite");this.name=b;this.db=null;this.zD="1";this.Ys=this.hd=!1}function c(b,a){this.KP=this.zq=b;this.queue=[];this.XM=a}function b(b,a){this.Yg=b;this.uG=a;this.Le={};this.Tg={};this.hd=!1;for(var c=0;c<a.length;c++)this.Tg[a[c]]=!0}function g(){this.index=0;this.data={functions:[],Le:[],done:!1};this.cc=[]}function f(b){this.data=b;this.cc=[];this.Bf=[]}function k(b,a){this.Yg=b;this.Ta={};this.nb=
null;this.Oa=a}var h=a.o.V.Cv;a.Px=!1;a.o.fy=function(b,c){if(a.utils.hasObjectURL){"string"===typeof c&&(c=a.pO(c));var g;try{g=new Blob([c],{type:b})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.XT||window.WT,window.BlobBuilder&&(g=new window.BlobBuilder,g.append(c),g=g.getBlob(b))}if(g)return URL.createObjectURL(g)}else return"data:"+b+";base64,"+btoa(c)};a.o.JE=function(b,c){return a.o.fy("image/"+("jpg"===b?"jpeg":b),c)};f.prototype={init:function(b){if(this.data){var c=
this;a.wO(this.data,function(a){c.worker=a;c.Vq();c.tW=[];c.kv=!1;c.data=null;b()},function(b,a){b?c.Bf.push(b):c.kv=!0;c.dV=a;var g=c.callback;c.callback=null;g&&g()})}else b()},cancel:function(){for(var b=0;b<this.cc.length;b++){for(var a=0;a<this.cc[b].saves;a++)this.cc[b].restore();this.cc[b].saves=0}this.cc=[];this.worker&&this.worker.cancel()},clone:function(){return new f(this.data)},run:function(b,a,c){if(this.Bf.length){-1===this.cc.indexOf(b)&&this.cc.push(b);c=Date.now()+c;do this.Vq(),
runEval(this.Bf.shift(),b,a);while(this.Bf.length&&c>Date.now());return!1}return!0},qq:function(){var b=this;this.worker||this.init(function(){b.Vq()});return new Promise(function(a){b.kv||b.Bf.length?a():b.callback=a})},Vq:function(){if(this.kv)return!1;this.worker.SP()},qx:function(b){return new Function("c","t",b)},Sx:function(b){var a=this;this.init(function(){function c(){if(a.Bf.length){a.Vq();var g=a.Bf.map(function(b){return a.qx(b)});a.Bf=[];b(g)}else b()}a.kv||a.Bf.length?c():a.callback=
c})}};g.prototype={clone:function(){var b=new g;b.data=this.data;b.index=0;return b},cancel:function(){for(var b=0;b<this.cc.length;b++){for(var a=0;a<this.cc[b].saves;a++)this.cc[b].restore();this.cc[b].saves=0}this.cc=[]},pD:function(b){return new f(b)},Sx:function(b,c){function g(){f.Sx(function(b){b?(e.data.functions=e.data.functions.concat(b),a.setImmediate(g,0)):(e.data.done=!0,c());b=e.data.Le.length;if(0<b){for(var f=0;f<b;++f)e.data.Le[f]();e.data.Le=[]}})}this.data.done=!1;var e=this,f=
this.pD(b);e.data.functions=[];g();this.index=0},qq:function(){var b=this;return new Promise(function(a){b.data.done||b.index<b.data.functions.length?a():b.data.Le.push(a)})},run:function(b,a,c){-1===this.cc.indexOf(b)&&this.cc.push(b);if(this.index<this.data.functions.length){c=Date.now()+c;var g=this.data.functions[this.index];do++this.index,g(b,a),g=this.data.functions[this.index];while(g&&c>Date.now());return!1}return!0},cR:f.prototype.cR};b.prototype={eP:function(){return 0===_(this.Tg).keys().length}};
c.prototype={getItem:function(b){return this[b]||null},setItem:function(b,a,c){if(b in this)this.queue.splice(this.queue.indexOf(b),1),this.queue.push(b);else if(this.XM)this[b]={data:a,wb:c},this.queue.push(b);else if(a.length<this.KP/2){for(;this.zq<a.length;){var g=this.queue[0];this.zq+=this[g].data.length;delete this[g];this.queue.shift()}this.zq-=a.length;this[b]={data:a,wb:c};this.queue.push(b)}}};e.prototype={open:function(b,a){var c=this,g=window._indexedDB.open(c.name);if(_.isUndefined(g))a("User declined to increase space");
else{g.onsuccess=function(){c.db=g.result;if(c.db.setVersion&&c.db.version!==c.zD){var b=c.db.setVersion(c.zD);b.onsuccess=function(){c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"});b.result.oncomplete=e}}else e()};g.onupgradeneeded=function(b){c.db=b.target.result;c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"})};g.onerror=function(){a("Error opening database for offline mode")};
var e=function(){c.get("NumParts",function(g,e){if(g)c.Ys=!1,b();else{var f=c.db.transaction([c.name]).objectStore(c.name).count();f.onsuccess=function(){c.Ys=f.result===e;b()};f.onerror=function(){a("Error opening database for offline mode")}}})}}},OH:function(b,a,c,g){var e=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);e.oncomplete=function(){g&&g()};e.onerror=function(){g&&g();throw Error("Error adding "+b+" to the offline database");};e.objectStore(this.name).put({partName:b,
partData:a,compressed:c})},FS:function(b,a,c,g,e,f){function d(f){b.Mg(f,function(b){var c=a.indexOf(b.pa);-1<c&&delete a[c];k()||h.OH(b.pa,b.data,b.wb,function(){k()||(z++,e(z/C),z===C&&(h.Ys=!0,g()))})},!0,c)}function k(){h.hd&&!A&&(A=!0,f(a),g());return A}var h=this;h.hd=!1;g=g||function(){};e=e||function(){};f=f||function(){};var z=0,C=a.length,A=!1;h.OH("NumParts",C+1,!1,function(){for(var b=0;b<C;b++)d(a[b])})},CL:function(){this.hd=!0},get:function(b,a){var c=this.db.transaction([this.name]).objectStore(this.name).get(b);
c.onsuccess=function(){c.result?a(!1,c.result.partData,c.result.compressed):a("Part "+b+" not found in the offline database")};c.onerror=function(){a("Error getting "+b+" from offline database")}},jj:function(){return this.Ys}};d.prototype={Mg:function(b,c,g,e){function f(b){b=$.extend({},b);h.Dk&&e&&(b.data=h.Dk.getItem(b.pa).data);c(b)}var d=this.cache.getItem(b);if(!e&&null!==d){var k=d.wb;d.wb&&!g?(g=a.o.V.yi.inflate(d.data),k=!1):g=d.data;c({pa:b,data:g,Of:!0,hd:!1,error:null,wb:k});return c}if(this.Dk&&
e&&(k=this.Dk.getItem(b)))return c({pa:b,data:k.data,Of:!0,hd:!1,error:null,wb:k.wb}),c;var h=this;this.bind(b,f);this.Es[b]=!0;this.Ts[b]=!g;this.Md.request([b],e);return f},uu:function(b){if(b.error)console.error("Error reading part "+b.pa+": "+b.error),this.trigger(b.pa,{pa:b.pa,error:b.error}),this.unbind(b.pa);else{var c=this,g=function(g){var e=b.pa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();"jpg"!==e&&"png"!==e&&(g=a.cj(g));b.bG||(c.cache.setItem(b.pa,g,b.wb),c.Dk&&c.Dk.setItem(b.pa,b.data,b.wb));
c.Es[b.pa]&&((e=b.wb)&&c.Ts[b.pa]&&(g=a.o.V.yi.inflate(g),e=!1),delete c.Es[b.pa],delete c.Ts[b.pa],c.trigger(b.pa,{pa:b.pa,data:g,Of:!1,hd:!1,error:null,wb:e}),c.unbind(b.pa),delete c._callbacks[b.pa])};this.Md.decrypt&&!b.bG?this.Md.wD?g(this.Md.decrypt(b.data,this.Md.zk,b.pa)):this.Md.decrypt(b.data,this.Md.zk,b.pa,g):g(b.data)}},Ay:function(b){return this.Xy?"Thumbs/"+(b+1)+".jpg":"Thumbs/"+(b+1)+".png"},zy:function(b,a,c){var g=this,e=!1,f=this.Mg(this.Ay(b),function(b){e=b.Of;g.QG(a);c(b)});
e||(this.Mq[a]={EL:f,Lb:b})},QE:function(b,c){var g=this,e=this.J[b].Dq[0];if(b in g.Dp)c(g.Dp[b].clone());else return g.Mg(e,function(e){if(e.error)return console.error("Failed to load part for page "+b+": "+e.error);g.YM(e.data,function(e){if(a.Ll){if(g.ot.length>=a.Ll){var f=g.ot.shift();delete g.Dp[f]}g.ot.push(b);g.Dp[b]=e}c(e.clone())})},!0)},ky:function(c,g,e){function f(b){if(b.error)return console.error("Failed to load part for page "+c+": "+b.error);delete A.Tg[z];u.Mi&&0!==u.As.length||
(u.As=h.iQ(b.pa,b.data).map(function(b){b.PageNumber=c+1;return b}));d()}function d(){if(A.eP()){if(null===E.nb)throw Error("Functions have not been generated yet");A.hd||x||(delete h.Sh[c],h.trigger(c,!1,E),e(!1,E),x=!0,h.unbind(c+""),h._callbacks&&delete h._callbacks[c+""])}}var h=this;this.Sh[c]=this.Sh[c]||{Kn:{}};var p=0<Object.keys(this.Sh[c].Kn).length;this.Sh[c].Kn[g]=null;if(p)return a.utils.warn("Duplicate request for page "+c),p=function(b,a){var c=$.extend({},a);c.nb=a.nb.clone();c.Ta=
$.extend(!0,{},c.Ta);e(b,c)},this.Sh[c].Kn[g]=p,this.bind(c,p);var u=h.J[c],w=u.Dq[2],z=u.Dq[1],C=u.Dq[0],A;A=this.ru?new b(c,[C,z,w]):new b(c,[C,w]);this.Sh[c].request=A;var y=A.Le,x=!1,E=new k(c,h);y[w]=h.Mg(w,function(b){if(b.error)return console.error("Failed to load part for page "+c+": "+b.error);b=h.lQ(b.pa,b.data);delete A.Tg[w];_(b).each(function(b){A.Tg[b.slice(1)]=!0});_(b).each(function(b){b=b.slice(1);var g=-1!==b.indexOf(".odttf")||-1!==b.indexOf(".otf"),e=-1!==b.indexOf(".png")||-1!==
b.indexOf(".jpg");a.Px&&g?(delete A.Tg[b],E.Ta[b]=h.Bh(b)):g&&!h.ue.Vt(h.Bh(b).name)?(A.uG.push(b),y[b]=h.Mg(b,function(a){if(a.error)return console.error("Failed to load part for page "+c+": "+a.error);delete A.Tg[b];E.Ta[b]=h.Bh(a.pa,a.data);d()})):e&&a.Px?(delete A.Tg[b],setTimeout(function(){h.Mg(b,function(b){b=h.Bh(b.pa,b.data);var a=new Image;a.src=b.data;$(a).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+c)})},0)):(delete A.Tg[b],E.Ta[b]=h.Bh(b),
d())});d()});this.ru&&(y[z]=h.Mg(z,f));y[C]=this.QE(c,function(b){E.nb=b;delete A.Tg[C];d()})},YM:function(b,c){if(a.Ll){var g=new a.o.yI;g.Sx(b,function(){});c(g)}else c(new a.o.xI(b))},op:function(b,a){var c=this.Sh[b];if(c){this.Md.$w(c.request.uG);var g=c.Kn[a];g&&this.unbind(b+"",g);delete c.Kn[a];if(0===Object.keys(c.Kn).length){c.hd=!0;var c=c.Le,e;for(e in c)c.hasOwnProperty(e)&&this.unbind(e,c[e]);delete this._callbacks[b+""];delete this.Sh[b]}}},DL:function(b){var a=this.Mq[b];a&&(this.Md.$w([this.Ay(a.Lb)]),
this.QG(b))},QG:function(b){var a=this.Mq[b];a&&(this.unbind(this.Ay(a.Lb),a.EL),delete this.Mq[b])},Bh:function(b,c){var g,e=b,f=b.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(f){case "png":case "jpg":b="i"+b.match(/Images\/(\d+)/)[1];if(c){g=h&&this.Md instanceof h?this.Md.path+c:a.o.JE(f,c);break}break;case "odttf":var d;c&&(d=this.mM(b,c));b="f"+parseInt(b.substr(34,8),16);c&&(g=new a.fh.FontFace(b,d,"opentype"),this.ue.Vy(b)||g.insert());f="font";break;case "otf":b=b.substr(0,b.length-4);
b="f"+parseInt(b.substr(6),10);if(c){if(h&&this.Md instanceof h)f=this.Md.path;else throw Error("Use an external part retriever for documents with external fonts");g=new a.fh.FontFace(b,null,"opentype",f+c);this.ue.Vy(b)||g.insert()}f="font";break;default:g=c}return{name:b,type:f,data:g,pa:e}},lQ:function(b,c){var g=[],e=new a.Ee(c);for(e.ma();e.advance();){var f=e.K("Target");null!==f?g.push(f):a.utils.warn("Corrupt rels part: %s",b)}0<g.length&&_(g).last().match(/Thumbs/)&&g.pop();return g},iQ:function(b,
c){var g=[],e=new a.Ee(c);for(e.ma();e.advance();){for(var f=e.ta(),d=e.K("BBox"),d=d.split(","),k=0;4>k;++k)d[k]=parseFloat(d[k]);"Hyperlink"===f?g.push(new a.Annotations.fd({actions:{U:[{name:"URI",uri:e.K("Target")}]},rect:d})):"Link"===f&&g.push(new a.Annotations.fd({actions:{U:[{name:"GoTo",dest:{page:e.K("ID"),fit:"XYZ",top:e.K("Vpos"),left:e.K("Hpos")}}]},rect:d}))}return g},mM:function(b,a){b=b.split("/")[1].split(".")[0];for(var c=b.split("-"),g=[],e=16,f=0;f<c.length;++f)for(var d=c[f],
k=0;k<d.length;k+=2)g[--e]=parseInt(d.slice(k,k+2),16);for(c=0;16>c;++c)e=g[c],g[c]=String.fromCharCode(a.charCodeAt(c)^e),g[c+16]=String.fromCharCode(a.charCodeAt(c+16)^e);return a=g.join("")+a.slice(32)}};_(d.prototype).extend(Backbone.Events);a.o.V.hJ=d;a.o.lJ=e;a.o.II=f;a.o.JI=g})(window);
(function(a){function d(){this.index=0;this.data={functions:[],Le:[],done:!1};this.cc=[];this.Ix=new c}function e(b){this.data=b;this.cc=[];this.Bf=[];this.Ix=new c}function c(){this.Ph=0;this.Ta=[];this.Qh=[0,0]}c.prototype={Fq:function(b,c,e){this.m_c=c;this.wc=e;c=b.operators;b=b.data;var d=c.length;this.mA=a.asc(e);this.JS=1/this.mA;for(var h=0;h<d;++h)e=c[h],this[e].apply(this,b[h]);this.bu=null},save:function(){this.m_c.save()},restore:function(){this.m_c.restore()},transform:function(b,c,a,
e,d,l){this.m_c.transform(b,c,a,e,d,l)},translate:function(b,c){this.m_c.translate(b,c)},IR:function(b,c){this.m_c.lineWidth=Math.max(b,this.JS/c)},GR:function(b){this.m_c.lineCap=b},uE:function(b){var c=b.type;if(c)switch(c){case 1:b=this.createPattern(b);break;case 2:b=this.createLinearGradient(b);break;case 3:b=this.createRadialGradient(b);break;case 4:b=this.YL(b)}return b},iS:function(b){this.m_c.strokeStyle=this.uE(b)},zR:function(b){this.m_c.fillStyle=this.uE(b)},WQ:function(b){var c=this.eO(b);
b=c.IP;for(var c=c.HP,a,e=b.length,d=0;d<e;++d)a=b[d],this[a].apply(this,c[d])},BR:function(b){this.m_c.globalAlpha=b},qD:function(b,c){for(var a=c.length,e=0;e<a;++e){var d=c[e],l=c[++e];b.addColorStop(d,l)}},aM:function(b){var c=this.m_c,a=this.wc,e=b.operators,d=this.mA*b.scale,l=b.w*d,m=b.h*d;2>d*b.minwh&&(d=2/b.minwh,l=b.w*d,m=b.h*d);var n=this.m_c.createCanvas();n.width=l;n.height=m;var l=n.getContext("2d"),m=b.x||b.y,q={};m&&(q.x=b.x,q.y=b.y);q.s=1/d;l.scale(d,d);m&&l.translate(-b.x,-b.y);
b.strokeAdjust&&(this.m_c.lineWidth=d*b.strokeAdjust);this.Fq(e,l,this.wc);this.m_c=c;this.wc=a;return{canvas:n,transform:q}},createPattern:function(b){var c;this.bu&&b===this.bu.style?c=this.bu:(c=this.aM(b),c.style=b,c.pattern=this.m_c.createPattern(c.canvas,b.tm),this.bu=c);b=c.transform;b.x&&this.m_c.translate(b.x,b.y);this.m_c.scale(b.s,b.s);return c.pattern},createLinearGradient:function(b){var c=this.m_c.createLinearGradient(b.x0,b.y0,b.x1,b.y1);this.qD(c,b.stops);return c},createRadialGradient:function(b){var c=
this.m_c.createRadialGradient(b.x0,b.y0,0,b.x1,b.y1,b.r);this.qD(c,b.stops);return c},YL:function(b){return this.m_c.createPattern(a.ci[b.name],b.tm)},cL:function(b){this.Ph+=b},mS:function(b){this.Ph=b},addColorStop:function(b,c){this.WV.addColorStop(b,c)},beginPath:function(){this.m_c.beginPath()},closePath:function(){this.m_c.closePath()},fill:function(b){b?this.m_c.fill(b):this.m_c.fill()},stroke:function(){this.m_c.stroke()},clip:function(b){b?this.m_c.clip(b):this.m_c.clip()},moveTo:function(b,
c){this.m_c.moveTo(b,c)},lineTo:function(b,c){this.m_c.lineTo(b,c)},quadraticCurveTo:function(b,c,a,e){this.m_c.quadraticCurveTo(b,c,a,e)},bezierCurveTo:function(b,c,a,e,d,l){this.m_c.bezierCurveTo(b,c,a,e,d,l)},font:function(b){var c=b;1!==window.utils.canvasFontMultiplier&&(c=parseFloat(b),c/=window.utils.canvasFontMultiplier,c=b.replace(/\d+/,c));this.m_c.font=c},fillText:function(b,c,a){this.m_c.fillText(b,this.Ph+c,a)},measureText:function(b){this.Ph+=this.m_c.measureText(b).width},drawImage:function(b){this.m_c.drawImage(window.ci[b],
0,0)},AM:function(b,c){for(var e=window.ci[b],d=Math.log(1/(this.mA*c))*a.o.Sw,h=1,l=1;l<d;++l){var m=this.m_c.createCanvas();m.width=.5*e.width;m.height=.5*e.height;m.getContext("2d").drawImage(e,0,0,m.width,m.height);e=m;h*=2}this.m_c.scale(h,h);this.m_c.drawImage(e,0,0)},HR:function(b){this.m_c.lineJoin=b},CR:function(b){this.m_c.globalCompositeOperation=b},bL:function(b,c,a){this.Ta.push({IP:c,HP:a,name:b})},eO:function(b){var c=this.Ta.length-1;do{var a=this.Ta[c];if(a.name===b)return a}while(0<=
--c)},LQ:function(){this.Ta.pop()},NQ:function(b,c,e,d){var h=this.wc.aa({x:c.x1,y:c.y1}),l=h.x,h=h.y;c=this.wc.aa({x:c.x2,y:c.y2});var m=c.x,n=c.y;c=[];var q=this.Qh[0],r=this.Qh[1],v=q+this.m_c.canvas.width,p=r+this.m_c.canvas.height;l<m?(l<q&&(l=q),m>v&&(m=v),c[0]=Math.floor(l),c[2]=Math.ceil(m-l)):(m<q&&(m=q),l>v&&(l=v),c[2]=Math.ceil(l-m),c[0]=Math.floor(m));h<n?(h<r&&(h=r),n>p&&(n=p),c[1]=Math.floor(h),c[3]=Math.ceil(n-h)):(n<r&&(n=r),h>p&&(h=p),c[3]=Math.ceil(h-n),c[1]=Math.floor(n));0<c[2]&&
0<c[3]&&(l=this.m_c,h=this.m_c.createCanvas(),h.width=c[2],h.height=c[3],m=this.Qh,this.Qh=c,n=h.getContext("2d"),n.translate(-c[0],-c[1]),n.transform(this.wc.m_a,this.wc.m_b,this.wc.m_c,this.wc.m_d,this.wc.m_h,this.wc.m_v),n.transform.apply(n,b.mtx),this.Fq(b,n,this.wc),d&&(b=this.m_c.createCanvas(),b.width=c[2],b.height=c[3],n=b.getContext("2d"),n.beginPath(),n.moveTo(0,0),n.lineTo(c[2],0),n.lineTo(c[2],c[3]),n.lineTo(0,c[3]),n.closePath(),n.translate(-c[0],-c[1]),n.transform(this.wc.m_a,this.wc.m_b,
this.wc.m_c,this.wc.m_d,this.wc.m_h,this.wc.m_v),n.transform.apply(n,d.mtx),this.Fq(d,n,this.wc),n.globalCompositeOperation="source-in",n.setTransform(1,0,0,1,0,0),n.drawImage(h,0,0),h=b),this.Qh=m,"source-over"===e||a.utils.specialBlendSupported?(l.save(),l.globalCompositeOperation=e,l.setTransform(1,0,0,1,c[0]-this.Qh[0],c[1]-this.Qh[1]),l.drawImage(h,0,0),l.restore()):n.bO(l,e,{x:c[0]-this.Qh[0],y:c[1]-this.Qh[1]}),this.m_c=l)},MS:function(b){this.m_c.tm(b)},miterLimit:function(b){this.m_c.miterLimit=
b},eM:function(){this.m_c.cgb()},fM:function(){this.m_c.cge()},setTransform:function(b,c,a,e,d,l){this.m_c.setTransform(b,c,a,e,d,l)},scale:function(b,c){this.m_c.scale(b,c)},RM:function(b,c,a){this.m_c.xw(b+" ",this.Ph+c,a)},fillRect:function(b,c,a,e){this.m_c.fillRect(b,c,a,e)},SM:function(b,c,a){this.m_c.xcw(b+" ",this.Ph+c,a)},fillTextCustom:function(b,c,a){this.m_c.xc(b,this.Ph+c,a)}};c.prototype[0]=c.prototype.save;c.prototype[1]=c.prototype.restore;c.prototype[2]=c.prototype.transform;c.prototype[3]=
c.prototype.translate;c.prototype[4]=c.prototype.IR;c.prototype[5]=c.prototype.GR;c.prototype[6]=c.prototype.iS;c.prototype[7]=c.prototype.zR;c.prototype[8]=c.prototype.BR;c.prototype[9]=c.prototype.bL;c.prototype[10]=c.prototype.LQ;c.prototype[11]=c.prototype.cL;c.prototype[12]=c.prototype.WQ;c.prototype[13]=c.prototype.beginPath;c.prototype[14]=c.prototype.closePath;c.prototype[15]=c.prototype.fill;c.prototype[16]=c.prototype.stroke;c.prototype[17]=c.prototype.clip;c.prototype[18]=c.prototype.moveTo;
c.prototype[19]=c.prototype.lineTo;c.prototype[20]=c.prototype.quadraticCurveTo;c.prototype[21]=c.prototype.bezierCurveTo;c.prototype[22]=c.prototype.font;c.prototype[23]=c.prototype.fillText;c.prototype[24]=c.prototype.measureText;c.prototype[25]=c.prototype.mS;c.prototype[26]=c.prototype.miterLimit;c.prototype[27]=c.prototype.HR;c.prototype[28]=c.prototype.drawImage;c.prototype[29]=c.prototype.setTransform;c.prototype[30]=c.prototype.scale;c.prototype[31]=c.prototype.RM;c.prototype[32]=c.prototype.eM;
c.prototype[33]=c.prototype.fM;c.prototype[34]=c.prototype.CR;c.prototype[35]=c.prototype.MS;c.prototype[36]=c.prototype.NQ;c.prototype[37]=c.prototype.fillRect;c.prototype[39]=c.prototype.SM;c.prototype[38]=c.prototype.fillTextCustom;e.prototype={clone:function(){return new e(this.data)},run:function(b,c,a){return this.Bf.length?(a&&this.Vq(),-1===this.cc.indexOf(b)&&this.cc.push(b),this.m_c=b,this.wc=c,this.Ix.Fq(this.Bf.shift(),b,c),!1):this.Ox=!0},qx:function(b){return b}};e.prototype=$.extend(Object.create(a.o.II.prototype),
e.prototype);d.prototype={pD:function(b){return new e(b)},clone:function(){var b=new d;b.data=this.data;b.index=0;return b},run:function(b,c){var a=this.data.functions[this.index];this.index++;-1===this.cc.indexOf(b)&&this.cc.push(b);return a?(this.Ix.Fq(a,b,c),!1):!0}};d.prototype=$.extend(Object.create(a.o.JI.prototype),d.prototype);a.o.oR=function(b){!0===b&&(b=1.4);a.o.Sw=b;c.prototype[28]=b?c.prototype.AM:c.prototype.drawImage};a.o.xI=e;a.o.yI=d})(window);
(function(a){function d(c,b){this.jD=!1;this.yh=this.yk=null;this.vf=c;this.Pi={};this.Rq=null;this.fa=b.Pb()}function e(){var c,b,a=[];a[arguments.length-1]=null;var e=0;0<arguments.length&&(b=arguments[e].endsWith("/")?arguments[e].length-1:arguments[e].length,a[e]=arguments[e].substring(0,b));for(e=1;e<arguments.length-1;++e)c=arguments[e].startsWith("/")?1:0,b=arguments[e].endsWith("/")?arguments[e].length-1:arguments[e].length,a[e]=arguments[e].substring(c,b);1<arguments.length&&(c=arguments[e].startsWith("/")?
1:0,a[e]=arguments[e].substring(c,arguments[e].length));return a.join("/")}d.prototype=_(d.prototype).extend({YS:function(c){for(var b=0;b<c.length;++b){var a=c[b],e;switch(a.at){case "create":this.Pi[a.author]||(this.Pi[a.author]=a.aName);e=this.fa.sn(a.xfdf)[0];e["authorId "]=a.author;this.fa.Xb(e);this.fa.trigger("updateAnnotationPermission",[e]);break;case "modify":e=this.fa.sn(a.xfdf)[0];this.fa.Xb(e);break;case "delete":this.fa.sn("<delete><id>"+a.aId+"</id></delete>")}}},uO:function(c,b,a){this.yh&&
this.yh(c,b,a)},tQ:function(c){this.one("blackBoxAnnotationsEnabled",this.uO.bind(this,{imported:!1},c,"add"))},$O:function(c){function b(){if(200===f.status&&0<f.responseText.length)try{var b=JSON.parse(f.responseText);g.Rq=b.id;g.Pi[b.id]=b.user_name;g.fa.Uz(b.id);g.yk=a.o.FA(e(g.vf,"blackbox/"),"annot");g.pT(c);g.yk.jA(function(b){b.t&&b.t.startsWith("a_")&&b.data&&g.YS(b.data)},function(){g.yk.send({t:"a_retrieve",dId:c});g.trigger("blackBoxAnnotationsEnabled",[g.Pi[b.id],g.Rq])},function(){g.PL();
g.trigger("blackBoxAnnotationsDisabled")})}catch(d){console.error(d.message)}}this.KD();var g=this;if(c){var f=new XMLHttpRequest;f.addEventListener("load",b);f.open("GET",e(this.vf,"demo/SessionInfo.jsp"));f.withCredentials=!0;f.send();this.jD=!0}else console.error("Document ID required for collaboration")},KD:function(){this.yh&&(this.fa.off("annotationChanged",this.yh),this.yh=null);this.yk&&(this.yk.close(),this.yk=null)},PL:function(){this.Rq=null;this.Pi={};this.fa.Uz("Guest")},eN:function(c){return this.jD&&
this.Pi[c]?this.Pi[c]:c},pT:function(c){var b=this;b.yh&&b.fa.off("annotationChanged",b.yh);b.yh=function(a,e,d){if(!a.imported){a={t:"a_"+d,dId:c,annots:[]};var h=b.fa.pt(),l,m;"delete"!==d&&(l=(new DOMParser).parseFromString(h,"text/xml"),m=new XMLSerializer);for(h=0;h<e.length;h++){var n=e[h],q;if("add"===d){q=l.querySelector('[name="'+n.Id+'"]');q=m.serializeToString(q);var r=null;n.InReplyTo&&(r=b.fa.$i(n.InReplyTo).authorId||"default");a.annots.push({at:"create",aId:n.Id,author:b.Rq,aName:b.Pi[b.Rq],
parent:r,xfdf:"<add>"+q+"</add>"})}else"modify"===d?(q=l.querySelector('[name="'+n.Id+'"]'),q=m.serializeToString(q),a.annots.push({at:"modify",aId:n.Id,xfdf:"<modify>"+q+"</modify>"})):"delete"===d&&a.annots.push({at:"delete",aId:n.Id})}0<a.annots.length&&b.yk.send(a)}}.bind(b);b.fa.on("annotationChanged",b.yh)}});$.extend(d.prototype,a.utils.eventHandler);a.o.lo=d})(window);
(function(a){function d(b){return f[b]||"Unknown"}a.Annotations=a.Annotations||{};var e=a.Annotations,c;if(!(c=!Object.defineProperty)){var b;try{Object.defineProperty({},"x",{}),b=!0}catch(k){b=!1}c=!b}c&&(Object.defineProperty=function(b,c,a){if(b!==Object(b))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in a&&Object.prototype.__defineGetter__.call(b,c,a.get);Object.prototype.__defineSetter__&&"set"in a&&Object.prototype.__defineSetter__.call(b,
c,a.set);"value"in a&&(b[c]=a.value);return b});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(b,c){if(b!==Object(b))throw new TypeError("Object.defineProperties called on non-object");for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&Object.defineProperty(b,a,c[a]);return b});var g,f={arrow:"Arrow",callout:"Callout",caret:"Caret",ellipse:"Ellipse",freeHand:"Free Hand",freetext:"FreeText",highlight:"Highlight",line:"Line",polygon:"Polygon",polyline:"Polyline",
rectangle:"Rectangle",redact:"Redaction",signature:"Signature",squiggly:"Squiggly",stamp:"Stamp",stickyNote:"Comment",strikeout:"Strikeout",underline:"Underline"};a.bB=function(b){this.ct=[b]};a.bB.prototype={writeStartElement:function(b){b=document.createElementNS("",b);this.ct.push(b)},writeAttributeString:function(b,c){this.top().setAttribute(b,c)},writeEndElement:function(){var b=this.ct.pop();this.top().appendChild(b)},top:function(){return this.ct[this.ct.length-1]}};e.ua={Lj:1,extraSelectorsEnabled:!1,
kd:function(b){return d(b)},rR:function(b){d=b},HD:function(b,c){for(var a=[],g=Math.min(b+1,c-1),e=Math.max(0,b-1);e<=g;++e)a.push(e);return a},yD:function(b){return null===b?"":0<b.length?b.replace(/&[^;]*;/g,function(b){switch(b.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===b.charAt(2)?String.fromCharCode(parseInt(b.substring(3,b.length-1),16)):String.fromCharCode(parseInt(b.substring(2,b.length-1),10))}return b}):""},oM:function(b,
c,g){var f=g.u.getDocument(),d=c.getAttribute("page"),d=parseInt(d,10),q=[],r=[];if(c.hasAttribute("selidxs"))var v=c.getAttribute("selidxs"),q=e.ba.pM(v);else a.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No index-based selector in XFDF.");if(c.hasAttribute("surrtxts_0_0"))for(v=0;;){if(c.hasAttribute("surrtxts_"+v+"_0")&&c.hasAttribute("surrtxts_"+v+"_1")){var p=c.getAttribute("surrtxts_"+v+"_0");if(null===p)break;var u=c.getAttribute("surrtxts_"+v+"_1");if(null===u)break;var w=
[];w.push(e.ua.yD(p));w.push(e.ua.yD(u));r.push(w)}else break;v++}else a.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No surrounding-text-based selector in XFDF.");if(0>=q.length&&0>=r.length)a.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No extra selector data deserialized."),b.Hf=!1;else{b.Hf=!0;b.wg=null;b.hf=null;b.sC=!1;b.Oo=!1;b.cs=!0;var z=function(){var c=g.u.getDocument();if(c!==f)b.Hf=!1;else{var c=new XODText.vi(c),a;0<q.length&&(a=c.$N(d,q,b.Jk()),a.status&&
(b.wg=a.value));0<r.length&&(a=c.ZN(d,r,b.Jk()),a.status&&(b.hf=a.value,b.PageNumber=a.il+1));b.trigger("quadsCalculatedFromExtraSelectors");b.sC=!0}},C=function(){var c=g.u.getDocument();if(c!==f)b.Hf=!1;else{var a=c.Gb()-1,e=[];0===d&&1<=a?(e.push(d+1),e.push(d),b.cs=!1,c.gq(e).then(z)):0<d&&a>=d+1&&(e.push(d+1),e.push(d-1),e.push(d),b.cs=!1,c.gq(e).then(z))}};0===r.length?(b.cs=!1,f.gq(d).then(z)):(b.pC||(g.u.off("layoutChanged",C),g.u.on("layoutChanged",C),g.u.one("documentUnloaded",function(){g.u.off("layoutChanged",
C)}),b.pC=!0),f.ec().then(function(){g.u.off("layoutChanged",C);b.pC=!1;var c=g.u.getDocument();if(c===f&&b.cs){var a=e.ua.HD(d,c.Gb());c.gq(a).then(z)}else g.u.off("layoutChanged",C),b.Hf=!1}))}},yR:function(b){this.extraSelectorsEnabled=b},BE:function(b){return!b||b instanceof Date?b:new Date(b)},zO:function(){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()},measureText:function(b,c,a,g){var e=document.getElementById("text-width-tester");
"number"===typeof c&&(c+="px");b=b.split("\n").join("<br>&nbsp;").split(" ").join("&nbsp;");if(e)e.style.fontFamily=a,e.style.fontSize=c,e.style.fontWeight=g,e.innerHTML=b;else{var f="display:none;";_.isString(a)&&(f+="font-family:"+a+";");_.isUndefined(c)||(f+="font-size:"+c+";");_.isUndefined(g)||(f+="font-weight:"+g+";");e=document.createElement("span");e.id="text-width-tester";e.cssText=f;e.innerHTML=b;document.getElementsByTagName("body")[0].appendChild(e)}b=$(e);b.show();c={width:b.width(),
height:b.height()};b.hide();return c},kO:function(b,c){var a=(g||(g=document.createElement("canvas"))).getContext("2d");a.font=c;return a.measureText(b).width},hE:function(b,c,a,g){if(c){c.style.fontSize=a+"px";b=0;for(var e;b<=a;)e=Math.floor((b+a)/2),c.style.overflow="hidden",c.offsetHeight,c.style.fontSize=e+"px",g&&(c.style.lineHeight=g(e)),c.style.overflow="auto",c.scrollHeight>Math.ceil($(c).outerHeight())?a=e-1:b=e+1;c.scrollHeight>Math.ceil($(c).outerHeight())&&(c.style.fontSize=parseFloat(c.style.fontSize)-
1+"px");return parseFloat(c.style.fontSize)}return a/2},GM:function(b,c){if(a.utils.disableFormCharacterProcessing)$(b).on("change",function(){c({change:this.value,zF:!0})});else $(b).on("input",function(b){b.change=this.value;c(b)})},Cx:function(b,c,g,e){b.save();b.translate(c.x,c.y);b.rotate(a.Sd.Math.aN(c,g));b.moveTo(0,0);g=5*e+2;c=Math.cos(.2*Math.PI)*g;g*=Math.sin(.2*Math.PI);b.moveTo(c,-g);b.lineTo(0,0);b.lineTo(c,g);b.stroke();b.restore()},Cs:function(b,c){var a=b.aa({x:0,y:0}),g=b.aa({x:Number(c),
y:0}),e=a.x-g.x,a=a.y-g.y;return Math.sqrt(e*e+a*a)},PD:function(b,c,g){c.beginPath();var f=a.Sd.Math.QL(g);a.Sd.Math.yG(g)&&(f[f.length]={x:f[0].x,y:f[0].y});if(!(2>=f.length)){var d=b.Intensity;0===d&&(d=2);var q=1/8092,r=a.Sd.Math.XN(f);b=1!==Math.round(r);g=0;for(var v=6.5*d,p=f[0],u=v,w=v,z={x:f[1].x-f[0].x,y:f[1].y-f[0].y},C={x:f[0].x-f[f.length-2].x,y:f[0].y-f[f.length-2].y},d=!0,A=!1,y=0,x,E,G,B=0;B<f.length-1;++B){var I=f[B],H=f[B+1],H={x:H.x-I.x,y:H.y-I.y},F=Math.sqrt(H.x*H.x+H.y*H.y);if(!(F<=
q)){var M={x:H.x/F,y:H.y/F},J=Math.max(Math.floor(F/v),1),F=F/J;g=a.Sd.Math.bN(M.x,M.y);if(0===B&&3>=f.length){var O=Math.sqrt(z.x*z.x+z.y*z.y);if(O<v){c.arc(f[0].x,f[0].y,O,0,2*Math.PI);return}if(O<2*F){x=O/2;c.arc(f[0].x,f[0].y,x,0,2*Math.PI);c.moveTo(f[1].x+x,f[1].y);c.arc(f[1].x,f[1].y,x,0,2*Math.PI);c.moveTo(f[0].x+x,f[0].y);return}c.arc(f[0].x,f[0].y,F/2,0,2*Math.PI);c.moveTo(f[1].x+F/2,f[1].y);c.arc(f[1].x,f[1].y,F/2,0,2*Math.PI);c.moveTo(f[0].x+F/2,f[0].y)}0===B&&(y=F,x={x:M.x,y:M.y});I.x-=
M.x*F*.5;I.y-=M.y*F*.5;C=a.Sd.Math.cM(C,H);O=0;A||(++O,w=F,d=0>C*r,I.x+=M.x*F,I.y+=M.y*F,p=I,c.moveTo(p.x,p.y),E=p.x,G=p.y,A=!0);for(u=.25*(u+F);O<J;++O)I.x+=M.x*F,I.y+=M.y*F,G=e.ua.arcTo(E,G,c,u,u,g,0===O&&0>C*r,b,I.x,I.y),E=G.DS,G=G.ES;C=H;u=F}}A||(c.moveTo(p.x,p.y),E=p.x,G=p.y);x&&(q=.25*(w+u),e.ua.arcTo(E,G,c,q,q,g,d,b,f[f.length-1].x+.5*y*x.x,f[f.length-1].y+.5*y*x.y))}},arcTo:function(b,c,g,e,f,d,r,v,p,u){var w=[],z=[];a.Sd.Math.nL(b,c,w,z,e,f,d,r,v,p,u);for(f=e=0;f<z.length;++f)"c"===z[f]?
(g.bezierCurveTo(w[e],w[e+1],w[e+2],w[e+3],w[e+4],w[e+5]),b=w[e+4],c=w[e+5],e+=6):(g.lineTo(w[e],w[e+1]),b=w[e],c=w[e+1],e+=2);return{DS:b,ES:c}}}})(window);
(function(a){function d(){this.fonts=[]}function e(b,c,a,g){this.url=_.isUndefined(g)?["data:",this.NP[a],";base64,",btoa(c)].join(""):"'"+g+"'";this.url=["url(",this.url,")"].join("");this.bR=["@font-face { font-family:'",b,"';src:",this.url,"}"].join("");this.name=b}document.head||(document.head=document.getElementsByTagName("head")[0]);a.ni={};var c=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");
e.prototype={kA:null,styleSheet:null,NP:{woff:"application/x-font-woff",opentype:"font/opentype",sfnt:"application/font-sfnt"},insert:function(){if(!a.ni[this.name]){if(!this.styleSheet){var b=document.createElement("style");document.head.appendChild(b);e.prototype.styleSheet=b.sheet;e.prototype.kA=b}b=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.bR,b);a.ni[this.name]=this.styleSheet.cssRules[b]}},remove:function(){if(!a.utils.ie){var b=a.ni[this.name];if(!b)throw Error("CSS @font-face rule is not in use");
var c,g=this.styleSheet.cssRules.length,e=this.styleSheet.cssRules;for(c=0;c<g;c++)if(e[c]===b){this.styleSheet.deleteRule(c);delete a.ni[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");}}};if("undefined"!==typeof document&&document.fonts)try{var b=new e("lt"+Date.now()+"0",c,"opentype");"error"===(new window.FontFace(b.name,b.url,{})).status?a.Sm=!1:a.Sm=!0}catch(f){a.Sm=!1}else a.Sm=!1;d.prototype={KS:1,YK:function(b){this.fonts.push(b)},CO:function(){return 0!==
this.fonts.length},PF:function(b){function c(b,a){return b.charCodeAt(a)<<24|b.charCodeAt(a+1)<<16|b.charCodeAt(a+2)<<8|b.charCodeAt(a+3)&255}function g(b,c){r++;30<r?(console.warn("Load test font never loaded."),c()):(q.font="30px "+b,q.fillText(".",0,20),0<q.getImageData(0,0,1,1).data[3]?c():setTimeout(_.bind(g,null,b,c)))}var e=this,d;if(a.Sm){var n;d=document.createElement("canvas");d.width=1;d.height=1;var q=d.getContext("2d"),r=0,v="lt"+Date.now()+this.KS++,p=w,p=p.substr(0,976)+v+p.substr(976+
v.length),u=c(p,16);d=0;for(n=v.length-3;d<n;d+=4)u=u-1482184792+c(v,d)|0;d<v.length&&(u=u-1482184792+c(v+"XXX",d)|0);var p=p.substr(0,16)+(String.fromCharCode(u>>24&255)+String.fromCharCode(u>>16&255)+String.fromCharCode(u>>8&255)+String.fromCharCode(u&255))+p.substr(20),w=new a.fh.FontFace(v,p,"opentype");w.insert();p=[];d=0;for(n=this.fonts.length;d<n;d++)p.push(this.fonts[d].name);p.push(v);var z=document.createElement("div");z.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
d=0;for(n=p.length;d<n;++d)u=document.createElement("span"),u.textContent="Hi",u.style.fontFamily=p[d],z.appendChild(u);document.body.appendChild(z);g(v,function(){document.body.removeChild(z);w.remove();for(var c=0;c<e.fonts.length;c++)if(b(e.fonts[c].name),!e.fonts[c].url.startsWith("url(data")){var a=e.fonts[c].url;if(a.startsWith("url('")){if(8>a.length){console.warn("Invalid font ObjectURL.");return}a=a.substring(5,a.length-2)}URL.revokeObjectURL(a);e.fonts[c].url=null}e.fonts=[]})}else{for(d=
0;d<e.fonts.length;d++)setTimeout(b,0,e.fonts[d].name);e.fonts=[]}},CP:function(b,c,a){var g=document.createElement("div");g.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");g.innerHTML=""+('<span style="font-family:'+b+'">" + testString +"</span>');document.body.appendChild(g);$.get(c,function(){setTimeout(function(){a();document.body.removeChild(g)},300)})}};if(a.Sm){var g=e,e=function(){g.apply(this,arguments);this.Qx=new window.FontFace(this.name,
this.url,{})};e.prototype=g.prototype;$.extend(e.prototype,{insert:function(){document.fonts.add(this.Qx);a.ni[this.name]=this},remove:function(){document.fonts["delete"](this.Qx)}});$.extend(d.prototype,{PF:function(b){this.fonts.forEach(function(c){c.Qx.load().then(function(){b(c.name);if(!c.url.startsWith("url(data")){var a=c.url;if(a.startsWith("url('")){if(8>a.length){console.warn("Invalid font ObjectURL.");return}a=a.substring(5,a.length-2)}URL.revokeObjectURL(a);c.url=null}})["catch"](function(a){b(c.name);
console.warn("loadFonts: font failed to load: "+c.name);a&&console.warn("loadFonts: exception is: "+a.message)})})}})}a.fh={FontFace:e,HI:d}})(window);
(function(a){function d(c,b,a){this.page=c;this.pb=b;this.ue=a;this.dE=b.Oa.Md?b.Oa.Md.path:void 0;this.al=this.paused=!1}var e={Eh:0,Me:1,wp:2,Pf:3};a.asc=function(c){var b=.707106781*c.m_a+.707106781*c.m_b;c=.707106781*c.m_c+.707106781*c.m_d;return Math.sqrt(b*b+c*c)};d.prototype={pause:function(){this.paused=!0;this.ix()},ix:function(){this.eu=!1;a.clearImmediate(this.QF)},SL:function(c,b,g,f,d,h,l,m,n){function q(){G=!0;v&&v.qq().then(function(){if(r.abort){if(E)return z&&(z=!1,f(p)),v=r.resume=
null,r.ix(),r.abort&&r.abort(),g(p);r.abort&&((C=5<++y)&&A&&z&&m&&(z=!1,f(p)),E=v.run(u,w,50),!E&&v.PO&&f(p),G=!1,r.eu=!1,r.paused||r.Zu())}})}var r=this;b=b||e.Eh;g=g||function(){};var v=this.pb.nb;d&&0<d&&(d=Math.round(d));c=a.o.Ma.Wn(this.page,c||1,b,h,d,l,n);var p=c.canvas,u=c.ctx,w=c.t,z=void 0!==f,C=!1,A=!1,y=0,x=setTimeout(function(){A=!0;C&&z&&m&&(z=!1,f(p))},3E3);r.abort=function(){G=!1;r.ix();r.QF=null;r.resume=null;v&&(v.cancel(),v=null);r.pb.nb=null;clearTimeout(x);r.Zu=null;_(r.pb.Ta).each(function(b){switch(b.type){case "png":case "jpg":b&&
b.data&&!b.data.startsWith("url(data")&&(URL.revokeObjectURL(b.data),b.data=null);break;case "font":if(b&&b.data&&b.data.url&&!b.data.url.startsWith("url(data")){var c=b.data.url;if(c.startsWith("url('")){if(8>c.length){console.warn("Invalid font ObjectURL.");break}c=c.substring(5,c.length-2)}URL.revokeObjectURL(c);b.data.url=null}}});r.abort=null};var E=!1;r.resume=function(){!1!==G||r.eu||r.Zu();r.paused=!1};r.Zu=function(){r.eu=!0;r.QF=a.setImmediate(q,0)};var G=!1;r.eu=!1;r.paused||r.Zu()},WE:function(c){var b=
[];if(c){for(var a=0;a<c.length;++a)b[a]=this.pb.Oa.Bh(c[a]);return b}_(this.pb.Ta).each(function(c){b.push(c)});return b},RF:function(c,b,g){function e(b){var c=l.ue.Vt(b.name);d(b);switch(b.type){case "png":case "jpg":if(a.ci[b.name]){b.data.startsWith("data")||URL.revokeObjectURL(b.data);if(c){h(b.name);break}a.ci[b.name].qp.push(function(){h(b.name)});break}var g=new Image;g.onload=function(){g.src.startsWith("data")||URL.revokeObjectURL(g.src);for(var b=0;b<this.qp.length;++b)this.qp[b]();g.qp=
[];g=g.onload=g.onerror=null};g.onerror=function(){a.utils.warn("img error "+b.name);g.src.endsWith(a.o.Pk()+"1px.png")||(g.src=a.o.Pk()+"1px.png")};g.hres=b.hres;g.vres=b.vres;a.ci[b.name]=g;g.qp=[];g.qp[0]=function(){h(b.name)};g.Lb=l.pb.Yg;g.src=b.data;break;case "font":_.isUndefined(l.dE)?n.YK(b.data):n.CP(b.name,l.dE+b.pa,function(){h(b.name)});break;default:a.utils.warn("unknown resource type: "+b.type),h(b.name)}}function d(b){g&&l.ue.SK(b.name)}function h(a){l.ue.loaded(a);if(l.al&&1>--m)return l.al=
!1,c(b[0])}if(this.al)throw Error("Multiple calls to loadResource");var l=this;b=this.WE(b);var m=b.length;this.al=!0;var n=new a.fh.HI,q=!0;_(b).each(function(b){q=!1;l.ue.Vt(b.name)?(d(b),h(b.name)):b.data?e(b):l.pb.Oa.Mg(b.pa,function(c){l.ue.Vt(b.name)?(d(b),h(b.name)):e(l.pb.Oa.Bh(c.pa,c.data))})});n.CO()&&n.PF(_(h).bind(this));q&&(c(),this.al=!1)},$C:function(){this.al&&(this.al=!1)},qd:function(c){var b=this;b.$C();c=this.WE(c);_(c).each(function(c){if("font"!==c.type&&b.ue.release(c.name))switch(c.type){case "png":case "jpg":delete a.ci[c.name];
break;case "font":c.data&&c.data.remove()}})}};a.Ve=a.Ve||{};a.Ve.CJ=d;a.Ve.qr=function(){var c={};return{SK:function(b){b in c?c[b].c++:c[b]={c:1,l:!1}},loaded:function(b){b in c&&(c[b].l=!0)},Vy:function(b){return b in c?!0:!1},Vt:function(b){return b in c?c[b].l:!1},release:function(b){if(!(b in c))return!1;--c[b].c;return c[b].c?!1:(delete c[b],!0)}}};a.o.Sa=e;a.ud=function(c,b,g,f,d,h){f=f||{x:0,y:0};g.width?(g.x1=0,g.y1=0,g.x2=g.width,g.y2=g.height):(g.width=g.x2-g.x1,g.height=g.y2-g.y1);var l=
new XODText.Ea;_.isUndefined(d)&&(d=!0);d&&(d=h||a.utils.getCanvasMultiplier(),c*=d,f.x*=d,f.y*=d);l.Pa(c,0,0,c,f.x,f.y);c=new XODText.Ea;b===e.Eh?c.Pa(1,0,0,1,-g.x1,-g.y1):b===e.Me?c.Pa(1,0,0,1,g.y2,-g.x1):b===e.wp?c.Pa(1,0,0,1,g.x2,g.y2):b===e.Pf&&c.Pa(1,0,0,1,-g.y1,g.x2);l.concat(c);l.concat(XODText.Ea.ol(Math.PI/2*(4-b)));return l}})(window);
(function(a){a.Actions||(a.Actions={});var d=a.Actions;d.Action=function(c){_.isObject(c)&&_.isString(c.name)&&(this.oc=c.name)};d.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(d.Action.prototype,{name:{get:function(){return this.elementName}}});d.Ue=function(c){d.Action.call(this,c);this.Gf=new d.Ue.uo;_.isObject(c)&&this.Gf.set(c.dest)};d.Ue.prototype={elementName:"GoTo",
onTriggered:function(c,b,a){d.Action.prototype.onTriggered.call(this,c,b,a);this.Gf.WC(a)},serialize:function(c){var b=d.Action.prototype.serialize.call(this,c);$(b).append(this.Gf.serialize(c));return b},deserialize:function(c,b,a){d.Action.prototype.deserialize(c,b);this.Gf.deserialize(c,b,a)}};d.Ue.prototype=$.extend(Object.create(d.Action.prototype),d.Ue.prototype);Object.defineProperties(d.Ue.prototype,{dest:{get:function(){return this.Gf}}});d.Ml=function(c){d.Action.call(this,c);this.Gf=new d.Ue.uo;
_.isObject(c)&&(this.Gf.set(c.dest),this.Ir=c.filename,this.Ew=c.newWindow)};d.Ml.prototype={elementName:"GoToR",onTriggered:function(c,b,a){d.Action.prototype.onTriggered.call(this,c,b,a);this.Gf.WC(a)},serialize:function(c){var b=d.Action.prototype.serialize.call(this,c);this.Ew||b.setAttribute("NewWindow","false");var a=document.createElementNS("","File");this.Ir&&a.setAttribute("OriginalName",this.Ir);var e=$(b);e.append(a);e.append(this.Gf.serialize(c));return b},deserialize:function(c,b,a){d.Action.prototype.deserialize(c,
b);this.Gf.deserialize(c,b,a,!0);c=c.getElementsByTagName("GoToR")[0];this.Ew="false"!==c.getAttribute("NewWindow");c=c.getElementsByTagName("File");1===c.length&&(this.Ir=c[0].getAttribute("OriginalName"))}};d.Ml.prototype=$.extend(Object.create(d.Action.prototype),d.Ml.prototype);Object.defineProperties(d.Ml.prototype,{dest:{get:function(){return this.Gf}},filename:{get:function(){return this.Ir}},newWindow:{get:function(){return this.Ew}}});d.Ue.uo=function(c){this.sm=1;this.Po="Fit";this.oc=this.Ki=
this.vg=this.zg=this.Ge=this.Fe=null;this.set(c)};d.Ue.uo.prototype={set:function(c){if(_.isObject(c)){_.isUndefined(c.page)||(this.sm=Number(c.page));var b=c.fit;_.isString(b)&&(this.Po=b);switch(b){case "XYZ":_.isUndefined(c.left)||(this.Fe=Number(c.left));_.isUndefined(c.top)||(this.Ge=Number(c.top));_.isUndefined(c.zoom)||(this.Ki=Number(c.zoom));break;case "FitBH":case "FitH":_.isUndefined(c.top)||(this.Ge=Number(c.top));break;case "FitBV":case "FitV":_.isUndefined(c.left)||(this.Fe=Number(c.left));
break;case "FitR":_.isUndefined(c.left)||(this.Fe=Number(c.left));_.isUndefined(c.top)||(this.Ge=Number(c.top));_.isUndefined(c.right)||(this.zg=Number(c.right));_.isUndefined(c.bottom)||(this.vg=Number(c.bottom));var b=_.min([this.Fe,this.zg]),a=_.min([this.Ge,this.vg]),e=_.max([this.Fe,this.zg]),d=_.max([this.Ge,this.vg]);this.Ge=a;this.Fe=b;this.vg=d;this.zg=e}c=c.name;_.isString(c)&&(this.oc=c,this.sm=null)}},serialize:function(c){var b=document.createElementNS("","Dest"),a=document.createElementNS("",
this.Po||"Named"),e=this.Ge||0,d=this.Fe||0,h=this.vg||0,l=this.zg||0;c=c.inverse();d=c.aa({x:d,y:e});h=c.aa({x:l,y:h});e=_.isNull(this.Ge)?null:d.y;d=_.isNull(this.Fe)?null:d.x;l=_.isNull(this.zg)?null:h.x;h=_.isNull(this.vg)?null:h.y;_.isNull(this.sm)||a.setAttribute("Page",this.sm);_.isNull(this.Ki)||a.setAttribute("Zoom",this.Ki);e&&a.setAttribute("Top",e);d&&a.setAttribute("Left",d);l&&a.setAttribute("Right",l);h&&a.setAttribute("Bottom",h);switch(this.Po){case "XYZ":_.isNull(d)&&a.setAttribute("Left",
"");_.isNull(e)&&a.setAttribute("Top","");_.isNull(this.Ki)&&a.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(e)&&a.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(d)&&a.setAttribute("Left","");break;case "FitR":_.isNull(d)&&a.setAttribute("Left",""),_.isNull(e)&&a.setAttribute("Top",""),_.isNull(l)&&a.setAttribute("Right",""),_.isNull(h)&&a.setAttribute("Bottom","")}this.oc&&a.setAttribute("Name",this.oc);$(b).append(a);return b},deserialize:function(c,b,a,e){var d=
Annotations.ba;b=d.getAttribute(c,"PageNum");var h,l,m,n,q,r,v;l=d.getAttribute(c,"Hpos");h=d.getAttribute(c,"Vpos");c=c.getElementsByTagName("Dest");if(!b||0<c.length)if(c=c[0],c=d.ay(c))b=d.getAttribute(c,"Page"),r=d.wt(c),h=d.getAttribute(c,"Top"),l=d.getAttribute(c,"Left"),m=d.getAttribute(c,"Right"),n=d.getAttribute(c,"Bottom"),q=d.getAttribute(c,"Zoom"),"Named"===d.wt(c)&&(v=d.getAttribute(c,"Name"));v||e||(e=a.u.uc(b-1),a=e.aa({x:l||0,y:h||0}),e=e.aa({x:m||0,y:n||0}),h=_.isNull(h)?void 0:a.y,
l=_.isNull(l)?void 0:a.x,m=_.isNull(m)?void 0:e.x,n=_.isNull(n)?void 0:e.y);this.set({page:_.isNull(b)?void 0:b,fit:_.isNull(r)?void 0:r,top:h,left:l,right:m,bottom:n,zoom:_.isNull(q)?void 0:q,name:v})},WC:function(c){var b=this.Ge||0,a=this.Fe||0,e=this.sm||1;switch(this.Po){case "XYZ":this.Ki&&c.DA(this.Ki);c.vp(e,b,a);break;case "Fit":case "FitB":case "FitV":case "FitBV":c.xe(e);c.Vz(c.sg.LA);break;case "FitH":case "FitBH":c.xe(e);c.Vz(c.sg.Fv);c.vp(e,b,0);break;case "FitR":var d=this.zg&&this.Fe?
Math.abs(this.zg-this.Fe):null,h=this.vg&&this.Ge?Math.abs(this.vg-this.Ge):null,d=d?c.Qb().innerWidth()/d:Infinity,h=h?c.Qb().innerHeight()/h:Infinity,h=Math.min(d,h);Infinity!==h&&c.DA(h);c.vp(e,b,a);break;default:c.xe(e)}}};Object.defineProperties(d.Ue.uo.prototype,{page:{get:function(){return this.sm},set:function(c){this.set({page:c})}},fit:{get:function(){return this.Po}},top:{get:function(){return _.isNull(this.Ge)?void 0:this.Ge}},left:{get:function(){return _.isNull(this.Fe)?void 0:this.Fe}},
bottom:{get:function(){return _.isNull(this.vg)?void 0:this.vg}},right:{get:function(){return _.isNull(this.zg)?void 0:this.zg}},zoom:{get:function(){return _.isNull(this.Ki)?void 0:this.Ki}},name:{get:function(){return this.oc}}});d.wi=function(c){d.Action.call(this,c);this.bp="";_.isObject(c)&&_.isString(c.uri)&&(this.bp=c.uri)};d.wi.prototype={elementName:"URI",onTriggered:function(c,b,a){d.Action.prototype.onTriggered.call(this,c,b,a);c=this.bp;0!==c.indexOf("http://")&&0!==c.indexOf("https://")&&
0!==c.indexOf("ftp://")&&0!==c.indexOf("mailto:")&&0!==c.indexOf("tel:")&&-1===c.indexOf("://")&&(c=-1!==c.indexOf("@")?"mailto:"+c:"http://"+c);window.open(c)},deserialize:function(c,b){d.Action.prototype.deserialize.call(this,c,b);var a=Annotations.ba,e=a.getAttribute(c,"Target");_.isNull(e)&&(e=a.ay(c),e=a.getAttribute(e,"Name"));this.bp=e},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);c.setAttribute("Name",this.bp);return c}};d.wi.prototype=$.extend(Object.create(d.Action.prototype),
d.wi.prototype);Object.defineProperties(d.wi.prototype,{uri:{get:function(){return this.bp}}});d.Rl=function(c){d.Action.call(this,c);this.dm="";_.isObject(c)&&_.isString(c.action)&&(this.dm=c.action)};d.Rl.prototype={elementName:"Named",onTriggered:function(c,b,a){d.Action.prototype.onTriggered.call(this,c,b,a);switch(this.dm){case "NextPage":a.xe(c.vc()+1);break;case "PrevPage":a.xe(c.vc()-1);break;case "FirstPage":a.xe(1);break;case "LastPage":a.xe(a.Gb());break;default:console.warn("Invalid named action name: "+
this.dm)}},deserialize:function(c,b){d.Action.prototype.deserialize.call(this,c,b);var a=Annotations.ba,e=a.getAttribute(c,"N");_.isNull(e)&&0<c.getElementsByTagName("Named").length&&(e=a.getAttribute(c.getElementsByTagName("Named")[0],"Name"));this.dm=e},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);c.setAttribute("Name",this.dm);return c}};d.Rl.prototype=$.extend(Object.create(d.Action.prototype),d.Rl.prototype);Object.defineProperties(d.Rl.prototype,{action:{get:function(){return this.dm}}});
d.Ol=function(c){d.Action.call(this,c);this.hw=this.Vr=null;this.set(c)};d.Ol.prototype={elementName:"JavaScript",set:function(c){_.isObject(c)&&_.isString(c.javascript)&&(this.Vr=c.javascript)},onTriggered:function(c,b,a){d.Action.prototype.onTriggered.call(this,c,b,a);c=a.getDocument().Uo;this.hw||(this.hw=c.Fm(this.Vr,a));c.Mn(this.hw,b,a)},deserialize:function(c,b){d.Action.prototype.deserialize.call(this,c,b);var a=Annotations.ba.getAttribute(c,"JavaScript");a||(a=c.getElementsByTagName("JavaScript")[0].textContent);
this.set({javascript:a})},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);$(c).text(this.Vr);return c}};d.Ol.prototype=$.extend(!0,new d.Action,d.Ol.prototype);Object.defineProperties(d.Ol.prototype,{javascript:{get:function(){return this.Vr||""}}});d.Sj=function(c){d.Action.call(this,c);this.Ci=!1;this.jb=null;_.isObject(c)&&(_.isArray(c.fields)&&(this.jb=c.fields.slice()),_.isUndefined(c.exclude)||(this.Ci=!!c.exclude))};d.Sj.prototype={elementName:"ResetForm",onTriggered:function(c,
b,a){d.Action.prototype.onTriggered.call(this,c,b,a);var e=this,k=a.Pb().Nk();c=k.Xn;k.Xn=!1;this.Ci||_.isNull(this.jb)?k.Tq({rq:function(b,c,a){e.jb&&-1!==e.jb.indexOf(b)||a.XG()}}):this.jb.forEach(function(b){var c=k.xb(b);c?c.XG():console.warn("Missing field during reset:",b)});k.Xn=c;k.mp(null,0)},deserialize:function(c,b){d.Action.prototype.deserialize.call(this,c,b);var a=Annotations.ba,e=[],k=!0;_.isNull(a.getAttribute(c,"ResetFields"))?_.isNull(a.getAttribute(c,"ResetExcludedFields"))?0<c.getElementsByTagName("ResetForm").length&&
(c=c.getElementsByTagName("ResetForm")[0],(e=a.getAttribute(c,"Fields"))&&(e=e.split(",")),a=parseInt(a.getAttribute(c,"Flags"),10),_.isNull(e)||_.isUndefined(e)?(e=[],k=!0):k=1===a?!0:!1):(e=a.getAttribute(c,"ResetExcludedFields").split(","),k=!0):(e=a.getAttribute(c,"ResetFields").split(","),k=!1);this.jb=e;this.Ci=!!k},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);this.jb&&c.setAttribute("Fields",this.jb.join(","));c.setAttribute("Flags",this.Ci?1:0);return c}};d.Sj.prototype=
$.extend(Object.create(d.Action.prototype),d.Sj.prototype);Object.defineProperties(d.Sj.prototype,{fields:{get:function(){return this.jb}},exclude:{get:function(){return this.Ci}}});d.Xj=function(c){d.Action.call(this,c);this.ps="";this.jb=[];this._format="xfdf";this.Pr=!1;this._method="POST";this.Ci=!1;this.Zb=new a.Annotations.xi({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});this.set(c)};d.Xj.prototype={elementName:"SubmitForm",
set:function(c){_.isObject(c)&&(c.url&&(this.ps=String(c.url)),_.isArray(c.fields)&&(this.jb=c.fields.slice()),c.format&&(this._format=c.format.toLowerCase()),c.includeEmpty&&(this.Pr=!!c.includeEmpty),c.flags&&this.Zb.set(c.flags),c.method&&(this._method=String(c.method)),c.exclude&&(this.Ci=!!c.exclude))},onTriggered:function(c,b,a){d.Action.prototype.onTriggered.call(this,c,b,a);var e=this,k=[],h=a.Pb(),l=h.Nk();0<this.jb.length?this.jb.forEach(function(b){k.push(l.xb(b))}):l.Tm(function(b){_.isNull(b.value)&&
!e.Pr||k.push(b)});c="";"xfdf"===this._format?c=h.tk.MJ(k):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),c=h.tk.NJ(k));$.ajax({type:"POST",url:this.ps,data:c,success:function(b){if(h.PH)h.PH(b);else{var c=window.open();_.isNull(c)||_.isUndefined(c)?console.warn("Form popup blocked"):c.document.write(b)}},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(c,b){d.Action.prototype.deserialize.call(this,
c,b);var a=Annotations.ba,e=c.getElementsByTagName("SubmitForm"),k="SubmitURL",h="SubmitFields",l="SubmitFlag";0<e.length&&(c=e[0],k="URL",h="Fields",l="Flags");e=a.getAttribute(c,k);k=null;_.isNull(a.getAttribute(c,h))||(k=a.getAttribute(c,h).split(","));h=0;_.isNull(a.getAttribute(c,l))||(h=parseInt(a.getAttribute(c,l),10));a="fdf";h&4&&(a="html");h&32&&(a="xfdf");this.set({url:e,fields:k||void 0,format:a,flags:0!==(h&2)?["IncludeNoValueFields"]:[]})},serialize:function(c){c=d.Action.prototype.serialize.call(this,
c);c.setAttribute("Fields",this.jb.join(","));c.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.Pr?2:0));c.setAttribute("URL",this.ps);return c}};d.Xj.prototype=$.extend(Object.create(d.Action.prototype),d.Xj.prototype);Object.defineProperties(d.Xj.prototype,{url:{get:function(){return this.ps}},fields:{get:function(){return this.jb}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.Pr}},flags:{get:function(){return this.Zb},
set:function(c){this.Zb.set(c)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.Ci}}});d.Nl=function(c){d.Action.call(this,c);this.jb=[];this._hide=!0;this.set(c)};d.Nl.prototype={elementName:"Hide",set:function(c){_.isObject(c)&&(_.isArray(c.fields)&&(this.jb=c.fields.slice()),_.isUndefined(c.hide)||(this._hide=!!c.hide))},onTriggered:function(c,b,a){d.Action.prototype.onTriggered.call(this,c,b,a);var e=a.Pb().Nk(),k=this;this.jb.forEach(function(b){e.xb(b).yf(!k.hide)})},
deserialize:function(c,b){d.Action.prototype.deserialize.call(this,c,b);var a=Annotations.ba,e=!0,k;_.isNull(a.getAttribute(c,"HideField"))?0<c.getElementsByTagName("Hide").length?(c=c.getElementsByTagName("Hide")[0],k=a.getAttribute(c,"Fields").split(","),e="false"!==a.getAttribute(c,"Hide")):(k=[a.getAttribute(c,"ShowField")],e=!1):k=[a.getAttribute(c,"HideField")];this._hide=e;this.jb=k},serialize:function(c){c=d.Action.prototype.serialize.call(this,c);c.setAttribute("Fields",this.nV.join(","));
c.setAttribute("Hide",this.hide?"true":"false");return c}};d.Nl.prototype=$.extend(Object.create(d.Action.prototype),d.Nl.prototype);Object.defineProperties(d.Nl.prototype,{fields:{get:function(){return this.jb}},hide:{get:function(){return this._hide}}});d.KA=function(){this.tC={GoTo:d.Ue,GoToR:d.Ml,URI:d.wi,Named:d.Rl,JavaScript:d.Ol,ResetForm:d.Sj,SubmitForm:d.Xj,Hide:d.Nl}};d.KA.prototype={Qy:function(c){if(_.isObject(c)){var b=this.tC[c.name];return b?new b(c):null}},aP:function(c,b,a){var e=
Annotations.ba.$M(c);return(e=this.tC[e])?(e=new e,e.deserialize(c,b,a),e):null}};var e=new d.KA;d.sV=function(){return e};d.dh=function(c){this.ck={};this.mw=null;_.isObject(c)&&_.isObject(c.actions)&&this.rs(c.actions)};d.dh.prototype={rs:function(c){if(_.isObject(c))for(var b in c)if(c.hasOwnProperty(b))for(var a=c[b].length,e=0;e<a;++e)this.uk(b,c[b][e])},uk:function(c,b){var a=this.ck[c]||[];if(b instanceof d.Action)-1===a.indexOf(b)&&a.push(b);else if(_.isObject(b)){var f=e.Qy(b);f&&a.push(f)}this.ck[c]=
a},Hk:function(){return this.ck},ye:function(c,b){var a=this.ck[c];if(a)for(var e=a.length,d=0;d<e;++d)a[d].onTriggered(this,b,this.mw)},wf:function(c){this.mw=c},Jg:function(){return this.mw},dR:function(c,b,a){function e(c,a){a.forEach(function(a){var e=document.createElementNS("","Action");e.setAttribute("Trigger",c);var g=$(e);if(a=a.serialize(b))g.append(a),h=!0;$(d).append(e)})}var d;d=a?a:document.createElementNS("","OnActivation");var h=!1,l;for(l in this.ck)this.ck.hasOwnProperty(l)&&e(l,
this.ck[l]);h&&!a&&$(c).append(d)},HC:function(c,b,a){var f=Annotations.ba;c=f.ZM(c);for(var d=c.length,h=0;h<d;++h){var l=c[h],m=f.getAttribute(l,"Trigger")||"U";(l=e.aP(l,b,a))&&this.uk(m,l)}}}})(window);
(function(a){function d(b,c){return b-c}function e(b,c){a.Actions.dh.call(this);this.width=b;this.height=c;this.text=null;this.Dq=[];this.links=[];this.rb=null}function c(b,c,e,g,f,d){var k={getZoom:function(){return 1},getPageRotation:function(){return a.o.Sa.Eh},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(b)?(k=
$.extend(k,b),k.zoom&&(k.getZoom=function(){return k.zoom}),k.pageRotation&&(k.getPageRotation=function(){return k.pageRotation})):k=$.extend(k,{pageIndex:b,getZoom:function(){return c},getPageRotation:function(){return e},drawProgressive:f,drawComplete:g,canvasNum:d});return k}function b(){}function g(b){b in this.Kh?(clearImmediate(this.Kh[b]),delete this.Kh[b]):this.xa.Js(b)}var f=window.o,k=a.o.V.yi,h=a.o.V.Cv;a.ci=a.ci||{};a.o.Bo={eJ:0,gJ:1,xJ:2,DJ:10};a.o.Uj={TI:1,yJ:2,NI:4,fJ:8,YI:16,AI:32};
e.prototype=$.extend({AR:function(b){this.height=b.height;this.width=b.width;this.rb=b.matrix;this.rotation=b.rotation;this.id=b.id;this.Ra=b.pageNum}},Object.create(a.Actions.dh.prototype));var l=null,m=null;a.o.ZR=function(b){l=b};a.o.uH=function(b){m=b};a.o.UE=function(){return l||m};var n=6;a.o.KI=function(){return n};a.o.Pv=function(b){n=b;a.Hl=524288*b*b;a.xv=524288*b*b;a.Ll=3*b;a.CI=50+30*b;a.o.Ma&&a.o.Ma.iH(b);switch(b){case 0:a.Ll=0;a.Hl=0;a.xv=0;break;case 1:a.Ll=0,a.Hl=0}};a.o.WA=function(b){a.hu=
1+2*(b-1);a.iu=b-1;0>a.hu&&(a.hu=0);0>a.iu&&(a.iu=0)};a.o.Pv(6);a.o.WA(5);f.Te=function(b,c,a,e,g,f,d){this.children=b;this.name=c;this.Yg=a;this.parent=e;this.eo=g||0;this.rn=f||0;this.url=d};f.Te.prototype={xE:function(){return this.children},getName:function(){return this.name},vc:function(){return this.Yg},qO:function(){return this.url},getParent:function(){return this.parent},rO:function(){return this.eo},uN:function(){return this.rn},isValid:function(){return!!this.url||_.isNumber(this.Yg)}};
f.Document=function(b,c){a.Actions.dh.call(this);this.Uo=a.Annotations.O.sb.ZL();_.isUndefined(c)||"xod"===c?this.v=new f.Ef(b):"pdf"===c?this.v=new f.gh:"office"===c?this.v=new f.or(b):"blackbox"===c&&(this.v=new f.Zq(b));var e=this;this.v.xR(function(b){e.trigger(b.type,[b.data])});this.QJ=20;this.Cn=[];this.nA={}};f.Document.prototype={Qi:function(b){return this.v.Qi.apply(this.v,arguments)},ZP:function(b){this.Uo.mT(b)},xh:function(b){return this.v.xh.apply(this.v,arguments)},ao:function(b){return this.v.ao.apply(this.v,
arguments)},Cm:function(){return this.v.Cm.apply(this.v,arguments)},Ik:function(){return this.v.Ik.apply(this.v,arguments)},bn:function(b){this.v.bn.apply(this.v,arguments)},dn:function(){return this.v.dn.apply(this.v,arguments)},Gb:function(){return this.v.Gb.apply(this.v,arguments)},Yc:function(b){var c={};c.width=this.v.J[b].width;c.height=this.v.J[b].height;return c},At:function(b,c,a){return this.v.At.apply(this.v,arguments)},wy:function(b,c,a,e){return this.v.wy.apply(this.v,arguments)},Lt:function(b,
c,a){return this.v.Lt.apply(this.v,arguments)},Dy:function(b,c,a){return this.v.Dy.apply(this.v,arguments)},getMetadata:function(){return{title:this.v.Zd.title,creator:this.v.Zd.creator,subject:this.v.Zd.subject,keywords:this.v.Zd.keywords,created:this.v.Zd.created,modified:this.v.Zd.modified,description:this.v.Zd.description,producer:this.v.Zd.producer}},ij:function(){return this.v.ij.apply(this.v,arguments)},Sk:function(b){return this.v.Sk.apply(this.v,arguments)},jj:function(){return this.v.jj()},
bg:function(b,c,a){var e=this;return this.v.bg.call(this.v,b,function(b){for(var a=e.Ib(),g=a.length,f=e.Jg(),d=0;d<g;++d)a[d].wf(f);c(b);return e},a)},Sg:function(b,c,a,e,g,f){return this.v.Sg.apply(this.v,arguments)},cz:function(b,c){return this.v.cz.apply(this.v,arguments)},Gk:function(b){return this.v.Gk.apply(this.v,arguments)},jq:function(b){return this.v.jq.apply(this.v,arguments)},nj:function(b,c){return this.v.nj.apply(this.v,arguments)},Cu:function(b){return this.v.Cu.apply(this.v,arguments)},
Su:function(b){return this.v.Su.apply(this.v,arguments)},en:function(){return this.v.en.apply(this.v,arguments)},Un:function(b){return this.v.Un.apply(this.v,arguments)},Zn:function(b,c){return this.v.Zn.apply(this.v,arguments)},qd:function(){this.Uo.Uc();return this.v.qd.apply(this.v,arguments)},yn:function(b,c){return this.v.yn.apply(this.v,arguments)},du:function(b,c){return this.v.du.apply(this.v,arguments)},vn:function(){return this.v.vn.apply(this.v,arguments)},Ri:function(b){return this.v.Ri.apply(this.v,
arguments)},NG:function(){var b=this.Cn.shift();this.v.J[b].text=null;delete this.nA[b]},HQ:function(){for(var b=this.Cn.length-1;0<=b;--b)this.NG()},Hd:function(b,c){this.nA[b]?this.Cn.splice(this.Cn.indexOf(b),1):(this.Cn.length===this.QJ&&this.NG(),this.nA[b]=!0);this.Cn.push(b);return this.v.Hd.apply(this.v,arguments)},gq:function(b){function c(b,a){return new Promise(function(c){b.Hd(a,function(){c()})})}var a=this;b=b.map(function(b){return c(a,b)});return Promise.all(b)},getFileData:function(b){return this.v.getFileData.apply(this.v,
arguments)},gn:function(){return this.v.gn?this.v.gn.apply(this.v):null},Gp:function(){return this.v.Gp?this.v.Gp.apply(this.v):null},un:function(b,c,a){return this.v.un.apply(this.v,arguments)},kq:function(b,c){return this.v.kq.apply(this.v,arguments)},Hn:function(b){return this.v.Hn.apply(this.v,arguments)},Qm:function(){return this.v.Qm.apply(this.v,arguments)},Ln:function(b,c){return this.v.Ln.apply(this.v,arguments)},Rm:function(b,c){return this.v.Rm.apply(this.v,arguments)},Hm:function(b,c,
a,e,g){return this.v.Hm.apply(this.v,arguments)},$m:function(){return this.v.$m.apply(this.v,arguments)},Yu:function(b){return this.v.Yu.apply(this.v,arguments)},$u:function(b){return this.v.$u.apply(this.v,arguments)},nl:function(){return this.v.nl.apply(this,arguments)},get numPages(){return this.v.J.length},nd:function(b){return this.v.J[b].width},md:function(b){return this.v.J[b].height},uc:function(b){return b>=this.Gb()?(console.warn("Attempting to get page matrix for page "+(b+1)+" that doesn't exist."),
null):this.v.J[b].rb},Ct:function(b){return this.v.Ct.apply(this.v,arguments)},Np:function(){return this.v.Np.apply(this.v,arguments)},Op:function(b){return this.v.J[b].rotation},ly:function(b){return this.v.J[b].text},TR:function(b,c){this.v.J[b].text=c},KN:function(b){return this.v.J[b].As},SE:function(b){return this.v.J[b].links},Ib:function(){var b=this;this.v.J.forEach(function(c){c.wf(b.Jg())});return this.v.J},ec:function(){return this.v.ec},Up:function(b,c,a){return this.v.Up.apply(this.v,
arguments)},ql:function(b){this.v.ql.apply(this.v,arguments)},Jh:function(){return this.v.Jh},tl:function(b){this.v.tl.apply(this.v,arguments)},Aj:function(){return this.v.Aj.apply(this.v,arguments)},dt:function(b){return this.v.dt.apply(this.v,arguments)},qt:function(){return this.v.qt.apply(this.v,arguments)},et:function(b,c){return this.v.et.apply(this.v,arguments)},Um:function(b,c,a,e,g,f){return this.v.Um.apply(this.v,arguments)}};$.extend(f.Document.prototype,Object.create(a.Actions.dh.prototype),
a.utils.eventHandler);f.Yq=function(){throw Error("Cannot initialize BaseDocument");};f.Yq.prototype={dt:b,qt:b,et:b,Qi:b,xh:b,ao:b,Cm:b,Ik:b,bn:b,dn:b,Gb:b,Yc:b,Um:b,Aj:function(){return!1},xR:function(b){this.aE=b},Yi:function(b){this.aE&&this.aE(b)},At:function(b,c,a){c={x:c,y:a};return this.J[b].rb.inverse().aa(c)},wy:function(b,c,a,e){if(a<=c)return console.error("End index must be greater than start index");this.Hd(b,function(b){b=b.Oe();var g=8*c,f=8*a;if(g>b.length||f>b.length)return console.error("Index out of bounds");
for(var d=[];g<f;g+=8)d.push({x1:b[g],y1:b[g+1],x2:b[g+2],y2:b[g+3],x3:b[g+4],y3:b[g+5],x4:b[g+6],y4:b[g+7]});e(d)})},Lt:b,Dy:function(b,c,a){return this.J[b].rb.aa({x:c,y:a})},ij:b,Sk:b,jj:b,bg:b,Sg:b,Gk:b,jq:b,cz:function(b,c){this.Hd(b,function(b){c(b.Qa)})},nj:b,Cu:b,Su:b,Un:b,Zn:b,qd:b,yn:b,du:b,Ri:b,vn:function(){return!1},Ps:function(b,c){var e=this.J[b],g=(4-e.rotation/90)%4;0!==g&&(e=a.ud(1,g,e,{x:0,y:0},!1),c.lL(e))},Hd:b,gn:function(){return null},getFileData:b,un:b,Hn:b,Ln:b,Qm:b,Iq:b,
Rm:b,Hm:b,ql:function(){},print:function(){},Ct:function(b){return String(b)},Np:function(){return _.range(0,this.J.length).map(String)},en:b,$m:b,Yu:b,$u:b,np:function(){for(var b=1,c=this.J.length,e=a.utils.getCanvasMultiplier(),e=e*e,g=0;g<c;++g)var f=this.J[g],b=Math.max(b,f.width*f.height*e);return Math.sqrt(8E6/b)},Bm:function(b){return 0===b.m_b&&0===b.m_c?0<b.m_a?0:180:0>b.m_b?270:90},Hs:function(b,c){var a=this.Bm(b),e=c.w,g=c.Wf;if(90===a||270===a)var f=e,e=g,g=f;switch(a){case 0:return a=
-b.m_h,f=b.m_v,{x1:a,y1:f-g,x2:f-g,y2:f};case 90:return f=-b.m_h,a=-b.m_v,{x1:a,y1:f,x2:a+e,y2:f+g};case 180:return a=b.m_h,f=-b.m_v,{x1:a-e,y1:f,x2:a,y2:f+g};case 270:return f=b.m_h,a=b.m_v,{x1:a-e,y1:f-g,x2:a,y2:f}}return null},tl:function(b){this.Za=b},Fx:function(b,c){if(this.Za){var a,e,g=this.J[c].width,f=this.J[c].height,d=b.getContext("2d");d.save();d.textAlign="center";d.textBaseline="top";var k=function(b){d.font=b.fontSize+"pt "+b.fontFamily;d.fillStyle=b.color;d.globalAlpha=b.opacity/
100;e=1.5*b.fontSize},l=function(b){var c=[""],a=0;b.split(" ").forEach(function(b){b.split("\n").forEach(function(b,e,f){b&&(d.measureText(c[a]+b).width>=g/3&&(c[++a]=""),c[a]+=b+" ");e<f.length-1&&(c[++a]="")})});return c};this.Za.diagonal&&(d.save(),k.call(this,this.Za.diagonal),d.translate(g/2,f/2),d.rotate(-Math.atan(f/g)),this.Za.diagonal.text&&(a=this.Za.diagonal.text.split("\n"),a.forEach(function(b,c){d.fillText(b,0,(c-a.length/2)*e)})),d.restore());if(this.Za.header){d.save();k.call(this,
this.Za.header);var h=function(b){b.forEach(function(b,c){d.fillText(b,0,c*e)})};d.translate(g/6,0);this.Za.header.left&&h(l(this.Za.header.left));d.translate(g/3,0);this.Za.header.center&&h(l(this.Za.header.center));d.translate(g/3,0);this.Za.header.right&&h(l(this.Za.header.right));d.restore()}this.Za.footer&&(d.save(),k.call(this,this.Za.footer),k=function(b){b.forEach(function(c,a){d.fillText(c,0,(a-b.length)*e)})},d.translate(g/6,f),this.Za.footer.left&&k(l(this.Za.footer.left)),d.translate(g/
3,0),this.Za.footer.center&&k(l(this.Za.footer.center)),d.translate(g/3,0),this.Za.footer.right&&k(l(this.Za.footer.right)),d.restore());this.Za.custom&&(d.save(),this.Za.custom(d,c,g,f),d.restore());d.restore()}},nl:function(){return Promise.resolve()}};f.Ef=function(b){this.em=this.cb=null;this.vm=new a.Ve.qr;this.id=b;this.pu=!1;this.Se=null;this.Ud={};this.jz=_.bind(this.jz,this);this.kt=null;this.ji=1;this.ee={};this.Za=null;this.ec=Promise.resolve()};f.Ef.prototype=Object.create(f.Yq.prototype);
f.Ef.prototype.constructor=f.Ef;$.extend(f.Ef.prototype,{Df:"Document/FixedDocument.fdoc",pg:"Document/DocProps/core.xml",Cf:"Document/Structure/DocStruct.struct",FI:"Struct/font.xml",SJ:"Struct/",RJ:"Text/",bg:function(b,c,e){this.cb=b;this.jf=[];this.Zd={};this.J=[];this.od={};this.od[this.Df]=0;this.od[this.pg]=0;this.od[this.Cf]=0;this.cb.ai()&&(this.vj={});var g=this,f;f=e&&e.annotsLoadedCallback?e.annotsLoadedCallback:function(){};b.bind("partReady",this.jz);this.bind("documentReady",function(b){1.2===
g.ji?(g.dC(),c(b),f()):(g.Oa.Mg("Annots.xfdf",function(b){b=b.data;var c="",e=0,d,k,l,h=-1;for(2<=b.length&&"{"===b.charAt(0)&&"}"===b.charAt(1)&&(b=b.substr(2));e<b.length;)d=b.charCodeAt(e),128>d?(0>h&&(h=e),e++):(0<=h&&(c+=b.substring(h,e),h=-1),191<d&&224>d?(k=b.charCodeAt(e+1),c+=String.fromCharCode((d&31)<<6|k&63),e+=2):(k=b.charCodeAt(e+1),l=b.charCodeAt(e+2),c+=String.fromCharCode((d&15)<<12|(k&63)<<6|l&63),e+=3));0===h?c=b:0<=h&&(c+=b.substring(h,e));b=c;g.J[0].As=b;c=a.Annotations.ba.Mt(b);
g.DK(c);f(b,c)}),g.dC(),c(b))});b instanceof a.o.V.Ko?(this.pu=!0,this.Sk(function(){b.db=g.Se;b.ml(c)})):b.ml(c)},du:function(b,c,e){var g=this;if(!this.Oa)throw Error("Document is not initialized!");1.2===this.ji&&(this.Oa.ru=!0);this.Oa.ky(b,c,function(c,f){var d=g.J[b],k=null;f&&(k=new a.Ve.CJ(d,f,g.vm));e(c,k)})},yn:function(b,c){if(!this.Oa)throw Error("Document is not initialized!");return this.Oa.Mg(b,c)},DP:function(b){var c=this;null===c.kt?c.yn(c.FI,function(a){if(a.error)throw Error("SELECT: Error getting part "+
a.pa+": "+a.error);var e=new XODText.Gv;e.Dz(a.data);c.kt=e.Rx;b(c.kt)}):b(c.kt)},Hd:function(b,c){var a=this;null!==a.J[b].text?c(a.J[b].text):b in a.ee?a.ee[b].push(c):(a.ee[b]=[c],1.4>a.ji?a.yn(a.RJ+(b+1)+".xml",function(c){if(c.error)throw Error("SELECT: Error getting part "+c.pa+": "+c.error);var e=new XODTextOld.Ye;e.WO(c.data);c=new XODText.Ye;c.Bu(e);a.Ps(b,c);a.J[b].text=c;a.ee[b].forEach(function(b){b(e)});delete a.ee[b]}):a.DP(function(c){a.yn(a.SJ+(b+1)+".xml",function(e){var g=new XODText.Ye,
f=new XODText.Ea;f.Pa(1,0,0,1,0,0);var d=new XODText.Xl(c);a.Oa.QE(b,function(c){function k(){return c.qq().then(function(){if(!c.run(d,f))return k()})}k().then(function(){g.Dz(e.data,d);a.Ps(b,g);a.J[b].text=g;a.ee[b].forEach(function(b){b(g)});delete a.ee[b]})["catch"](function(b){console.warn("Custom Canvas has encountered an error: "+b.message)})})})}))},vn:function(){return 1.2>=this.ji},ij:function(){return this.pn||0<this.nq},Sg:function(b,a,e,g,f,d){var k=this,l=c(b,a,e,g,f,d),h=_.uniqueId();
k.Ud[h]={oj:null,paused:!1,Lb:l.pageIndex};k.du(l.pageIndex,h,function(b,c){if(b)throw Error("Error loading page "+l.pageIndex+": "+b);_.isUndefined(k.Ud[h])||(k.Ud[h].oj=c,k.Ud[h].paused&&c.pause(),l.finishedLoading(b,c)&&c.RF(function(){l.resourcesLoaded()&&c.SL(l.getZoom(),l.getPageRotation(),function(b){l.drawComplete(b,l.pageIndex)},function(b){k.Fx(b,l.pageIndex);l.drawProgressive(b,l.pageIndex)},l.canvasNum,l.getPageTransform(),l.renderRect,l.useProgress,l.pageCanvas)},void 0,l.acquireResources()))});
return h},Cu:function(b){if(b=this.Ud[b])b.paused=!0,b.oj&&b.oj.pause()},Su:function(b){if(b=this.Ud[b])b.paused=!1,b.oj&&b.oj.resume&&b.oj.resume()},ao:function(b){this.xh(b)},xh:function(b){var c=this.Ud[b];c&&(this.Js(c.Lb,b),c=c.oj)&&(c.qd(),c.abort&&c.abort());this.Ri(b)},Ri:function(b){delete this.Ud[b]},rD:function(){return"t"+_.uniqueId()},qP:function(b){return _.isString(b)&&0<b.length&&"t"===b[0]},nj:function(b,c){if(!this.Oa)throw Error("Document is not initialized!");var e=this,g;if(this.pn||
this.nq>b)g=e.rD(),this.Oa.zy(b,g,function(b){var g=new Image,f;f=b.data;h&&e.cb instanceof h?f=e.cb.path+f:(b=b.pa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase(),f=a.o.JE(b,f));g.onload=function(){g.src.startsWith("data")||URL.revokeObjectURL(g.src);c(g);g=g.onload=null};g.src=f},name);else{var f=this.J[b];g=this.Sg({pageIndex:b,zoom:f.width>f.height?150/f.width:150/f.height,drawComplete:function(b){b.style.backgroundColor="white";e.ao(g);c(b)},pageCanvas:!0})}return g},Sk:function(b){if(null===this.Se){if(_.isUndefined(this.id)||
_.isNull(this.id)){this.id=a.top.location.href;for(var c=a.top.location.hash.substring(1).split("&"),e=0;e<c.length;e++){var g=c[e].split("=");if("d"===g[0]){this.id=g[1];break}}}var f=this;this.Se=new a.o.lJ(this.id);this.Se.open(b,function(b){f.Se=null;console.error(b)})}else console.warn("Offline DB is already initialized!"),b()},Zn:function(b,c){function e(b){g.cb.$w(b)}if(!this.Oa)throw b(),Error("Document is not initialized!");if(!this.Se)throw b(),Error("Offline DB is not initialized!");if(this.cb instanceof
a.o.V.Ko)throw b(),Error("Can't download file while in offline mode!");var g=this;g.cb.oy(function(a){g.Se.FS(g.Oa,a,!!g.cb.decrypt,b,c,e)})},jj:function(){if(!this.Se)throw Error("Offline DB is not initialized!");return this.Se.jj()},Cm:function(){if(!this.Se)throw Error("Offline DB is not initialized!");this.Se.CL()},dn:function(){return this.pu},Un:function(b){if(!this.Se)throw Error("Offline DB is not initialized!");this.pu!==b&&(!(this.pu=b)||this.em instanceof a.o.V.Ko||(this.em=new a.o.V.Ko(this.Se,
this.cb.decrypt,this.cb.zk),this.em.bind("partReady",this.Oa.uu)),this.lA())},lA:function(){if(null!==this.em){var b=this.em;this.em=this.cb;this.cb=b;this.Oa.Md=this.cb}},Js:function(b,c){if(!this.Oa)throw Error("Document is not initialized!");this.Oa.op(b,c)},Qi:function(b){this.qP(b)?this.Oa.DL(b):this.xh(b)},jz:function(b){if(b.error)return this.od[b.pa]=3,this.CB();var c;c=this.cb.decrypt?this.cb.wD?this.cb.decrypt(b.data,this.cb.zk,b.pa):a.o.eh.BD(b.data,this.cb.zk,b.pa):b.data;c=a.cj(c);this.cb.ai()&&
(this.vj[b.pa]={data:c,wb:b.wb},this.cb.decrypt&&(this.vj[b.pa].JM=b.data));b.wb&&(c=k.inflate(c));switch(b.pa){case this.Df:c=new a.Ee(c);c.ma();c.advance();b=c.K("JPGThumbs");this.Xy="true"===b;b=c.K("IncludesThumbs");this.pn=null===b||"false"!==b;!this.pn&&(b=c.K("NumLeadingThumbs"))&&(b=parseInt(b,10),b=isNaN(b)?0:b,this.nq=Math.max(b,0));b=c.K("Version");this.ji=parseFloat(b);if(1.2>this.ji)throw this.od[this.Df]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");
if(1.4<this.ji)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");for(b=this.od[this.Df]=1;c.advance();++b){var e=new a.Do(parseFloat(c.K("Width")),parseFloat(c.K("Height")));e.Dq=["Pages/"+b+".xaml","Annot/"+b+".xml","Pages/_rels/"+b+".xaml.rels"];this.J.push(e)}this.pn&&(this.nq=this.J.length);this.iq=this.np();break;case this.pg:this.od[this.pg]=1;c=new a.Ee(c);c.ma();for(this.Zd={};c.advance();)b=c.ta().split(":"),this.Zd[1===b.length?b[0]:
b[1]]=c.current.textContent;break;case this.Cf:this.od[this.Cf]=1;this.jf=[];c=new a.Ee(c);c.ma();c.advance();c.ma();c.advance();c.ma();for(var g=0,f=null;c.advance();){var e=parseInt(c.K("OutlineLevel"),10),d=new a.CoreControls.Bookmark;d.children=[];d.name=b.wb?a.utils.utf8_decode(c.K("Description")):c.K("Description");if(g<e)d.parent=f;else for(d.parent=f.parent;g>e;)d.parent=d.parent.parent,--g;d.eo=c.K("trn:Vpos");d.eo=null===d.eo?0:parseFloat(d.eo);d.rn=c.K("trn:Hpos");d.rn=null===d.rn?0:parseFloat(d.rn);
g=c.K("OutlineTarget").split("#");1===g.length||0===g[1].length?d.url=g[0]:d.Yg=parseInt(g[1],10);null!==d.parent?d.parent.children[d.parent.children.length]=d:this.jf[this.jf.length]=d;g=e;f=d}break;default:if(this.od[this.Df])return this.od[this.pg]=this.od[this.pg]||2,this.od[this.Cf]=this.od[this.Cf]||2,this.HB(b)}this.CB()},Ik:function(){return Promise.resolve(this.jf)},bn:function(b){return 1.2===this.ji?this.J[b].As:this.J[b].links},Gb:function(){return this.J.length},Yc:function(b){var c=
{};c.width=this.J[b].width;c.height=this.J[b].height;return c},At:function(b,c,a){c={x:c,y:a};return this.J[b].rb.inverse().aa(c)},Lt:function(b,c,a){return this.J[b].rb.aa({x:c,y:a})},qd:function(){if(document.fonts)for(var b in a.ni)a.ni[b].remove();a.ci={};a.ni={};b=a.fh.FontFace.prototype.kA;null!==b&&(document.head.removeChild(b),a.fh.FontFace.prototype.styleSheet=null,a.fh.FontFace.prototype.kA=null);this.vm=new a.Ve.qr;this.cb instanceof a.o.V.ZA&&this.cb.abort();this.Gr()},Gr:function(){this.cb.unbind("partReady");
this.Oa=new a.o.V.hJ(this.cb,this.J,this.vm);this.Oa.Xy=this.Xy},CB:function(){this.od[this.Df]&&this.od[this.pg]&&this.od[this.Cf]&&this.HB()},HB:function(b){this.Gr();if(this.cb.ai()){for(var c in this.vj)this.Oa.cache.setItem(c,this.vj[c].data,this.vj[c].wb),this.cb.decrypt&&this.Oa.Dk.setItem(c,this.vj[c].JM,this.vj[c].wb);delete this.vj}this.trigger("documentReady",3===this.od[this.Df]);b&&this.cb.trigger("partReady",b)},dC:function(){var b=new XODText.Ea;b.Pa(4/3,0,0,-4/3,0,this.J[0].height);
for(var c=this.J.length,a=0;a<c;++a)this.J[a].rb=b,this.J[a].rotation=0},DK:function(b){for(var c=this.J.length,a=0;a<c;++a)this.J[a].rb=null;if(b&&b.querySelector("xfdf > pages")){b=b.querySelector("xfdf > pages");for(var e,g,f,a=0;a<b.childNodes.length;++a){var d=b.childNodes[a].localName;if(d&&(f=b.childNodes[a],"defmtx"===d&&(g=f.getAttribute("matrix").split(","),e=new XODText.Ea,e.Pa(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4]),parseFloat(g[5])),g=this.Bm(e)),
"pgmtx"===d)){d=parseInt(f.getAttribute("page"),10);f=f.getAttribute("matrix").split(",");var k=new XODText.Ea;k.Pa(parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]),parseFloat(f[4]),parseFloat(f[5]));var l=this.Bm(k);f=this.Hs(k,{w:this.J[d].width,Wf:this.J[d].height});this.J[d].rotation=l;k.Pa(4/3,0,0,-4/3,-f.x1,f.y2);this.J[d].rb=k}}for(a=0;a<c;++a)null===this.J[a].rb&&(b=new XODText.Ea,f=this.Hs(e,{w:this.J[a].width,Wf:this.J[a].height}),b.Pa(4/3,0,0,-4/3,-f.x1,f.y2),this.J[a].rb=
b,this.J[a].rotation=g)}},Um:function(){}});f.gh=function(){this.jf=[];this.Zd={};this.J=[];this.yu={};this.pn=!1;this.nq=0;this.Kh={};this.ee={};this.Ca=null;this.lG=2;this.hH=!1;this.ae=[];this.Za=null};f.gh.prototype=Object.create(f.Yq.prototype);f.gh.prototype.constructor=f.gh;$.extend(f.gh.prototype,{wv:function(b){var c=new a.Do(b.width,b.height);c.rb=new XODText.Ea;b=b.matrix;c.rb.Pa(b[0],b[1],b[2],b[3],b[4],b[5]);b=this.Bm(c.rb);c.rb=this.Kz({w:c.width,Wf:c.height});c.rotation=b;return c},
Kz:function(b,c){var a=new XODText.Ea;a.Pa.apply(a,b);var e=this.Hs(a,c);a.Pa(1,0,0,-1,-e.x1,e.y2);return a},gE:function(b,c,a){this.fQ||this.VC({pageDimensions:b});this.iq=this.np();a&&(this.Jh||this.xa.MF(this.Ca).then(function(b){a(b.xfdfString)})["catch"](function(b){console.warn(b);a(null)}));this.Jh||this.trigger("documentComplete");c()},FN:function(b){var c=createPromiseCapability(),a=new XMLHttpRequest;a.open("GET",b.url);if(b=b.customHeaders)for(var e in b)a.setRequestHeader(e,b[e]);a.setRequestHeader("Range",
"bytes=1-150");a.responseType="arraybuffer";a.onreadystatechange=function(){if(this.readyState===this.DONE){var b=a.response.byteLength;206!==a.status&&200!==a.status?c.reject({message:"Received http error code "+a.status}):150!==b&&c.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(a.response)});var b=new Uint8Array(a.response),e=[76,105,110,101,97,114,105,122,101,100],g=a.getResponseHeader("Content-Range")||a.getResponseHeader("content-range");if(g){var g=g.split("/")[1],
f=0;do{a:{for(var d=b.length;f<d;++f)if(b[f]===e[0])break a;f=-1}f+=1;for(d=1;10>d;++d)if(b[f]===e[d])++f;else break;if(10===d){c.resolve(parseInt(g,10));return}}while(0!==f);c.reject({message:"The file is not linearized."})}else c.reject({message:"Could not retrieve Content-Range header."})}};a.onerror=function(){c.reject({message:"Network or Cross Domain Access Error."})};a.send();return c.promise},bg:function(b,c,e){function g(b){H.jf=[];H.Zd={};H.J=[];H.pn=!1;H.nq=0;H.Jh=!1;H.bind("documentReady",
c);var a,e;I.then(function(c){H.xa=c;c="object"===typeof b&&"url"in b;var g;if(g=F){g=F;var f=Object.prototype.toString.call(g);g="object"===typeof g&&null!==g&&("[object File]"===f||"[object Blob]"===f)}g&&H.xa&&"ems"===H.xa.getWorkerType()?(a="file",e=F):c?(a="url",e=b,H.Jh=!0):"string"===typeof b?(a="filepath",e=b):"object"===typeof b&&null!==b&&void 0!==b.byteLength?(a="array",e=b.buffer):"object"===typeof b&&"type"in b&&"id"===b.type?(a="id",e=b.id):console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");
h({type:a,value:e,extension:E,defaultPageSize:G,pageSizes:B})})}function f(b,c){console.warn("Could not use incremental download for url "+b+". Reason: "+c)}function d(b){M=b;H.xa.eT(H.Ca,b).then(function(b){b.success?l(b.pageDimensions):n(d)})}function k(){H.ec=new Promise(function(b){H.bind("documentComplete",function(){H.unbind("documentComplete");b()})});H.xa.addEventListener(H.Ca,function(b){H.xQ(b)})}function l(a){H.Jh?H.xa.gP(H.Ca).then(function(e){e?H.gE(a,c,m):(f(F.url,"Linearization data is invalid."),
H.qd(),b.getFileData(g))}):H.gE(a,c,m)}function h(b){H.xa.PM(b).then(function(b){H.Ca=b.docId;k();l(b.pageDimensions)},function(b){"NeedsPassword"===b.type&&n?(H.Ca=b.docId,k(),M?d(M):n(d)):(H.ec=Promise.reject(b),c(b))})}var m=e.annotsLoadedCallback,n=e.getPassword,E=e.extension,G=e.defaultPageSize,B=e.pageSizes,I=e.workerTransportPromise,H=this,F=b.getFile();a.utils.isJSWorker&&a.jsworker?(F=a.jsworker.worker.getPlatformFormatFilePath(F),g(F)):F&&F.url?this.FN(F).then(function(b){F.size=b;g(F)},
function(c){f(F.url,c.message);c.data?g(c.data):b.getFileData(g)}):F&&!a.utils.isChrome?g(F):b.getFileData(g);var M=null},VC:function(b){var c=this;c.fQ=!0;b=b.pageDimensions;for(var a=Object.keys(b),g=this.J,f=Array(g.length),d=0;d<g.length;++d){var k=g[d];k.text&&(f[d]=k.text)}this.J.length=0;var l=this.yu,h=[],m={};a.forEach(function(a){var d=b[a],k=!!d.contentChanged,d={width:d.width,height:d.height,matrix:c.Kz(d.matrix,{w:d.width,Wf:d.height}),rotation:90*d.rotation,id:d.id,pageNum:a,contentChanged:k};
l[d.id]&&h.push({before:l[d.id],after:d});l[d.id]=new e(d.width,d.height);var n=l[d.id];n.AR(d);!k&&(k=f[a-1])&&(n.text=k);g[a-1]=n;m[d.id]=!0});this.iq=this.np();Object.keys(l).forEach(function(b){b in m||delete l[b]});return h},xQ:function(b){switch(b.type){case "pagesUpdated":b=this.VC(b.data);this.Yi({type:"pagesDiff",data:b});this.Yi({type:"pagesUpdated",data:b.map(function(b){return b.after})});break;case "bookmarksUpdated":this.Yi({type:"bookmarksUpdated",data:b.data});break;case "documentComplete":this.trigger("documentComplete");
this.Yi({type:"documentComplete",data:b.data});break;default:console.warn("Unknown event type: ",b.type)}},Ik:function(){function b(c){var a=[];c.children.forEach(function(c){a.push(b(c))});return new f.Te(a,c.name,c.pageNumber,c.parent,c.verticalOffset,c.horizontalOffset,c.url)}return this.xa.AP(this.Ca).then(function(c){var a=[];c.bookmarks.forEach(function(c){a.push(b(c))});return a})},Hd:function(b,c){var a=this;null!==a.J[b].text?c(a.J[b].text):b in a.ee?a.ee[b].push(c):(this.nl(b+1).then(function(){a.xa.Hd(a.Ca,
b).then(function(c){var e=new XODText.Ye;e.Bu({Wa:c.struct,Qa:c.str,Vb:c.offsets,Ba:c.quads,gc:!0});a.Ps(b,e);a.J[b].text=e;a.ee[b].forEach(function(b){b(e)});delete a.ee[b]},function(b){console.warn("Text generation failed: "+(b&&b.message?b.message:b))})}),a.ee[b]=[c])},Gk:function(b){return this.xa.MF(this.Ca,b)},jq:function(b){return this.xa.jq(this.Ca,b)},getFileData:function(b){var c=this;b=b||{};"finishedWithDocument"in b||(b.finishedWithDocument=!1);"printDocument"in b||(b.printDocument=!1);
b.docId=c.Ca;return"filePath"in b?c.ec.then(function(){return c.xa.gR(b)}):c.ec.then(function(){return c.xa.fR(b)}).then(function(b){return b.fileData})},Gb:function(){return this.J.length},oF:function(b,c,e,g,f,d,k,l){var h=this,m=a.o.Il===a.o.Il.wr;if(m){c=a.innerWidth;e=a.innerHeight;var n=a.utils.getCanvasMultiplier(),E={x:k.x,y:k.y};a.ud(g.tq,g.xu,{x1:g.page.x1,x2:g.page.x2,y1:g.page.y1,y2:g.page.y2,width:g.page.width,height:g.page.height},E,!0,n);E.x=E?Math.round(E.x):0;E.y=E?Math.round(E.y):
0;n=a.o.Ma.Xg;a.o.Ma.Zo(n,c,e);var G=E.x>=n.width/2;console.log("imagePathReceived for: "+b);console.log("tCanvas.width: "+n.width);console.log("translation.x: "+E.x);console.log("isRightPage: "+G);"undefined"===typeof h.cq&&(h.cq=!1);if(G&&!h.cq){h.Dx=function(){var c=a.o.Ma.Wn(g.page,g.tq,g.xu,k,d,l).canvas,e=k?Math.round(k.x):0,h=k?Math.round(k.y):0;console.log("Drawing: "+b);var m=new Image;$(m).css("width",g.oG);$(m).css("height",g.mG);var n=b;0!==n.indexOf("file://")&&(n="file://"+n);m.onload=
function(){var b=c.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(m,e,h);f||$(c).addClass("progressive");g.$s(c);f&&g.Zs(c);m=null;a.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+n),a.jsworker.worker.deleteGeneratedImageRenderFile(n))};m.src=n};return}}var B=a.o.Ma.Wn(g.page,g.tq,g.xu,k,d,g.ve,l).canvas,I=k?Math.round(k.x):0,H=k?Math.round(k.y):0;console.log("Drawing: "+b);var F=new Image;$(F).css("width",g.oG);$(F).css("height",g.mG);var M=b;0!==M.indexOf("file://")&&
(M="file://"+M);F.onload=function(){var b=B.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(F,I,H);f||$(B).addClass("progressive");g.$s(B);f&&g.Zs(B);F=null;a.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+M),a.jsworker.worker.deleteGeneratedImageRenderFile(M));m&&(G?h.cq=!1:(h.cq=!0,"function"===typeof h.Dx&&(h.Dx(),h.Dx=void 0,h.cq=!1)))};F.src=M},oP:function(b){if("Alpha"===b.name)return!0;for(var c=0;c<this.ae.length;++c)if(this.ae[c].name===b.name)return this.ae[c].enabled;
c=Array(3);this.VH(b.color,c);b={color:b.color,name:b.name,rgb:c,enabled:!0};this.ae.push(b);this.Yi({type:"colorSeparationAdded",data:b});return!0},sa:function(b,c){var a=b*c+128;return(a>>8)+a>>8},ib:function(b,c,a){b=b*c+128;b=((b>>8)+b>>8)+a;return 255>b?b:255},VH:function(b,c){var a=b[0],e=b[1],g=b[2],f=b[3],d=255-a,k=255-e,l=255-g,h=255-f,m=this.sa(this.sa(this.sa(d,k),l),h),n=m,G=m,B=m,m=this.sa(this.sa(this.sa(d,k),l),f),n=this.ib(35,m,n),G=this.ib(31,m,G),B=this.ib(32,m,B),m=this.sa(this.sa(this.sa(d,
k),g),h),n=this.ib(255,m,n),G=this.ib(242,m,G),m=this.sa(this.sa(this.sa(d,k),g),f),n=this.ib(28,m,n),G=this.ib(26,m,G),m=this.sa(this.sa(this.sa(d,e),l),h),n=this.ib(236,m,n),B=this.ib(140,m,B),m=this.sa(this.sa(this.sa(d,e),l),f),n=this.ib(36,m,n),m=this.sa(this.sa(this.sa(d,e),g),h),n=this.ib(237,m,n),G=this.ib(28,m,G),B=this.ib(36,m,B),m=this.sa(this.sa(this.sa(d,e),g),f),n=this.ib(34,m,n),m=this.sa(this.sa(this.sa(a,k),l),h),G=this.ib(173,m,G),B=this.ib(239,m,B),m=this.sa(this.sa(this.sa(a,k),
l),f),G=this.ib(15,m,G),B=this.ib(36,m,B),m=this.sa(this.sa(this.sa(a,k),g),h),G=this.ib(166,m,G),B=this.ib(80,m,B),m=this.sa(this.sa(this.sa(a,k),g),f),G=this.ib(19,m,G),m=this.sa(this.sa(this.sa(a,e),l),h),n=this.ib(46,m,n),G=this.ib(49,m,G),B=this.ib(146,m,B),m=this.sa(this.sa(this.sa(a,e),l),f),B=this.ib(2,m,B),m=this.sa(this.sa(this.sa(a,e),g),h);c[0]=this.ib(54,m,n);c[1]=this.ib(54,m,G);c[2]=this.ib(57,m,B)},uL:function(b,c,a,e){for(var g=this,f=b.length-1;0<=f;--f)this.oP(b[f])||b.splice(f,
1);return function(b,c,a){return new Promise(function(f){function d(){for(var b=Math.min(P+w,a);P<b;++P)for(var z=P*c,Q=4*z,S=0;S<c;++S){v[0]=0;v[1]=0;v[2]=0;for(q=v[3]=0;q<n;++q){var N=v,ca=h[q],R=l[q][z+S];N[0]=Math.min(g.sa(ca[0],R)+N[0],255);N[1]=Math.min(g.sa(ca[1],R)+N[1],255);N[2]=Math.min(g.sa(ca[2],R)+N[2],255);N[3]=Math.min(g.sa(ca[3],R)+N[3],255)}g.VH(v,r);N=Q+4*S;m[N]=r[0];m[N+1]=r[1];m[N+2]=r[2];m[N+3]=k[z+S]}P<a?(b=setImmediate(d),e&&(g.Kh[e.id]=b)):f(m)}for(var k,l=[],h=[],m=new Uint8ClampedArray(c*
a*4),n=0,q=0;q<b.length;++q)"Alpha"!==b[q].name?(h.push(b[q].color),l.push(new Uint8Array(b[q].data)),++n):k=new Uint8Array(b[q].data);var r=Array(3),v=[0,0,0,0],w=Math.ceil(1E5/c),P=0;d()})}(b,c,a)},ax:function(b,c,e,g,f,d,k,l){function h(d){function k(){f||$(n).addClass("progressive");g.page&&m.Fx(n,g.page.Ra-1);g.$s(n);f&&g.Zs(n,{data:b,width:c,height:e});f&&delete m.Kh[g.id]}if(a.utils.supportsImageDataConstructor){var l=new a.ImageData(d,c,e);B.putImageData(l,E,G,0,0,c,e);k()}else{var w=Math.ceil(1E6/
c),z=e,C=B.createImageData(c,Math.min(w,e)),A=0,L=function(){var b=Math.min(w,z),a=e-z,l=b*c*4;C.data.set(d.subarray(A,A+l));A+=l;B.putImageData(C,E,G+a,0,0,c,b);z-=b;0===z?k():(b=setImmediate(L),f&&(m.Kh[g.id]=b))};L()}}var m=this,n=g.RD?g.RD:a.o.Ma.Wn(g.page,g.tq,g.xu,k,d,g.ve,l).canvas,E=k&&0<k.x?Math.round(k.x):0,G=k&&0<k.y?Math.round(k.y):0,B=n.getContext("2d");b.length?this.uL(b,c,e,f?g:null).then(h):h(new Uint8ClampedArray(b))},Sg:function(b,e,g,f,d,k){var l=this,h=c(b,e,g,f,d,k),m=h.pageIndex;
b=h.getZoom();g=h.getPageRotation();e=h.renderRect;d=g===a.o.Sa.Me||g===a.o.Sa.Pf;var n=a.utils.getCanvasMultiplier(),x=h.getPageTransform();"undefined"===typeof e?(f=(d?l.J[m].height:l.J[m].width)*b,d=(d?l.J[m].width:l.J[m].height)*b):(f=(d?e.y2-e.y1:e.x2-e.x1)*b,d=(d?e.x2-e.x1:e.y2-e.y1)*b);f=Math.round(f);d=Math.round(d);var E=Math.floor(f*n),G=Math.floor(d*n);if(!E||!G)return g=l.xa.Mp(),this.Kh[g]=setImmediate(function(){var b=document.createElement("canvas");b.width=E||1;b.height=G||1;h.drawComplete(b)}),
g;var B,n=l.hH?a.o.Bo.DJ:l.lG;a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders()?(B=a.jsworker.worker.generateImageRenderFilePath(m),B=a.jsworker.worker.getPlatformFormatFilePath(B),console.log("imageRenderFilePath for page "+m+' is: "'+B+'".'),n=l.xa.hN(l.Ca,m,E,G,g,l.Zy,n,e,B)):n=l.xa.gN(l.Ca,m,E,G,g,l.Zy,n,e);var I=n.zL,H={$s:h.drawProgressive,Zs:function(b,c){h.drawComplete(b,m,c)},oG:f,mG:d,tq:b,xu:g,page:l.J[m],ve:e,id:I},F=1,M;h.useProgress&&(M=setInterval(function(){var b;
a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders?(b=a.jsworker.worker.generateNextImageRenderFilePath(B,F++),b=a.jsworker.worker.getPlatformFormatFilePath(b),b=l.xa.wE(I,b)):b=l.xa.wE(I);b.then(function(b){"undefined"!==typeof b.filePath?l.oF(b.filePath,b.pageWidth,b.pageHeight,H,!1,k,x,h.pageCanvas):l.ax(b.pageBuf,b.pageWidth,b.pageHeight,H,!1,k,x,h.pageCanvas)},function(b){"type"in b&&"Queued"===b.type||clearInterval(M)})},a.o.UE()));n.promise.then(function(b){clearInterval(M);"undefined"!==
typeof b.filePath?l.oF(b.filePath,b.pageWidth,b.pageHeight,H,!0,k,x,h.pageCanvas):l.ax(b.pageBuf,b.pageWidth,b.pageHeight,H,!0,k,x,h.pageCanvas)},function(b){clearInterval(M);h.onError(b)});return I},Ri:function(){},qd:function(){this.Ca&&(this.xa.IL(this.Ca),this.xa.wx(this.Ca),this.Ca=null)},Up:function(b,c,a){var e=this;return this.ec.then(function(){return e.xa.Up(e.Ca,b,c||612,a||792)})},un:function(b,c,a){var e=this;b instanceof f.Document&&(b=b.v.Ca);return this.ec.then(function(){return e.xa.un(e.Ca,
b,c,a,!0)})},kq:function(b,c){var a=this;return this.ec.then(function(){return a.xa.kq(a.Ca,b,c)})},Hn:function(b){var c=this;b.sort(d);return this.ec.then(function(){return c.xa.Hn(c.Ca,b)})},Qm:function(){return this.xa.Qm(this.Ca,this.Zy)},Ln:function(b,c){var a=this;b.sort(d);return this.ec.then(function(){return a.xa.Ln(a.Ca,b,c)})},Rm:function(b,c){var a=this;return this.ec.then(function(){return a.xa.Rm(a.Ca,b,c).then(function(b){return b.fileData})})},Hm:function(b,c,a,e,g){var f=this;b.sort(d);
return this.ec.then(function(){return f.xa.Hm(f.Ca,b,c,a,e,g)})},Ct:function(b){return this.J[b].id},Np:function(){return Object.keys(this.yu)},en:function(){var b=this;if("undefined"===typeof a.PDFNet)throw Error("getPDFDoc called without PDFNet being loaded. Are you running a lean version of PDFNetJS?");return b.xa.en(b.Ca).then(function(c){c=new a.PDFNet.PDFDoc(c);c.documentCompletePromise=b.ec;return c})},$m:function(){return this.xa.$m(this.Ca).then(function(b){return b})},Yu:function(b){this.Zy=
b},$u:function(b){this.lG=b},nl:function(b){if(1!==arguments.length)throw new RangeError(arguments.length+" arguments passed into function 'requirePage'. Expected 1 argument. Function Signature: requirePage(number)");if(b instanceof Promise)throw new TypeError("Received a Promise object in 1st input argument 'requirePage'. Promises require a 'yield' statement before being accessed.");if("number"!==typeof b)throw new TypeError("1st input argument '"+b+"' in function 'requirePage' is of type '"+typeof b+
"'. Expected type 'number'. Function Signature: requirePage(number).");if(0>=b)throw Error("1st input argument '"+b+"' in function 'requirePage' is invalid. Expected number between 1 and number of pages in the document.");return this.Jh?this.xa.nl(this.Ca,b):Promise.resolve()},nj:function(b,c,e){var g="page"===e;e=this.J[b];var f=a.utils.getCanvasMultiplier(),g=g?2E3:150*f,d=e.width>e.height?g/e.width:g/e.height,d=d/f;return this.Sg({pageIndex:b,getZoom:function(){return d},getPageRotation:function(){return a.o.Sa.Eh},
drawComplete:function(b){c(b)},drawProgressive:function(){},useProgress:!1,pageCanvas:!0})},Qi:g,xh:g,ij:function(){return!1},ql:function(b){this.Jh&&this.xa.ql(this.Ca,b)},dt:function(b){this.hH=b},qt:function(){return this.ae},et:function(b,c){for(var a=0;a<this.ae.length;++a)if(this.ae[a].name===b){this.ae[a].enabled=c;break}},Um:function(b,c,a,e,g,f){var d=this;return new Promise(function(k,l){var h={Zs:function(b){k(b)},$s:function(){},tq:e};d.xa.Um({docId:d.Ca,objNum:b,genNum:c,pageNum:a,zoom:e,
annotationState:g,appearanceState:f}).then(function(b){var c=b.imgBuf,a=b.imgWidth;b=b.imgHeight;var e=document.createElement("canvas");e.width=a;e.height=b;h.RD=e;d.ax(c,a,b,h,!0)})["catch"](l)})}});_(f.Yq.prototype).extend(Backbone.Events);a.Do=e})(window);
(function(a){a.Annotations=a.Annotations||{};var d=a.Annotations;d.Color=function(a,c,b,g){this.A=this.B=this.G=this.R=0;a instanceof d.Color?(this.R=a.R,this.G=a.G,this.B=a.B,this.A=a.A):_.isArray(a)?1===a.length?(this.B=this.G=this.R=a=Math.round(255*(a[0]||0)),this.A=1):3===a.length?(this.R=Math.round(255*(a[0]||0)),this.G=Math.round(255*(a[1]||0)),this.B=Math.round(255*(a[2]||0)),this.A=1):4===a.length&&(c=a[1]||0,b=a[2]||0,g=a[3]||0,this.R=Math.round(255*(1-(a[0]||0))*(1-g)),this.G=Math.round(255*
(1-c)*(1-g)),this.B=Math.round(255*(1-b)*(1-g)),this.A=1):_.isString(a)&&"#"===a[0]?(a=d.ba.Vi(a),this.R=a.R,this.G=a.G,this.B=a.B,this.A=1):(_.isUndefined(a)||(this.R=Number(a)),_.isUndefined(c)||(this.G=Number(c)),_.isUndefined(b)||(this.B=Number(b)),_.isUndefined(g)?_.isUndefined(a)&&_.isUndefined(c)&&_.isUndefined(b)||(this.A=1):this.A=Number(g))};d.Color.prototype={toString:function(){var a=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+a+")":"rgba("+a+","+this.A+")"},
toHexString:function(){return d.ba.eg(this)},QS:function(){return d.ba.toFixed(this.R/255,3)+" "+d.ba.toFixed(this.G/255,3)+" "+d.ba.toFixed(this.B/255,3)+" rg"},Uk:function(){return 0===this.R&&0===this.G&&0===this.B&&1===this.A},FF:function(){return 0===this.A}};d.Point=function(a,c){this.x=a;this.y=c;"string"===typeof a&&(this.x=parseFloat(a));"string"===typeof c&&(this.y=parseFloat(c))};d.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};d.bb=function(a,c,b,g,f,
d,h,l){this.x1=a;this.y1=c;this.x2=b;this.y2=g;this.x3=f;this.y3=d;this.x4=h;this.y4=l};d.bb.prototype={normalize:function(){},Ux:function(){var a=[];a.push(this.x1);a.push(this.y1);a.push(this.x2);a.push(this.y2);a.push(this.x3);a.push(this.y3);a.push(this.x4);a.push(this.y4);return a}};d.Rect=function(a,c,b,g){a instanceof d.Rect?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):_.isArray(a)?(this.x1=a[0],this.y1=a[1],this.x2=a[2],this.y2=a[3]):_.isObject(a)?(this.x1=a.x1,this.y1=a.y1,this.x2=
a.x2,this.y2=a.y2):(this.x1=a,this.y1=c,this.x2=b,this.y2=g)};d.Rect.prototype={za:function(){return this.x2-this.x1},va:function(){return this.y2-this.y1},translate:function(a,c){this.x1+=a;this.y1+=c;this.x2+=a;this.y2+=c},jt:function(a){var c=0,b=0;if(this.za()<=a.za()){var g=a.x2-this.x2;0>g&&(c=g);g=a.x1-this.x1;0<g&&(c=g)}this.va()<=a.va()&&(g=a.y2-this.y2,0>g&&(b=g),a=a.y1-this.y1,0<a&&(b=a));this.translate(c,b)},normalize:function(){var a;0>this.za()&&(a=this.x1,this.x1=this.x2,this.x2=a);
0>this.va()&&(a=this.y1,this.y1=this.y2,this.y2=a)},OM:function(){var a;this.x1>this.x2&&(a=this.x1,this.x1=this.x2,this.x2=a);this.y2>this.y1&&(a=this.y1,this.y1=this.y2,this.y2=a)},isEqual:function(a){return this.x1===a.x1&&this.y1===a.y1&&this.x2===a.x2&&this.y2===a.y2},GF:function(){return 0===this.x1&&0===this.y1&&0===this.x2&&0===this.y2}};d.Math={};d.Math.MP=function(a,c){return a instanceof d.Point&&c instanceof d.Point?new d.Point((a.x+c.x)/2,(a.y+c.y)/2):null};d.Math.distance=function(a,
c){if(!(a instanceof d.Point&&c instanceof d.Point))return null;var b=a.x-c.x,g=a.y-c.y;return Math.sqrt(b*b+g*g)};d.ControlHandle=function(a,c,b,g){this.x=a;this.y=c;this.width=b;this.height=g};d.ControlHandle.handleWidth=12;d.ControlHandle.handleHeight=12;d.ControlHandle.selectionAccuracyPadding=1;d.ControlHandle.prototype={testSelection:function(a,c,b,g,f){a=this.getDimensions(a,c,b);c=0;1<d.ControlHandle.selectionAccuracyPadding&&(c=d.ControlHandle.selectionAccuracyPadding);return g>=a.x1-c&&
g<=a.x1+a.za()+c&&f>=a.y1-c&&f<=a.y1+a.va()+c},draw:function(a,c,b,g){"undefined"===typeof g&&(g=1);this.Ac(a,g);var f=this.getDimensions(c,b,g);c=f.x1;b=f.y1;g=f.za();f=f.va();a.beginPath();a.arc(c+g/2,b+f/2,g/2,0,2*Math.PI);a.stroke();a.fill()},Ac:function(a,c){a.strokeStyle=d.SelectionModel.defaultSelectionOutlineColor.toString();a.fillStyle="rgb(255, 255, 255)";a.lineWidth=d.SelectionModel.selectionOutlineThickness/c},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");
return new d.Rect(0,0,0,0)}};d.Ce=function(a,c,b,g){this.width=a;this.height=c;this.qf=b;this.jg=g};d.Ce.prototype={getDimensions:function(a,c,b){a=c.x1;var g=c.y1,f=this.width/b;b=this.height/b;this.qf===d.na.kc.left?a+=-(f/2):this.qf===d.na.kc.Ks?a+=(c.za()-f)/2:this.qf===d.na.kc.right?a+=c.za()-f/2:console.warn("Invalid HorizonalAlignment");this.jg===d.na.Cc.top?g+=-(b/2):this.jg===d.na.Cc.ju?g+=(c.va()-b)/2:this.jg===d.na.Cc.bottom?g+=c.va()-b/2:console.warn("Invalid VerticalAlignment");return new d.Rect(a,
g,a+f,g+b)},move:function(a,c,b){var g=c||b;if(!g)return!1;var f=a.pe();if("Signature"===a.Subject){var k=a.Width,h=a.Height;if(k>h){if(b=h/k*(k+c)-h,this.qf===d.na.kc.left&&this.jg===d.na.Cc.bottom||this.qf===d.na.kc.right&&this.jg===d.na.Cc.top)b*=-1}else if(c=k/h*(h+b)-k,this.qf===d.na.kc.left&&this.jg===d.na.Cc.bottom||this.qf===d.na.kc.right&&this.jg===d.na.Cc.top)c*=-1}this.qf===d.na.kc.left?f.x1+=c:this.qf===d.na.kc.right&&(f.x2+=c);this.jg===d.na.Cc.top?f.y1+=b:this.jg===d.na.Cc.bottom&&(f.y2+=
b);a.resize(f);return g}};d.Ce.prototype=$.extend(!0,new d.ControlHandle,d.Ce.prototype);d.Yj=function(a,c,b,g,f){this.x=a;this.y=c;this.width=b;this.height=g;this.Wk=f};d.Yj.prototype={getDimensions:function(a,c,b){a=this.width/b;b=this.height/b;return this.Wk?new d.Rect(this.x-.5*a,this.y,this.x+.5*a,this.y+b):new d.Rect(this.x-.5*a,this.y-b,this.x+.5*a,this.y)},move:function(a,c,b,g,f,d){b=a.Oe();c=b[0];if("undefined"===typeof c)return!1;b=b[b.length-1];d=new window.ja.he(d);d.annotation=a;d.pageCoordinates[0]=
f;g=Math.min(c.x1,c.x2,c.x3,c.x4);a=Math.max(b.x1,b.x2,b.x3,b.x4);c=Math.min(c.y1,c.y2,c.y3,c.y4);b=Math.max(b.y1,b.y2,b.y3,b.y4);this.Wk?c={x:g+1,y:c,pageIndex:f.pageIndex}:(c=f,f={x:a-1,y:b,pageIndex:f.pageIndex});if(f.y<c.y)return!1;(c.x<f.x||c.y<f.y)&&d.select(c,f);return!0},draw:function(a,c,b,g){var f,k,h,l;this.Ac(a,g);f=c.Oe();this.Wk?(l=f[f.length-1],f=l.x2,k=l.y2,h=l.x3,l=l.y3):(l=f[0],f=l.x1,k=l.y1,h=l.x4,l=l.y4);a.beginPath();a.moveTo(f,k);a.lineTo(h,l);a.stroke();d.ControlHandle.prototype.draw.call(this,
a,c,b,g)}};d.Yj.prototype=$.extend(!0,new d.ControlHandle,d.Yj.prototype);d.ug=function(a,c,b,g,f){this.x=a;this.y=c;this.width=b;this.height=g;this.yc=f};d.ug.prototype={getDimensions:function(a,c,b){a=this.width/b;b=this.height/b;c=this.x-.5*a;var g=this.y-.5*b;return new d.Rect(c,g,c+a,g+b)},move:function(a,c,b){var g=a.Hh(this.yc);a.xf(this.yc,g.x+c,g.y+b);return!0}};d.ug.prototype=$.extend(!0,new d.ControlHandle,d.ug.prototype);d.pr=function(a,c,b,g,f){d.ug.apply(this,arguments)};d.pr.prototype=
{move:function(a,c,b,g,f){d.ug.prototype.move.apply(this,arguments);if(0===this.yc){var k=a.Hh(0);a.xf(a.getPath().length-1,k.x,k.y)}return!0}};d.pr.prototype=$.extend(!0,new d.ug,d.pr.prototype);d.ar=function(a,c,b,g,f){this.x=a;this.y=c;this.width=b;this.height=g;this.yc=f};d.ar.prototype={move:function(a,c,b,g,f,k){f=a.getPath().length-4;g=f+1;var h=g+1,l=h+1;f=a.Hh(f);var m=a.Hh(g),n=a.Hh(h),q=a.Hh(l);if(this.yc===h){if(q.y<n.y+b||q.x<n.x+c)return}else if(this.yc===l&&(q.y+b<n.y||q.x+c<n.x))return;
c=d.ug.prototype.move.call(this,a,c,b);this.yc===h&&(q.y<n.y&&a.xf(h,n.x,q.y),q.x<n.x&&a.xf(h,q.x,n.y),a.xf(g,n.x,n.y+.5*(q.y-n.y)),c=!0);this.yc===l&&(q.y<n.y&&a.xf(h,q.x,n.y),q.x<n.x&&a.xf(h,n.x,q.y),a.xf(g,m.x,n.y+.5*(q.y-n.y)),c=!0);k=k.uc(a.Hb());k=a.Zi(k)/2;b=d.Math.MP(n,q);k=[new d.Point(b.x,n.y+k),new d.Point(b.x,q.y-k),new d.Point(n.x+k,b.y),new d.Point(q.x-k,b.y)];n=[d.Math.distance(f,k[0]),d.Math.distance(f,k[1]),d.Math.distance(f,k[2]),d.Math.distance(f,k[3])];n=n.indexOf(Math.min.apply(Math,
n));if(f.x!==k[n].x||f.y!==k[n].y)a.xf(g,k[n].x,k[n].y),c=!0;return c}};d.ar.prototype=$.extend(!0,new d.ug,d.ar.prototype);d.Pl=function(a,c,b,g,f){this.x=a;this.y=c;this.width=b;this.height=g;this.Wk=f};d.Pl.prototype={getDimensions:function(a,c,b){a=this.width/b;b=this.height/b;c=this.x-.5*a;var g=this.y-.5*b;return new d.Rect(c,g,c+a,g+b)},move:function(a,c,b){this.Wk?(a.End.x+=c,a.End.y+=b):(a.Start.x+=c,a.Start.y+=b);a.adjustRect();return!0}};d.Pl.prototype=$.extend(!0,new d.ControlHandle,d.Pl.prototype);
d.SelectionModel=function(a,c,b){this.Hc=[];this.fw=c;this.vw=b};d.SelectionModel.selectionOutlineThickness=2;d.SelectionModel.selectionAccuracyPadding=2;d.SelectionModel.defaultSelectionOutlineColor=new d.Color(0,0,255);d.SelectionModel.defaultNoPermissionSelectionOutlineColor=new d.Color(255,0,0);d.SelectionModel.selectionOutlineDashSize=4;d.SelectionModel.prototype={testSelection:function(a,c,b){return d.lc.Am(a,c,b)},Lq:function(a,c,b,g){for(var f=this.Hc.length-1;0<=f;f--){var d=this.Hc[f];if(d.testSelection(a,
this.getDimensions(a),c,b,g))return d}},kN:function(){return this.Hc},getDimensions:function(a){return new d.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)},Bd:function(){return this.fw},draw:function(a,c,b,g){a.save();this.drawSelectionOutline(a,c,b,g);a.restore();for(g=0;g<this.Hc.length;g++)this.Hc[g]&&this.Hc[g].draw(a,c,this.getDimensions(c),b)},drawSelectionOutline:function(a,c,b){a.save();c=this.getDimensions(c);"undefined"===typeof b&&(b=1);a.lineWidth=d.SelectionModel.selectionOutlineThickness/b;
this.Bd()?a.strokeStyle=d.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=d.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(c.x1,c.y1);a.lineTo(c.x2,c.y1);a.lineTo(c.x2,c.y2);a.lineTo(c.x1,c.y2);a.closePath();a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=d.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();
a.moveTo(c.x1,c.y1);a.lineTo(c.x2,c.y1);a.lineTo(c.x2,c.y2);a.lineTo(c.x1,c.y2);a.closePath();a.stroke();a.restore()}};d.nr=function(){d.SelectionModel.call(this,0,!1,!1)};d.nr.prototype={testSelection:function(){return!1},getDimensions:function(){return new d.Rect(0,0,0,0)},draw:function(){},drawSelectionOutline:function(){}};d.nr.prototype=$.extend(!0,new d.SelectionModel,d.nr.prototype);d.na=function(a,c,b){d.SelectionModel.call(this,0,c,b);b=d.ControlHandle.handleWidth;var g=d.ControlHandle.handleHeight;
(this.fw=c)?(this.Hc=[new d.Ce(b,g,d.na.kc.left,d.na.Cc.top),new d.Ce(b,g,d.na.kc.left,d.na.Cc.ju),new d.Ce(b,g,d.na.kc.left,d.na.Cc.bottom),new d.Ce(b,g,d.na.kc.Ks,d.na.Cc.top),new d.Ce(b,g,d.na.kc.Ks,d.na.Cc.bottom),new d.Ce(b,g,d.na.kc.right,d.na.Cc.top),new d.Ce(b,g,d.na.kc.right,d.na.Cc.ju),new d.Ce(b,g,d.na.kc.right,d.na.Cc.bottom)],"Signature"===a.Subject&&(this.Hc.splice(3,2),this.Hc.splice(1,1),this.Hc.splice(-2,1))):this.Hc=[]};d.na.kc={left:1,Ks:2,right:4};d.na.Cc={top:16,ju:32,bottom:64};
d.na.prototype={testSelection:function(a,c,b,g){return this.vw?d.lc.Am(a,c,b):d.lc.pp(a,c,b,g)},getDimensions:function(a){return new d.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)}};d.na.prototype=$.extend(!0,new d.SelectionModel,d.na.prototype);d.Sl=function(a,c,b){d.SelectionModel.call(this,0,c,b);if(c)for(a=a.getPath(),c=0;c<a.length;c++)b=a[c],this.Hc.push(new d.ug(b.x,b.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,c))};d.Sl.prototype={testSelection:function(a,c,b,g){return this.vw?d.lc.Am(a,
c,b):d.lc.pp(a,c,b,g)},draw:function(a,c,b){d.SelectionModel.prototype.draw.call(this,a,c,b)}};d.Sl.prototype=$.extend(!0,new d.SelectionModel,d.Sl.prototype);d.Kv=function(a,c,b){d.SelectionModel.call(this,0,c,b);if(c)for(a=a.getPath(),c=0;c<a.length-1;c++)b=a[c],this.Hc.push(new d.pr(b.x,b.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,c))};d.Kv.prototype=$.extend(!0,new d.SelectionModel,d.Kv.prototype);d.zo=function(a,c,b){d.SelectionModel.call(this,0,c,b);this.Hc=c?[new d.Pl(a.Start.x,
a.Start.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,0),new d.Pl(a.End.x,a.End.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,1)]:[]};d.zo.prototype={testSelection:function(a,c,b,g){return d.lc.pp(a,c,b,g)},drawSelectionOutline:function(a,c,b,g){"undefined"===typeof b&&(b=1);a.lineWidth=d.SelectionModel.selectionOutlineThickness/b;var f=Math.atan((c.End.y-c.Start.y)/(c.End.x-c.Start.x)),k=Math.max(.5*c.Zi(g),1)*Math.sin(f);g=Math.max(.5*c.Zi(g),1)*Math.cos(f);this.Bd()?a.strokeStyle=
d.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=d.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(c.Start.x+k,c.Start.y-g);a.lineTo(c.End.x+k,c.End.y-g);a.stroke();a.beginPath();a.moveTo(c.Start.x-k,c.Start.y+g);a.lineTo(c.End.x-k,c.End.y+g);a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=d.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle=
"rgb(255, 255, 255)";a.beginPath();a.moveTo(c.Start.x+k,c.Start.y-g);a.lineTo(c.End.x+k,c.End.y-g);a.stroke();a.beginPath();a.moveTo(c.Start.x-k,c.Start.y+g);a.lineTo(c.End.x-k,c.End.y+g);a.stroke()}};d.zo.prototype=$.extend(!0,new d.na,d.zo.prototype);d.xo=function(a,c,b){d.na.apply(this,arguments)};d.xo.prototype={getDimensions:function(a){return d.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(a,c,b){return d.lc.Am(a,c,b)}};d.xo.prototype=$.extend(!0,new d.na,
d.xo.prototype);d.br=function(a,c,b){d.SelectionModel.call(this,0,c,b);if(c)for(a=a.getPath(),c=0;c<a.length;c++)c!==a.length-3&&(b=a[c],this.Hc.push(new d.ar(b.x,b.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,c)))};d.br.prototype={testSelection:function(a,c,b,g){if(this.vw)return d.lc.Am(a,c,b);var f=a.getPath().slice(-2),k=f[0],f=f[1];return c<k.x||c>f.x||b<k.y||b>f.y?d.lc.pp(a,c,b,g):!0}};d.br.prototype=$.extend(!0,new d.SelectionModel,d.br.prototype);d.Zj=function(a,c,b,g,f){d.SelectionModel.call(this,
0,c,b);this.fw=c;if(a=a.Oe())_.isUndefined(g)&&(g=!0),_.isUndefined(f)&&(f=!0),this.Hc=[],c&&(c=a[0],a=a[a.length-1],c&&(this.Hc=[],g&&this.Hc.push(new d.Yj(c.x1,c.y3,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,!1)),f&&this.Hc.push(new d.Yj(a.x3,a.y1,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,!0))))};d.Zj.prototype={testSelection:function(a,c,b){return d.lc.UH(a,c,b)},getDimensions:function(a){var c=a.X-2,b=a.Y-2;return new d.Rect(c,b,c+(a.Width+4),b+(a.Height+4))}};d.Zj.prototype=
$.extend(!0,new d.SelectionModel,d.Zj.prototype);d.Jo=function(a,c,b){d.SelectionModel.call(this,0,c,b)};d.Jo.prototype={testSelection:function(a,c,b,g,f){g=a.NoZoom?f:1;a=new d.Rect(a.an(),a.jn(),a.an()+a.SIZE/g,a.jn()+a.SIZE/g);return c>=a.x1&&c<=a.x2&&b>=a.y1&&b<=a.y2},getDimensions:function(a){return new d.Rect(a.X,a.Y,a.X+a.SIZE,a.Y+a.SIZE)}};d.Jo.prototype=$.extend(!0,new d.SelectionModel,d.Jo.prototype);d.lc={Am:function(a,c,b){a=a.pe();return c>=a.x1&&c<=a.x2&&b>=a.y1&&b<=a.y2},pp:function(a,
c,b,g){var f;d.lc.nF?f=d.lc.nF:(f=document.createElement("canvas"),d.lc.nF=f);var k=f.getContext("2d");f.width=4;f.height=4;k.setTransform(1,0,0,1,-(c-a.mn()),-(b-a.nn()));c=a.StrokeThickness;a.Ai=c+d.lc.canvasVisibilityPadding;k.translate(-1*a.mn(),-1*a.nn());a.draw(k,g);g=1<k.getImageData(0,0,1,1).data[3];k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,2,2);a.Ai=c;return g},UH:function(a,c,b){a=a.Quads;for(var g=0;g<a.length;g++){var f=a[g],d=Math.min(f.y1,f.y2,f.y3,f.y4),h=Math.max(f.y1,f.y2,f.y3,
f.y4),l=Math.max(f.x1,f.x2,f.x3,f.x4);if(c>=Math.min(f.x1,f.x2,f.x3,f.x4)&&c<=l&&b>=d&&b<=h)return!0}return!1}};d.lc.canvasVisibilityPadding=5})(window);
(function(a){function d(){return"url("+a.o.Pk()+"dragginghand.cur), url("+a.o.Pk()+"dragginghand.png), pointer"}function e(){return"url("+a.o.Pk()+"hand.cur), url("+a.o.Pk()+"hand.png), pointer"}function c(b,a){f!==a&&(b.Lc().css("cursor",a),f=a)}var b=XODText,g="Resources/";a.o.cS=function(b){b.lastIndexOf("/")!==b.length-1&&(b+="/");g=b};a.o.Pk=function(){return g};var f;a.ja=function(){};var k=a.ja;k.$T={};k.Tool=function(b){this.yb=this.Jd=null;this.u=this.docViewer=b;this.pageCoordinates=[]};
k.Tool.ENABLE_TEXT_SELECTION=!0;k.Tool.ENABLE_AUTO_SWITCH=!0;k.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=!0;k.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE=!1;k.Tool.prototype={Sf:function(b){var a={},c=this.u.Qb(),g=c.scrollLeft()||0,c=c.scrollTop()||0;b.originalEvent&&b.originalEvent.touches?(b=0===b.originalEvent.touches.length?b.originalEvent.changedTouches[0]:b.originalEvent.touches[0],a.x=g+b.clientX,a.y=c+b.clientY):(a.x=g+b.pageX,a.y=c+b.pageY);return a},mouseLeftDown:function(b){var a=this.Sf(b),g=this.u.fa;
this.Jd=a;this.yb={x:a.x,y:a.y};this.pageCoordinates[0]=this.Wd(this.Jd);this.pageCoordinates[1]=this.pageCoordinates[0];b.data={mouseCoordinate:{x:a.x,y:a.y},pageCoordinate:this.pageCoordinates[0]};(b=g.Vm(b))&&(b instanceof Annotations.Db?c(this.u,this.cursor):c(this.u,"move"))},mouseLeftUp:function(b){var a=this.Sf(b);this.yb=a;this.pageCoordinates[1]=this.Wd(this.yb);b.data={mouseCoordinate:{x:a.x,y:a.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(b){var a=this.Sf(b),c=this.u.fa;
this.yb=a;var g=this.Wd(this.yb);g&&(this.eI(c,g),this.dI(c,b),this.bT(c,g));if(null!==this.Jd){c=this.Wd(this.Jd);if(null===c)return;var e=c.pageIndex,c=this.u.nd(e),g=this.u.md(e),e=this.Wd(this.yb,e);k.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE||(0>e.x&&(e.x=0),0>e.y&&(e.y=0),e.x>c&&(e.x=c),e.y>g&&(e.y=g));this.pageCoordinates[1]=e}else this.pageCoordinates[1]=this.Wd(this.yb);b.data={mouseCoordinate:{x:a.x,y:a.y},pageCoordinate:this.pageCoordinates[1]}},eI:function(b,a){if(k.Tool.ENABLE_TEXT_SELECTION&&k.Tool.ENABLE_AUTO_SWITCH){var c=
this.u.It();!this.Nc&&(c instanceof k.Gl||c instanceof k.Yl)&&(this.me&&0<Object.keys(this.me).length||0<b.Xd().length||this.u.fH(a.pageIndex,a,function(b,a){0<a.length?this.u.bA(this.u.By("TextSelect")):0===a.length&&this.u.bA(this.u.By("AnnotationEdit"))}.bind(this)))}},dI:function(b,a){if(k.Tool.ENABLE_ANNOTATION_HOVER_CURSORS){var g=b.Vm(a);g?b.Tk(g)?g instanceof Annotations.Db?c(this.u,this.cursor):c(this.u,"move"):c(this.u,"pointer"):c(this.u,this.cursor)}},bT:function(b,a){if(k.Tool.ENABLE_ANNOTATION_HOVER_CURSORS)for(var g=
b.Xd(),e=0;e<g.length;e++){var f=g[e],d=(new f.selectionModel(f,b.Bd(f))).Lq(f,this.u.fc(f.PageNumber-1),a.x,a.y);if(!d)break;f=this.u.Ne(f.PageNumber);d instanceof Annotations.Ce?c(this.u,(d.jg===Annotations.na.Cc.ju?0===f%2?"ew":"ns":d.qf===Annotations.na.kc.Ks?0===f%2?"ns":"ew":d.jg===Annotations.na.Cc.top?d.qf===Annotations.na.kc.right?0===f%2?"nesw":"nwse":0===f%2?"nwse":"nesw":d.qf===Annotations.na.kc.right?0===f%2?"nwse":"nesw":0===f%2?"nesw":"nwse")+"-resize"):d instanceof Annotations.Yj?
0===f%2?c(this.u,"ew-resize"):c(this.u,"ns-resize"):c(this.u,"default")}},mouseDoubleClick:function(b){var a=this.Sf(b);this.Jd={x:a.x,y:a.y};this.yb={x:a.x,y:a.y};var a=this.u.fa,c=this.Wd(this.yb);c&&(this.xm=c.x,this.ym=c.y,(b=a.Vm(b))&&!b.Mh()&&b.Yk()&&a.trigger("annotationDoubleClicked",b))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){c(this.u,"default");this.u.fa.Ed()},Jg:function(){return this.u},Wd:function(b,
a){var c=this.docViewer.Mk().Gt(b,b);if("undefined"===typeof a){if(c=null===c.first?c.last:c.first,null===c)return null}else c=a;c=this.docViewer.Mk().Cj(b,c);return{pageIndex:c.pageIndex,x:c.x,y:c.y}},Ac:function(b){var a=this.defaults;if(b=b(a))this.defaults=Object.assign({},a,b),this.u.trigger("toolUpdated",[this])},LR:function(b){this.name=b;this.u.trigger("toolUpdated",[this])}};var h=k.Tool;k.AnnotationSelectTool=function(b){h.call(this,b);this.ym=this.xm=0;this.Hi={x:0,y:0};this.Si=this.qc=
null;this.state=k.AnnotationSelectTool.Ob.NONE;this.kf=NaN;this.Nc=!1;this.cursor="default";this.overrideSelection=!1};k.AnnotationSelectTool.Ob={NONE:0,zv:1,UA:2,jr:3,yv:4};k.AnnotationSelectTool.PAGE_PADDING=new Annotations.Rect(2,2,2,2);k.AnnotationSelectTool.prototype=$.extend(new h,{mouseLeftDown:function(b){h.prototype.mouseLeftDown.call(this,b);if(this.overrideSelection)this.state=k.AnnotationSelectTool.Ob.NONE;else{this.Nc=!0;this.state=k.AnnotationSelectTool.Ob.NONE;var a=this.u.fa,c=this.Wd(this.yb);
if(c){this.kf=c.pageIndex;this.xm=c.x;this.ym=c.y;this.Hi.x=this.xm;this.Hi.y=this.ym;for(var g=a.Xd(),e=0;e<g.length;e++){var f=g[e];if("undefined"!==typeof f.selectionModel){var d=(new f.selectionModel(f,a.Bd(f))).Lq(f,this.u.fc(f.Hb()),c.x,c.y);if(d){this.qc=f;this.Si=d;!this.qc.NoResize&&a.Bd(this.qc)?this.state=k.AnnotationSelectTool.Ob.yv:(this.state=k.AnnotationSelectTool.Ob.NONE,a.Ed());return}}else if(console.warn("no selection model for annotation"),this.Si=a.zE(this.kf,c)){this.qc=this.Si.hL;
!this.qc.NoResize&&a.Bd(this.qc)?this.state=k.AnnotationSelectTool.Ob.UA:(this.state=k.AnnotationSelectTool.Ob.NONE,a.Ed());return}}if(0<a.Xd().length&&(c=a.sE(b),0<c.length)){this.qc=null;for(g=0;g<c.length;++g)if(a.Tk(c[g])){this.qc=c[g];break}this.qc||(this.qc=c[0]);c=a.Tk(this.qc);!this.qc.NoMove&&a.Bd(this.qc)&&c?this.state=k.AnnotationSelectTool.Ob.zv:b.ctrlKey?this.state=k.AnnotationSelectTool.Ob.jr:(this.state=k.AnnotationSelectTool.Ob.NONE,a.Ed());return}}a.Ed()}},mouseMove:function(b){h.prototype.mouseMove.call(this,
b);!this.Nc||!this.isSelecting()&&(this instanceof k.Eo||this instanceof k.Gl)||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLInputElement||b.preventDefault();if(!this.overrideSelection&&this.state!==k.AnnotationSelectTool.Ob.NONE){b=this.u.fa;var a=this.pageCoordinates[1];if(a&&this.kf===a.pageIndex){var g=a.x-this.Hi.x,e=a.y-this.Hi.y;if(this.state===k.AnnotationSelectTool.Ob.zv&&this.qc){c(this.u,"move");var f=b.Xd(),d,p,u,w,z,C,A,y=!1;for(d=0;d<f.length;d++)u=
f[d],b.Bd(u)&&!u.NoMove&&(p=u.pe(),y?(p.x1<w&&(w=p.x1),p.y1<z&&(z=p.y1),p.x2>C&&(C=p.x2),p.y2>A&&(A=p.y2)):(w=p.x1,z=p.y1,C=p.x2,A=p.y2,y=!0));p=this.u.nd(this.kf);u=this.u.md(this.kf);d=new Annotations.Rect;this.u.fc(this.qc.Hb());d.x1=1*k.AnnotationSelectTool.PAGE_PADDING.x1;d.y1=1*k.AnnotationSelectTool.PAGE_PADDING.y1;d.x2=p-1*k.AnnotationSelectTool.PAGE_PADDING.x2;d.y2=u-1*k.AnnotationSelectTool.PAGE_PADDING.y2;w=Math.max(0+k.AnnotationSelectTool.PAGE_PADDING.x1,w);z=Math.max(0+k.AnnotationSelectTool.PAGE_PADDING.y1,
z);C=Math.min(C,p-k.AnnotationSelectTool.PAGE_PADDING.x2);A=Math.min(A,u-k.AnnotationSelectTool.PAGE_PADDING.y2);if(y){w=w+g>=d.x1||k.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?g:d.x1-w;z=z+e>=d.y1||k.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?e:d.y1-z;C=C+g<=d.x2||k.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?g:d.x2-C;A=A+e<=d.y2||k.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?e:d.y2-A;g=0<=g?Math.min(w,C):Math.max(w,C);e=0<=e?Math.min(z,A):Math.max(z,A);this.Hi.x=a.x;this.Hi.y=a.y;a={};for(d=0;d<f.length;d++)if(u=f[d],b.Bd(u)&&!u.NoMove&&(p=u.pe(),
p.x1+=g,p.y1+=e,p.x2+=g,p.y2+=e,0!==g||0!==e))u.resize(p),u.SC=!0,a[u.vc()]=!0;for(var x in a)this.u.fa.Wc(x)}}else this.state===k.AnnotationSelectTool.Ob.yv&&this.Si&&this.qc&&(x=this.Si.move(this.qc,g,e,this.Wd(new Annotations.Point(this.Jd.x,this.Jd.y)),a,this.u),this.Hi.x=a.x,this.Hi.y=a.y,x&&this.u.fa.Xb(this.qc))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.Nc=!1;var b=this.u.fa,a=b.Xd();if(this.state===k.AnnotationSelectTool.Ob.zv){for(var g=[],e=0;e<a.length;e++){var f=a[e];
f.SC&&(f.SC=void 0,g.push(f))}0<g.length&&b.trigger("annotationChanged",[g,"modify"])}else this.state===k.AnnotationSelectTool.Ob.UA?(g=this.Si.hL,this.Si&&b.trigger("annotationChanged",[[g],"modify"])):this.state===k.AnnotationSelectTool.Ob.yv&&this.qc&&b.trigger("annotationChanged",[[this.qc],"modify"]);0<a.length?c(this.u,"default"):c(this.u,this.cursor);this.state=k.AnnotationSelectTool.Ob.NONE}},Hz:function(){this.u.fa.Im(this.annotation);this.annotation=null},keyDown:function(b){27===b.which&&
void 0!==this.annotation&&null!==this.annotation&&this.Hz();46!==b.which&&8!==b.which||a.utils.isEditableElement($(b.target))||(b=this.u.Pb().Xd(),this.u.Pb().vx(b))},tap:function(b){if(!this.overrideSelection){var a=this.u.Pb(),c=a.Vm(b);if(c){var g=a.Tk(c);b.originalEvent.ctrlKey||b.originalEvent.metaKey?g?a.tp(c):a.On(c):g||(a.Ed(),a.On(c));b.preventDefault()}}},isSelecting:function(){return this.state!==k.AnnotationSelectTool.Ob.NONE}});k.Eo=function(b,a){k.AnnotationSelectTool.call(this,b);this.Iw=
{x:0,y:0};this.Tr=!1;this.cursor=e();this.name=a||"PanTool"};k.Eo.prototype=$.extend(new k.AnnotationSelectTool,{switchIn:function(){c(this.u,this.cursor)},mouseLeftDown:function(b){k.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);this.isSelecting()||(this.Iw=this.Sf(b),this.Tr=!0,this.cursor=d(),c(this.u,this.cursor))},mouseLeftUp:function(b){k.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);this.isSelecting()||(this.cursor=e(),c(this.u,this.cursor),this.Tr=!1)},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,
b);if(!this.isSelecting()&&this.Tr){var a=this.u.Qb(),g=this.Sf(b);b=this.Iw.x-g.x;g=this.Iw.y-g.y;this.u.scrollTo((a.scrollLeft()||0)+b,(a.scrollTop()||0)+g);c(this.u,d())}},mouseLeave:function(){this.Tr=!1;c(this.u,this.cursor)}});k.Rb=function(b){h.call(this,b);this.Nc=!1;this.cursor="text"};k.Rb.SELECTION_MODE="structural";k.Rb.prototype={switchIn:function(){this.bD(null,this.u.Ne());this.u.on("rotationUpdated.textTool",_.bind(this.bD,this))},switchOut:function(b){h.prototype.switchOut.call(this,
b);this.u.off("rotationUpdated.textTool")},bD:function(b,g){this.cursor=g===a.o.Sa.Me||g===a.o.Sa.Pf?"vertical-text":"text";c(this.u,this.cursor)},mouseLeftDown:function(b){k.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);this.isSelecting()||(b.altKey&&(k.Rb.SELECTION_MODE="rectangular"),this.Nc=!0,this.u.sp())},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,b);this.isSelecting()||!0!==this.Nc||(1!==b.which&&0!==b.which?this.Nc=!1:(b.data&&(this.pageCoordinates[1]=
this.Wd(b.data.mouseCoordinate)),this.select(this.pageCoordinates[0],this.pageCoordinates[1])))},select:function(a,c){var g=this.u;if(a&&c){var e,f;c.pageIndex>=a.pageIndex?(e=a,f=c):(e=c,f=a);var d=e.pageIndex,h=f.pageIndex;if(null!==d&&null!==h){var u=new b.Ja,w=g.v.Yc(d);1<=h-d?u.Pa(e.x,e.y,w.width,w.height):u.Pa(e.x,e.y,f.x,f.y);this.u.wn="rectangular"===k.Rb.SELECTION_MODE?(new XODText.vi(this.u.getDocument())).gH:(new XODText.vi(this.u.getDocument())).eH;this.u.Wh=[[d,u]];this.u.Pn(d,u,_.bind(this.textSelected,
this));for(e=d+1;e<h;e++)this.u.Wh.unshift([e,u]),w=g.v.Yc(e),u=new b.Ja,u.Pa(0,0,w.width,w.height),g.Pn(e,u,_.bind(this.textSelected,this));d!==h&&(u=new b.Ja,u.Pa(0,0,f.x,f.y),this.u.Wh.unshift([h,u]),g.Pn(h,u,_.bind(this.textSelected,this)))}}},textSelected:function(){},mouseLeftUp:function(b){k.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);this.isSelecting()||(b.altKey&&"rectangular"===k.Rb.SELECTION_MODE&&(k.Rb.SELECTION_MODE="structural"),this.Nc=!1)}};k.Rb.prototype=$.extend(new k.AnnotationSelectTool,
k.Rb.prototype);k.Yl=function(b,a){k.Rb.call(this,b);this.me={};this.LB=this.CC=this.fm=null;this.name=a||"TextSelectTool"};k.Yl.prototype=$.extend(new k.Rb,{select:function(){this.u.gD();this.me={};k.Rb.prototype.select.apply(this,arguments)},mouseLeftDown:function(b){this.fm=null;var a=this.Wd(this.Sf(b));if(a){var c=a.pageIndex,g=this.uK(c),e=this;g.Oe=function(){return e.me[c]};var f=!1,d=!1,h=this.pw();0<h.length&&(c===h[0]&&(f=!0),c===h[h.length-1]&&(d=!0));if(a=(new Annotations.Zj(g,!0,!1,
f,d)).Lq(g,this.u.fc(c),a.x,a.y))this.fm=a,this.fm.Wk?this.CC=this.wK():this.LB=this.vK()}this.fm||(k.Rb.prototype.mouseLeftDown.apply(this,arguments),this.me={});this.Nc=!0},mouseMove:function(b){b.preventDefault();if(this.Nc&&this.fm){var a=this.Wd(this.Sf(b));if(a){var c;this.fm.Wk?c=this.CC:(c=a,a=this.LB);this.me={};this.select(c,a)}}else k.Rb.prototype.mouseMove.apply(this,arguments)},mouseLeftUp:function(){k.Rb.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.me).length?(c(this.u,
"default"),this.Kw()):0===this.u.Pb().Xd().length&&c(this.u,this.cursor)},textSelected:function(b,a,g){this.u.Eu(b,a,g);0<a.length&&(c(this.u,"default"),this.me[b]=a.map(function(b){return b.Ng()}));this.Nc||this.Kw()},mouseDoubleClick:function(){var b=this.pageCoordinates[0];if(b){var a=this;this.u.fH(b.pageIndex,b,function(){a.textSelected.apply(a,arguments);a.Kw()})}},sp:function(){this.me={}},Kw:function(){var b=this.UB();b.quad&&this.trigger("selectionComplete",[b,this.me])},pw:function(){return Object.keys(this.me).map(function(b){return parseInt(b,
10)}).sort(function(b,a){return b-a})},UB:function(){var b=this.pw()[0],a=this.me[b];return{quad:a?a[0]:null,pageIndex:b}},wK:function(){var b=this.UB(),a=b.quad;return{x:a.x1,y:(a.y1+a.y3)/2,pageIndex:b.pageIndex}},vK:function(){var b=this.pw(),b=b[b.length-1],a=this.me[b],a=a[a.length-1];return{x:a.x3,y:(a.y1+a.y3)/2,pageIndex:b}},uK:function(b){var a=Infinity,c=Infinity,g=0,e=0;if(b=this.me[b])for(var f=0;f<b.length;++f)var d=b[f],a=Math.min(a,d.x1,d.x2,d.x3,d.x4),c=Math.min(c,d.y1,d.y2,d.y3,d.y4),
g=Math.max(g,d.x1,d.x2,d.x3,d.x4),e=Math.max(e,d.y1,d.y2,d.y3,d.y4);return{X:a,Y:c,Width:g-a,Height:e-c}}},a.utils.eventHandler);k.Bb=function(b,a,c){k.AnnotationSelectTool.call(this,b);this.annotation=null;this.Tw=a;this.UL=c;this.cursor="crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,0),StrokeThickness:1,Opacity:1}};k.Bb.prototype=$.extend(new k.AnnotationSelectTool,{switchIn:function(){c(this.u,this.cursor);this.u.be({annotMode:!0})},switchOut:function(b){null!==
this.annotation&&void 0!==this.annotation&&(this.u.fa.Im(this.annotation),this.annotation=null);k.AnnotationSelectTool.prototype.switchOut.call(this,b);this.u.be({annotMode:!1})},mouseLeftDown:function(b){k.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);if(!this.isSelecting()&&!this.annotation&&(b=this.pageCoordinates[0])){var a=this.u.fa;this.annotation=new this.Tw(this.UL);this.annotation.X=b.x;this.annotation.Y=b.y;this.annotation.PageNumber=b.pageIndex+1;this.annotation.Author=a.Kk();
null!==this.annotation.StrokeColor&&(b=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(b.R,b.G,b.B,b.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness);null!==this.annotation.FillColor&&(b=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(b.R,b.G,b.B,b.A));this.annotation.Opacity=this.defaults.Opacity;this.annotation.ToolName=this.name;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(b){k.AnnotationSelectTool.prototype.mouseLeftUp.call(this,
b);this.isSelecting()||this.finish()},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){b=this.pageCoordinates[0];var a=this.pageCoordinates[1];null!==a&&null!==b&&b.pageIndex===a.pageIndex&&(b=new Annotations.Rect(b.x,b.y,a.x,a.y),b.normalize(),this.annotation.xj(b),this.u.fa.Xb(this.annotation))}},finish:function(){if(this.annotation){var b=this.annotation.za(),a=this.annotation.va(),
c=2*(this.annotation.getRectPadding()+1);b<=c&&a<=c?this.u.fa.Im(this.annotation):(this.u.fa.Dg(this.annotation),this.trigger("annotationAdded",[this.annotation]));this.annotation=null}}},a.utils.eventHandler);new k.Bb;k.Gl=function(b,a){k.AnnotationSelectTool.call(this,b);this.pj=null;this.name=a||"AnnotationEditTool"};k.Gl.prototype=$.extend(new k.AnnotationSelectTool,{switchIn:function(){c(this.u,"default")},switchOut:function(b){h.prototype.switchOut.call(this,b)},mouseLeftDown:function(b){k.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
b);if(!this.isSelecting()){this.Nc=!0;this.state=k.AnnotationSelectTool.Ob.NONE;var c=this.u.fa,g=this.Wd(this.yb);!g||b.originalEvent.touches&&this.u.Mk().sc().mode!==a.o.Pd.rg||(this.kf=g.pageIndex,c.Ed(),this.state=k.AnnotationSelectTool.Ob.jr)}},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(this.state===k.AnnotationSelectTool.Ob.jr&&(b=this.pageCoordinates[1])&&this.kf===b.pageIndex){var c=b.x,g=b.y;b=0>c-this.xm?c:this.xm;var e=0>g-this.ym?g:this.ym,c=Math.abs(c-
this.xm),g=Math.abs(g-this.ym),f=$("#annoteditselectrect");0===f.length&&(f=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.u.Lc()));var d=this.yb.x-this.Jd.x,h=this.yb.y-this.Jd.y,u=this.u.Qb(),w=u.scrollLeft()||0,u=u.scrollTop()||0,z=this.Jd.x-w,C=this.Jd.y-u,A=this.yb.x-w,y=this.yb.y-u,x=this.u.nd(this.kf),E=this.u.md(this.kf),C=Math.min(y,C),z=Math.min(A,z),A=this.docViewer.Mk().sf({x:0,y:0},this.kf),G=this.docViewer.Mk().sf({x:x,y:E},this.kf),x=Math.min(A.x,
G.x),E=Math.min(A.y,G.y),y=Math.max(A.x,G.x),A=Math.max(A.y,G.y),x=x-w,E=E-u;E>C&&(h+=E-C,C=E);x>z&&(d+=x-z,z=x);d=a.Sd.Math.dD(Math.abs(d),0,y-w-z);h=a.Sd.Math.dD(Math.abs(h),0,A-u-C);w="inline";if(5>d||5>h)w="none";f.css({width:d,height:h,top:C,left:z,"z-index":"44",position:"absolute",border:"1px dotted black",display:w});this.pj=a.Sd.VF(b,e,c,g)}},mouseLeftUp:function(b){if(this.state!==k.AnnotationSelectTool.Ob.jr)k.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);else{var a=this;this.Nc=
!1;var c=function(){a.pj=null;a.state=k.AnnotationSelectTool.Ob.NONE;$("#annoteditselectrect").css("display","none")};if(!this.pj||!this.u.Om){c();return}if(this.pj.x1===this.pj.x2&&this.pj.y1===this.pj.y2)k.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);else{var g=this.sK(this.kf,this.pj);this.u.Pb().Oz(g)}c()}if(c=this.pageCoordinates[1])g=this.u.fa,this.eI(g,c),this.dI(g,b)},sK:function(b,c){var g;g=this.u.Pb();var e=[];if(g.cn())return e;for(var f=g.gd.filter(function(a){return a.Hb()===
b&&a.Yk()}),d=0;d<f.length;d++){g=f[d];var k=1;!0===g.NoZoom&&(k=this.u.fc(g.Hb()));a.Sd.EQ(c,a.Sd.VF(g.an(),g.jn(),g.za()/k,g.va()/k))&&e.push(g)}return e}});k.Ql=function(b,c){k.Bb.call(this,b,a.Annotations.ge);delete this.defaults.FillColor;this.name=c||"LineCreateTool"};k.Ql.prototype=$.extend(new k.Bb,{mouseLeftDown:function(b){k.Bb.prototype.mouseLeftDown.call(this,b);this.isSelecting()||this.annotation&&(this.annotation.Start={x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,
b);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){b=this.pageCoordinates[0];var a=this.pageCoordinates[1];null!==a&&null!==b&&b.pageIndex===a.pageIndex&&(this.annotation.End={x:a.x,y:a.y},this.annotation.adjustRect(),this.u.fa.Xb(this.annotation))}}});k.sv=function(b,a){k.Ql.call(this,b);this.name=a||"ArrowCreateTool"};k.sv.prototype=$.extend(new k.Ql,{mouseLeftDown:function(b){k.Ql.prototype.mouseLeftDown.call(this,b);this.annotation&&this.annotation.Gq("OpenArrow")}});
k.Lv=function(b,c){k.Bb.call(this,b,a.Annotations.Rj);this.name=c||"RectangleCreateTool"};k.Lv.prototype=new k.Bb;k.Bv=function(b,c){k.Bb.call(this,b,a.Annotations.Jl);this.name=c||"EllipseCreateTool"};k.Bv.prototype=new k.Bb;k.FreeHandCreateTool=function(b,c){k.Bb.call(this,b,a.Annotations.FreeHandAnnotation);this.yc=0;this.Rs=null;this.Nc=!1;this.pointerType=null;delete this.defaults.FillColor;this.name=c||"FreeHandCreateTool"};k.FreeHandCreateTool.prototype=$.extend(new k.Bb,{createDelay:1500,
simplifyPen:!1,mouseLeftDown:function(b){k.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);if(!this.isSelecting()&&this.pageCoordinates[0]){this.Nc=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){b=this.pageCoordinates[0].x;var a=this.pageCoordinates[0].y,c=!1,g=this.annotation.getPath(this.yc);g&&0<g.length&&(g=g[g.length-1],g.x===b&&g.y===a&&(c=!0));c||this.annotation.ac(b,a,this.yc)}else this.complete(),k.FreeHandCreateTool.prototype.mouseLeftDown.call(this,
b);else k.Bb.prototype.mouseLeftDown.call(this,b);clearTimeout(this.Rs)}},complete:function(){this.annotation&&0<this.annotation.Ok().length?(this.u.fa.Xb(this.annotation),this.annotation.finish(),k.Bb.prototype.mouseLeftUp.call(this,null),this.uC()):this.annotation=null},ku:function(){this.complete()},switchOut:function(b){this.complete();k.Bb.prototype.switchOut.call(this,b)},mouseLeftUp:function(){k.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.Nc=
!1,this.annotation)){var b=this.u.fa,a=this.annotation.getPath(this.yc);if(a){if(4>a.length)this.annotation.Ok().pop(),this.annotation.adjustRect(),b.Xb(this.annotation);else{if("pen"!==this.pointerType||this.simplifyPen)this.annotation.yS(.75),b.Xb(this.annotation);this.yc++}this.Rs=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.Ok().length&&(this.complete(),clearTimeout(this.Rs))}},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,b);!this.isSelecting()&&
!1!==this.Nc&&this.annotation&&null!==this.pageCoordinates&&null!==this.pageCoordinates[1]&&this.pageCoordinates[0].pageIndex===this.pageCoordinates[1].pageIndex&&(this.annotation.ac(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.yc),this.u.fa.Xb(this.annotation))},uC:function(){this.yc=0;this.Nc=!1;clearTimeout(this.Rs)},Hz:function(){this.uC();k.AnnotationSelectTool.prototype.Hz.call(this)},contextMenu:function(b){b.preventDefault()},xG:function(b){this.pointerType=b.originalEvent.pointerType}});
k.SignatureCreateTool=function(b,a){k.Tool.call(this,b);this.ti=100;this.location=null;this.yp=!1;this.iv=this.yc=0;this.visible=!1;this.ux=null;this.cursor="crosshair";this.EM=3;var c=this;$(document).on("mouseup",function(){c.yp&&(c.visible=!0);c.OB()});this.defaults={StrokeColor:new Annotations.Color(0,0,0),StrokeThickness:1,Opacity:1};this.name=a||"SignatureCreateTool"};k.SignatureCreateTool.kS=function(b){k.SignatureCreateTool.prototype.VB=b};k.SignatureCreateTool.prototype={switchIn:function(){c(this.u,
this.cursor);this.initAnnot()},SB:function(b){var a,c=this.canvas[0].getBoundingClientRect();b.originalEvent&&b.originalEvent.touches&&(b=0===b.originalEvent.touches.length?b.originalEvent.changedTouches[0]:b.originalEvent.touches[0]);a=b.clientX;b=b.clientY;return{x:a-c.left,y:b-c.top}},DB:function(){this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},NL:function(){this.DB();this.freeHandAnnot.FM();this.iv=this.yc=0},OB:function(){this.yp&&(this.yc++,
this.visible&&(this.iv++,this.visible=!1));this.yp=!1},VB:function(){return"Sign Here"},drawBackground:function(){var b=window.utils.getCanvasMultiplier();this.ctx.scale(b,b);this.ctx.save();var a=2/3*this.ctx.canvas.height/b;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,a);this.ctx.lineTo(this.ctx.canvas.width/b-10,a);this.ctx.stroke();this.ctx.fillStyle="#000";var c=this.VB();this.ctx.textAlign="center";this.ctx.textBaseline="top";
this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(c,this.ctx.canvas.width/b/2,a-20);this.ctx.restore()},IB:function(){this.DB();this.drawBackground();this.ctx.save();var b=this.u.uc(0);this.freeHandAnnot.draw(this.ctx,b);this.ctx.restore()},initAnnot:function(){var b=this.u.Pb();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=b.Kk();this.freeHandAnnot.StrokeColor=this.defaults.StrokeColor;this.freeHandAnnot.StrokeThickness=this.defaults.StrokeThickness*
this.EM;this.freeHandAnnot.Opacity=this.defaults.Opacity;this.freeHandAnnot.Subject=Annotations.ua.kd("signature");this.freeHandAnnot.ToolName=this.name},pF:function(b){this.ux=b=$.extend(!0,[],b)},OK:function(b){this.pF(b);this.trigger("saveDefault",[b])},AO:function(){return this.ux?!0:!1},bQ:function(){this.initAnnot();this.drawBackground()},WK:function(){var b=this.ux;if(b){for(var b=$.extend(!0,[],b),a=0;a<b.length;++a){for(var c=0;c<b[a].length;++c)b[a][c]=new Annotations.Point(b[a][c].x,b[a][c].y);
this.freeHandAnnot.setPath(b[a],a)}this.iv=b.length;this.OC()}},OC:function(b){if(this.yF())return!1;b&&this.OK(this.freeHandAnnot.Ok());b=this.u.Pb();var c=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=c;this.freeHandAnnot.StrokeThickness=this.defaults.StrokeThickness;c=this.u.Ne(c);c!==a.o.Sa.Eh&&this.freeHandAnnot.rotate(c*-Math.PI/2,this.location);var g=this.freeHandAnnot.Width,e=this.freeHandAnnot.Height,f,d;g>e?(c=this.location.x-this.ti,f=this.location.y-e/g*this.ti,d=this.location.x+
this.ti,e=this.location.y+e/g*this.ti):(c=this.location.x-g/e*this.ti,f=this.location.y-this.ti,d=this.location.x+g/e*this.ti,e=this.location.y+this.ti);g=this.u.getDocument().Yc(this.location.pageIndex);c=new Annotations.Rect(c,f,d,e);c.jt(new Annotations.Rect(0,0,g.width,g.height));this.freeHandAnnot.resize(c);b.Dg(this.freeHandAnnot);b.Xb(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();return!0},yF:function(){return 0===this.iv},hS:function(b){var a=this;
this.canvas=b;this.canvas[0].style.touchAction="none";this.ctx=b[0].getContext("2d");this.canvas.on("mousedown touchstart",function(b){if(1===b.which||0===b.which)b=a.SB(b),a.freeHandAnnot.ac(b.x,b.y,a.yc),a.IB(),a.yp=!0});this.canvas.on("touchmove",function(b){b.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(b){a.yp&&(b=a.SB(b),a.freeHandAnnot.ac(b.x,b.y,a.yc),a.IB(),a.visible=!0)},20));this.canvas.on("mouseup touchend",function(){a.OB()})},mouseLeftDown:function(b){b.preventDefault();
k.Tool.prototype.mouseLeftDown.apply(this,arguments);this.u.fa.Ed()},mouseLeftUp:function(b){b.preventDefault();k.Tool.prototype.mouseLeftUp.apply(this,arguments);var a=this.pageCoordinates[1];a&&(this.location=a,this.trigger("locationSelected",a))}};k.SignatureCreateTool.prototype=$.extend(new k.Tool,k.SignatureCreateTool.prototype,a.utils.eventHandler);k.he=function(b,a){k.Rb.call(this,b);this.text=this.annotation=null;this.Tw=a;this.defaults={Opacity:1,StrokeColor:new Annotations.Color(255,0,0)}};
k.he.AUTO_SET_TEXT=!0;k.he.prototype=$.extend(new k.Rb,{switchIn:function(b){k.Rb.prototype.switchIn.call(this,b);this.u.be({annotMode:!0})},switchOut:function(b){k.Rb.prototype.switchOut.call(this,b);this.u.be({annotMode:!1})},mouseLeftDown:function(b){k.Rb.prototype.mouseLeftDown.call(this,b);this.isSelecting()||this.annotation||!this.pageCoordinates||(b=this.u.fa,this.annotation=new this.Tw,this.annotation.Author=b.Kk(),b=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(b.R,
b.G,b.B,b.A),this.annotation.Opacity=this.defaults.Opacity||1,this.annotation.ToolName=this.name,this.trigger("annotationCreated",[this.annotation]))},textSelected:function(b,a,c){this.annotation&&this.pageCoordinates[0].pageIndex===b&&0<a.length&&(this.annotation.$z(a.map(function(b){return b.Ng()})),this.annotation.PageNumber=b+1,this.text=c,k.he.AUTO_SET_TEXT&&this.annotation.Sn(this.text),this.u.fa.Xb(this.annotation))},mouseLeftUp:function(b){k.Rb.prototype.mouseLeftUp.call(this,b);!this.isSelecting()&&
this.annotation&&(b=this.u.fa,!this.text||1>this.text.length?b.Im(this.annotation):(b.Dg(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null)}},a.utils.eventHandler);k.Tv=function(b,c){k.he.call(this,b,a.Annotations.kh);this.defaults.StrokeColor=new Annotations.Color(255,255,0);delete this.defaults.Opacity;this.name=c||"TextHighlightCreateTool"};k.Tv.prototype=new k.he;k.Wv=function(b,c){k.he.call(this,b,a.Annotations.am);this.name=c||"TextUnderlineCreateTool"};
k.Wv.prototype=new k.he;k.Vv=function(b,c){k.he.call(this,b,a.Annotations.$l);this.name=c||"TextStrikeoutCreateTool"};k.Vv.prototype=$.extend(new k.he,{mouseLeftUp:function(){k.he.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var b=this.annotation,a=this.u.fa;b&&a.Qk(b)&&a.Xb(b)}}});k.Uv=function(b,c){k.he.call(this,b,a.Annotations.Zl);this.name=c||"TextSquigglyCreateTool"};k.Uv.prototype=new k.he;k.Rv=function(b,a){h.call(this,b);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,
255,0),Opacity:1};this.cursor="crosshair";this.name=a||"StickyCreateTool"};k.Rv.prototype=$.extend(new k.Tool,{switchIn:function(){c(this.u,this.cursor)},mouseLeftUp:function(b){h.prototype.mouseLeftUp.call(this,b);var a=this.pageCoordinates[1];if(a){var c=this.u.fa;c.Ed();this.annotation=new Annotations.jh;var g=this.u.fc(a.pageIndex);this.annotation.X=a.x-this.annotation.za()/2/g;this.annotation.Y=a.y-this.annotation.va()/2/g;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=c.Kk();
a=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A);this.annotation.Opacity=this.defaults.Opacity;this.annotation.ToolName=this.name;this.trigger("annotationCreated",[this.annotation]);c.Dg(this.annotation);this.trigger("annotationAdded",[this.annotation]);c.Xb(this.annotation);this.annotation=null;b.preventDefault()}}},a.utils.eventHandler);k.Io=function(b,a){h.call(this,b);this.annotation=null;this.defaults={Opacity:1};this.cursor="crosshair";this.name=
a||"StampCreateTool"};k.Io.ACCEPTED_IMAGE_TYPES=".jpg,.jpeg,.png";k.Io.prototype=$.extend(new k.Tool,{switchIn:function(){c(this.u,this.cursor)},mouseLeftDown:function(b){if(!this.annotation){h.prototype.mouseLeftDown.call(this,b);this.u.Pb().Ed();var a=this.pageCoordinates[0];if(a){var c=this.Wd(this.yb).pageIndex,g=document.createElement("input");g.setAttribute("type","file");g.setAttribute("accept",k.Io.ACCEPTED_IMAGE_TYPES);g.setAttribute("display","none");g.onchange=function(){if(g.files&&g.files[0]){var b=
new FileReader;b.onload=function(b){var g=this.u.fa;this.annotation=new Annotations.Wj;this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=g.Kk();this.annotation.ImageData=b.target.result;var e=90*this.u.Ne(this.annotation.PageNumber);this.annotation.Rotation=e;var f=new Image;f.onload=function(){var b=f.width,a=f.height;if(90===e||270===e)var d=b,b=a,a=d;var k=b/a,d=this.u.nd(c),h=this.u.md(c),b=Math.min(b,d),a=Math.min(a,h);b/a!==k&&(a*k<b?
b=a*k:a=b/k);this.annotation.Width=b;this.annotation.Height=a;this.annotation.X-=this.annotation.Width/2;this.annotation.Y-=this.annotation.Height/2;b=this.annotation.pe();b.jt(new Annotations.Rect(0,0,d,h));this.annotation.resize(b);this.annotation.ToolName=this.name;this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation]);g.Dg(this.annotation);this.trigger("annotationAdded",[this.annotation]);g.Xb(this.annotation);this.annotation=null}.bind(this);f.src=b.target.result}.bind(this);
b.readAsDataURL(g.files[0]);document.body.removeChild(g)}}.bind(this);document.body.appendChild(g);g.click()}}}},a.utils.eventHandler);k.Ul=function(b,c){k.Bb.call(this,b,a.Annotations.Tl);this.annotation=null;this.kl=!1;delete this.defaults.FillColor;this.name=c||"PolylineCreateTool"};k.Ul.prototype=$.extend(new k.Bb,{mouseLeftDown:function(b){var a;k.Bb.prototype.mouseLeftDown.call(this,b);!this.isSelecting()&&this.annotation&&((a=b.data.pageCoordinate,a&&a.pageIndex===this.annotation.Hb())?null!==
a.x&&null!==a.y&&(0===this.annotation.ka.length?this.annotation.ac(a.x,a.y):this.kl||(this.annotation.Fn(),this.annotation.ac(a.x,a.y)),this.kl=!0):this.mouseDoubleClick(b))},mouseLeftUp:function(b){k.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b)},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(this.annotation&&!this.isSelecting()&&b.data&&(b=b.data.pageCoordinate,null!==b&&null!==b.x&&null!==b.y&&b.pageIndex===this.annotation.Hb())){this.kl||this.annotation.Fn();
var a=this.annotation.getPath();0===a.length?(this.annotation.ac(b.x,b.y),this.kl=!1):0<a.length&&(a[a.length-1].x!==b.x||a[a.length-1].y!==b.y)&&(this.annotation.ac(b.x,b.y),this.kl=!1);this.annotation.X=this.annotation.Xa.x;this.annotation.Y=this.annotation.Xa.y;this.u.fa.Xb(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),this.finish())},ku:function(b){this.annotation&&this.mouseDoubleClick(b)},contextMenu:function(b){b.preventDefault()},tap:function(){}});
k.Nj=function(b,c){k.Bb.call(this,b,a.Annotations.si);this.annotation=null;this.kl=!1;this.name=c||"PolygonCreateTool"};k.Nj.prototype={};k.Nj.prototype=$.extend(new k.Ul,k.Nj.prototype);k.Ho=function(b,c){k.Bb.call(this,b,a.Annotations.si);this.annotation=null;this.kl=!1;this.name=c||"PolygonCloudCreateTool"};k.Ho.prototype={mouseLeftDown:function(){k.Nj.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};k.Ho.prototype=
$.extend(new k.Nj,k.Ho.prototype);k.po=function(b,c){k.Bb.call(this,b,a.Annotations.Na,Annotations.Na.Sc.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt";this.name=c||"CalloutCreateTool"};k.po.LineCount=2;k.po.prototype=$.extend(new k.Ul,{Xp:function(){return this.u.Pb().Zx().Sp},mouseLeftDown:function(b){var a=0<this.u.Pb().Xd().length;if(this.Xp()||a)this.annotation=null;else if(k.Ul.prototype.mouseLeftDown.call(this,b),null!==this.annotation&&
(this.annotation.CalloutLineCount=k.po.LineCount,this.annotation.getPath().length>=this.annotation.CalloutLineCount+1)){this.annotation.getPath().length>this.annotation.CalloutLineCount+1&&this.annotation.Fn();var a=this.annotation.getPath()[this.annotation.CalloutLineCount],c=90*this.u.Ne(this.annotation.PageNumber),g=this.u.nd(this.annotation.Hb()),e=this.u.md(this.annotation.Hb());a.x+150>g&&(a.x-=150);a.y+15>e?a.y-=15:0>a.y-15&&(a.y+=15);90===c||270===c?(this.annotation.ac(a.x-15,a.y),this.annotation.ac(a.x+
15,a.y+150)):(this.annotation.ac(a.x,a.y-15),this.annotation.ac(a.x+150,a.y+15));this.annotation.Rotation=c;a=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,a.A);this.annotation.FontSize=this.defaults.FontSize;this.u.fa.Xb(this.annotation);this.finish();b.preventDefault()}},mouseDoubleClick:function(b){this.annotation||k.Tool.prototype.mouseDoubleClick.call(this,b)},ku:function(){if(null!==this.annotation){var b=this.annotation.vc();this.annotation=null;this.u.fa.Wc(b)}},
contextMenu:function(b){b.preventDefault()}});k.Hv=function(b,c){k.Bb.call(this,b,a.Annotations.Na);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt";this.name=c||"FreeTextCreateTool"};k.Hv.prototype=$.extend(new k.Bb,{initialText:"Insert text here",Xp:function(){return this.u.Pb().Zx().Sp},mouseLeftDown:function(b){var a=0<this.u.Pb().Xd().length;k.Bb.prototype.mouseLeftDown.call(this,b);this.isSelecting()||(this.Xp()||a?this.annotation=
null:this.annotation&&(this.annotation.StrokeThickness=Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,.2),this.annotation.Tn(Annotations.Na.Sc.FreeText),this.annotation.Sn(this.initialText),this.annotation.Rotation=90*this.u.Ne(this.annotation.PageNumber),b=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(b.R,b.G,b.B,b.A),this.annotation.FontSize=this.defaults.FontSize))},mouseMove:function(b){k.AnnotationSelectTool.prototype.mouseMove.call(this,
b);if(!this.isSelecting()&&!this.Xp()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){b=this.pageCoordinates[0];var a=this.pageCoordinates[1];null!==a&&null!==b&&b.pageIndex===a.pageIndex&&(b=new Annotations.Rect(b.x,b.y,a.x,a.y),b.normalize(),this.annotation.xj(b),this.annotation.Vn(new Annotations.Rect(0,0,0,0)),this.u.fa.Xb(this.annotation))}},mouseLeftUp:function(b){k.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);if(!this.isSelecting()){if(this.u.Pb().Vm(b)&&this.annotation){b=
this.annotation.za();var a=this.annotation.va(),c=2*(this.annotation.getRectPadding()+1);if(b<=c||a<=c){this.annotation=null;return}}if(this.Xp())this.annotation=null;else if(this.annotation){b=this.annotation.za();a=this.annotation.va();c=2*(this.annotation.getRectPadding()+1);if(b<=c||a<=c)a=Number(this.annotation.FontSize.split("pt")[0]),b=10*a,a*=5,0!==this.annotation.Rotation%180&&(c=b,b=a,a=c),this.annotation.AH(b),this.annotation.Hq(a);this.annotation.StrokeThickness=this.defaults.StrokeThickness;
b=this.defaults.FillColor;this.annotation.FillColor=new Annotations.Color(b.R,b.G,b.B,b.A);b=this.annotation.getRectPadding();this.annotation.Vn(new Annotations.Rect(b,b,b,b));this.u.fa.Xb(this.annotation);this.u.fa.Dg(this.annotation);this.trigger("annotationAdded",[this.annotation]);this.annotation=null}}}})})(window);
(function(a){function d(b){var a=this;this.Nf=b;this.Sp=!1;this.onEditBoxAnnotationChanged=function(b,c,e){for(var d=0;d<c.length;++d){var m=c[d];"add"===e&&a.gF(m)&&a.Nf.Zw(m)?(a.YO(m),b.imported||(a.jE(m),m.Nd.select())):"delete"===e&&m.Nd&&(m.Nd.remove(),delete m.Nd)}};this.onEditBoxAnnotationDoubleClicked=function(b,c){a.Nf.Zw(c)&&a.gF(c)&&(a.Sp&&c.Nd.val()!==c.Jk()&&a.Nf.Yz(c,c.Nd.val()),a.jE(c))};this.Nf.on("annotationChanged.editbox",this.onEditBoxAnnotationChanged);this.Nf.on("annotationDoubleClicked.editbox",
this.onEditBoxAnnotationDoubleClicked)}function e(b){this.Nf=b;this.pl=[]}var c=window.o;c.ha=function(b){if(!b)throw Error("AnnotationManager requires DocumentViewer to initialize");var c=this;c.Ss="";c.Sy=!1;c.readOnly=!1;c.WF=!1;c.mV=!1;c.FC=!0;c.u=b;c.Ag=new e(c);c.KB=new d(c);c.tk=new a.o.YJ(c);c.init();c.Hg=new a.Annotations.O.Jj(this);b.on("contentRemoved.annotManager",function(){c.gd.forEach(function(b){b.trigger("contentRemoved")})});b.on("documentLoaded",function(){c.zM()});c.eV={};c.Ni=
{line:[Annotations.ge],circle:[Annotations.Jl],square:[Annotations.Rj],freetext:[Annotations.Na],stamp:[Annotations.Wj],text:[Annotations.jh],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.Tl],polygon:[Annotations.si],strikeout:[Annotations.$l],highlight:[Annotations.kh],redact:[Annotations.ur],underline:[Annotations.am],squiggly:[Annotations.Zl],caret:[Annotations.qo],widget:[Annotations.$j,Annotations.qg,Annotations.oi,Annotations.Pj,Annotations.li,Annotations.Qj,Annotations.Vj],link:[Annotations.fd]};
c.controlPointSize=8;c.controlPointHitBoxScale=1;c.on("annotationChanged",function(b,a,e,d){if(!(d||b.DV||!a||0===a.length||1<a.length)){var m=a[0],n=c.u.getDocument(),q=m.Hb();if(-1!==q&&c.u.wn&&0!==c.u.Wh.length&&m.Aj())if(c.u.Wh[c.u.Wh.length-1][0]!==q)c.u.wn=null,c.u.Wh=[];else{var r=c.u.Wh.pop(),v=function(){if(m&&r&&c.u.wn){var b=c.u.getDocument();b===n&&c.$i(m.RT)&&(b=new XODText.vi(b),c.u.wn.apply(b,r),m.TextIndices=b.$r,m.SurroundingTexts=b.as,m.qb(!0),c.trigger("annotationChanged",[[m],
"modify",!0]))}};n.ec().then(function(){var b=c.u.getDocument();if(b===n){var a=Annotations.ua.HD(q,b.Gb());b.gq(a).then(v)}})}}})};c.ha.prototype={init:function(){this.gd=[];this.xx=[];this.gp=[];this.Us={};this.Ag.Ed();this.gI=!1;this.Nx=""},zM:function(){this.Jm=!1},Kk:function(){return this.Ss},Uz:function(b){this.Ss=b;this.trigger("updateAnnotationPermission")},AN:function(){return this.Sy},FR:function(b){this.Sy=b;this.trigger("updateAnnotationPermission")},VE:function(){return this.readOnly},
$R:function(b){this.readOnly=b;this.trigger("updateAnnotationPermission")},cn:function(){return this.WF},Xz:function(b){this.WF=b},Kt:function(){return this.gI},cA:function(b){this.gI=b},AJ:function(b){this.Wc(b)},jT:function(){return this.FC},sM:function(){this.FC=!1;this.KB.disable()},YR:function(b){this.xD=b},ZC:function(b){return(this.xD?this.xD(b.Author,b):this.Sy||b.Author===this.Ss||null===b.Author||"undefined"===typeof b.Author)&&!this.readOnly&&!b.ReadOnly},Bd:function(b){return this.ZC(b)&&
!b.Locked},Zw:function(b){return this.ZC(b)&&!b.LockedContents},jS:function(b){this.PH=b},Nk:function(){return this.Hg},MG:function(b){b=b.map(Number);var a=[];this.gd=this.gd.filter(function(c){return-1!==b.indexOf(c.PageNumber)&&c.Ry?(a.push(c),c.hv(),!1):!0});if(0<a.length){var c=this;setTimeout(function(){c.trigger("annotationChanged",[a,"delete"])},0)}},JQ:function(b){var a=this;a.u.hn().Ez("AnnotationManager.layoutChanged",{read:function(){},consolidateChanges:function(b){var a=b.filter(function(b){return"layoutChanged"===
b.type});b=b.filter(function(b){return"pageDiff"===b.type});var c=[];if(a.length){var g=[],e={},d={};a.forEach(function(b){b.removed.forEach(function(b){var a=d[b];_.isUndefined(a)?g.push(b):g.push(a)});var a=Object.keys(b.moved),c;a.length&&(c=$.extend({},d),a.forEach(function(a){var g=b.moved[a];if(_.isUndefined(c[a]))e[a]=g,d[g]=a;else{var f=c[a];e[f]=g;delete d[a];d[g]=f}}))});c.push({type:"layoutChanged",removed:g,moved:e})}if(b.length){var q=b.reduce(function(b,a){a.diffs.forEach(function(a){var c=
a.before;a=a.after;b[c.id]?b[c.id].after=a:b[c.id]={before:c,after:a}});return b},{});c.push({type:"pageDiff",diffs:Object.keys(q).map(function(b){return q[b]})})}return c},write:function(b,c){c.forEach(function(b){if("layoutChanged"===b.type)a.MG(b.removed),a.gd.forEach(function(a){var c=b.moved[a.PageNumber];c&&(a.PageNumber=c)});else if("pageDiff"===b.type){var c={};a.gd.forEach(function(b){var a=b.vc();a in c?c[a].push(b):c[a]=[b]});b.diffs.forEach(function(b){var a=b.before;b=b.after;var g=c[b.pageNum];
if(g){var e=new XODText.Ea;e.tn(b.matrix);e.concat(a.rb.inverse());g.forEach(function(b){var a=b.IsModified,c=b.pe(),g={x:c.x1,y:c.y1},f={x:c.x2,y:c.y2},g=e.aa(g),f=e.aa(f);b.xj({x1:g.x,y1:g.y,x2:f.x,y2:f.y});a||c.x1!==g.x||c.x2!==f.x||c.y1!==g.y||c.y2!==f.y||(b.IsModified=a)})}})}})}});b.on("layoutChanged",function(b,c){a.u.hn().tf("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c.removed,moved:c.moved})});b.on("pageDiff",function(b,c){a.u.hn().tf("AnnotationManager.layoutChanged",
{type:"pageDiff",diffs:c})});b.on("pageContentChanged",function(b,c){a.u.hn().tf("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c,moved:{}})})},Wc:function(b,c,e,d){var h=!1,l=b-1;if(isNaN(l))throw Error("Invalid page index given");var m=!!c,n=c||this.u.bj(l);if(n){var q=n.getContext("2d"),r=90*this.u.Ne(l+1),v=this.u.uc(b-1);if(!m){var r=this.u.Fp(l+1),p=this.u.iy(l),u=p.width,p=p.height;if(90===r||270===r)var w=u,u=p,p=w;a.o.Ma.hx(n,u,p)}d=d||a.o.Ma.Gy(l);u=[];for(p=0;p<this.gd.length;p++)if(w=
this.gd[p],!(w.Hb()!==l||this.cn()&&w.Listable))if(this.Kt()&&-1===w.Author.indexOf(this.Nx))!1===w.im&&(h=!0),w.im=!0;else{!0===w.im&&(h=!0);w.im=!1;u.push(w);q.save();if(!0===w.NoZoom&&(q.translate(w.mn(),w.nn()),!m)){var z=this.u.fc(w.Hb());q.scale(1/z,1/z);z=this.u.qe(b);0<z&&(3===z?q.translate(w.za(),0):2===z?q.translate(w.za(),w.va()):1===z&&q.translate(0,w.va()),q.rotate(-1*z*Math.PI/2))}q.save();if(w.XQ()){if(this.u.Om||w.AF())(m?w.Printable&&w.Yk():w.Yk())?(e&&(z=m?1:this.u.fc(b-1)/a.utils.getCanvasMultiplier(),
w.render(d,this,z,m)),w.draw(q,v,r)):m||w.hv()}else w.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",this.fO(w,b,c));q.restore();if(!m)if("undefined"!==typeof w.selectionModel){if(this.Tk(w)&&w.Yk()){var z=new w.selectionModel(w,this.Bd(w)),C=this.u.fc(w.Hb());!0===w.NoZoom&&(q.translate(-w.mn(),-w.nn()),C=1);z.draw(q,w,C,v)}}else(w=this.Ag.zV(w))&&w.draw(q);q.restore()}h&&this.trigger("annotationFiltered",[this.gd]);m||this.u.Tp(l,n)}},fO:function(b,a,c){var e=this;return function(){e.Wc(a,
c);b.off("resourcesLoaded")}},Xb:function(b){var a=b.Hb();this.AJ(b.PageNumber);if(!this.Qk(b)){var c=this.u.bj(a);c&&(c=c.getContext("2d"),c.save(),a=this.u.uc(a),b.draw(c,a),c.restore())}},bS:function(b){this.Xb=_.throttle(c.ha.prototype.Xb.bind(this),b)},wP:function(b){this.u.HF(b.vc()-1,[{x4:b.an(),y4:b.jn(),x2:b.XE(),y2:b.tE()}])},KO:function(b){this.lF([b])},lF:function(b){0!==b.length&&(b.forEach(function(b){b.Hidden=!0}),this.Ed(),this.Lm(b),this.trigger("annotationHidden",[b,!0]))},wS:function(b){this.IH([b])},
IH:function(b){b.forEach(function(b){b.Hidden=!1});this.Lm(b);this.trigger("annotationHidden",[b,!1])},TM:function(b){if(""===b){if(!this.Kt())return;this.cA(!1);this.Nx=""}else this.cA(!0),this.Nx=b;b=this.u.da.Fd();for(var a=0;a<b.length;a++)this.Wc(b[a]+1)},SS:function(){this.cn()?this.Xz(!1):this.Xz(!0);for(var b=this.u.da.Fd(),a=0;a<b.length;a++)this.Wc(b[a]+1),this.u.Tp(b[a]);this.trigger("annotationToggled",[this.cn(),this.gd,this.Kt()])},Qk:function(b){return-1<this.gd.indexOf(b)},Yz:function(b,
a){b.Sn(a);this.trigger("annotationChanged",[[b],"modify"])},Dg:function(b,a){this.Li([b],a)},Li:function(b,a){for(var c=0;c<b.length;++c){var e=b[c];0>=e.PageNumber&&console.warn("Invalid annotation PageNumber: "+e.PageNumber);this.gd.push(e);this.BH(e)}0<b.length&&(c=$.Event("annotationChanged"),c.imported=a,this.trigger(c,[b,"add"]))},XS:function(b,a){this.BH(b);if(b.Mh()){var c=this.Qp(b);this.trigger("setNoteText",[b,c])}else this.trigger("setNoteText",b);c=$.Event("annotationChanged");c.imported=
a;this.trigger(c,[[b],"modify"])},BH:function(b){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}b.Id||(b.Id=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a());b.wf&&b.wf(this.u);b.kj()&&b.zb(b.xb().value)},hA:function(b){function a(b,c){return c.DateCreated-b.DateCreated}var c=[],e;for(e=0;e<b.length;++e){var d=b[e];if(d instanceof Annotations.Annotation)if(d.Mh()){var l=this.$i(d.InReplyTo);l&&l.Qw(d)}else c.push(d)}for(e=0;e<c.length;++e)if(b=c[e],0!==b.Dt().length)for(d=
[],d.push({Mi:b,Ax:null});0<d.length;){var m=d.pop(),l=m.Mi;null!==m.Ax&&this.trigger("addReply",[l,m.Ax,b]);for(var m=l.Dt().sort(a),n=0;n<m.length;++n)d.push({Mi:m[n],Ax:l})}},sS:function(b){if(b.Mh()){var a=this.$i(b.InReplyTo);a&&(a.Qw(b),this.trigger("addReply",[b,a,this.Qp(b)]))}},Qp:function(b){for(;null!==b&&b.Mh();)b=this.$i(b.InReplyTo);return b},XL:function(b,a){var c=new Annotations.jh;c.InReplyTo=b.Id;c.X=b.X;c.Y=b.Y;c.PageNumber=b.PageNumber;c.Author=this.Kk();c.Sn(a||"");b.Qw(c);this.Dg(c);
this.trigger("addReply",[c,b,this.Qp(b)]);return c},cI:function(b){this.Qk(b)&&this.Wc(b.vc())},Im:function(b,a,c){this.vx([b],a,c)},vx:function(b,a,c){var e=this,d={};if(!a&&this.VE())this.u.trigger("notify","readOnlyDelete");else{var l=[],m=!1;b=b.slice();for(var n=0;n<b.length;n++){var q=b[n];q.hv();if(this.Qk(q))if(c||a||this.Bd(q)){this.Ag.tp(q);this.trigger("annotationSelected",[[q],"deselected"]);var r=this.gd.splice(this.gd.indexOf(q),1);l.push(r[0]);q.IsAdded||a||this.xx.push(r[0]);q.Mh()&&
(q.hF&&(r=this.Qp(q),this.trigger("deleteReply",[q,r])),this.$i(q.InReplyTo).lM(q));q.Dt().forEach(function(b){e.trigger("setNoteText",[b]);b.InReplyTo=null;e.hA([b])});d[q.vc()]=!0}else m=!0;else d[q.vc()]=!0}0<l.length&&(c=$.Event("annotationChanged"),c.imported=a,this.trigger(c,[l,"delete"]));m&&this.u.trigger("notify","permissionDelete");$.each(d,function(b){e.Wc(b)})}},$S:function(){if(!this.readOnly){this.gp=[];for(var b=this.Xd(),a=0;a<b.length;a++)if(!(b[a]instanceof Annotations.Db)){var c=
this.Tx(b[a]);this.gp.push(c)}this.Cr=0}},nQ:function(){if(!this.readOnly&&"undefined"!==typeof this.Cr){this.Cr++;for(var b=[],a=0;a<this.gp.length;a++){var c=this.Tx(this.gp[a]);b.push(c);var e=this.u.Xm(),d=this.u.v.nd(e-1),l=this.u.v.md(e-1),d=new Annotations.Rect(0,0,d,l),l=c.pe();c.vc()===e?l.translate(5*this.Cr,5*this.Cr):c.rH(e);l.jt(d);c.resize(l)}this.Li(b);this.gp=b;this.Ed();this.Oz(b)}},Tx:function(b){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var c=this.aO(b);
if(null===c)return null;var e=b.Hb(),e=this.u.uc(e),d=e.inverse(),l=document.createElementNS("",b.elementName),l=b.serialize(l,d);b=new c;b.deserialize(l,e,this);b.Id=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a();b.Author=this.Ss;b.DateCreated=new Date;b.DateModified=new Date;b.IsAdded=!0;b.IsModified=!1;return b},cN:function(b){return b.OT()},Tk:function(b){return this.Ag.TC(b)},On:function(b){b.Listable&&this.Qk(b)&&(this.Ag.On(b),this.Wc(b.vc()),this.trigger("annotationSelected",[[b],"selected"]))},
Oz:function(b){var a=[],c={};if(b&&$.isArray(b)){for(var e=0;e<b.length;e++){var d=b[e];d.Listable&&this.Qk(d)&&(this.Ag.On(d),c[d.vc()]=d.vc(),a.push(d))}var l=this;$.each(c,function(b){l.Wc(b)})}0<a.length&&this.trigger("annotationSelected",[a,"selected"])},Ed:function(){if(0!==this.Xd().length){this.Ag.Ed();for(var b=this.u.da.Fd(),a=0;a<b.length;a++)this.Wc(b[a]+1);this.trigger("annotationSelected",[null,"deselected"])}},tp:function(b){this.Ag.tp(b);this.Wc(b.vc());this.trigger("annotationSelected",
[[b],"deselected"])},Xd:function(){return this.Ag.Xd()},aj:function(){return this.gd},$i:function(b,a){a=a||this.gd;if(_.isUndefined(b)||_.isNull(b))return null;for(var c=0;c<a.length;c++)if(a[c].Id===b)return a[c];return null},rE:function(b,a,c){c=c||this.gd;if(_.isUndefined(b)||_.isNull(b))return[];for(var e=[],d=0;d<c.length;d++)c[d].Id===b&&e.push(c[d]);return _.isUndefined(a)?e:e.filter(function(b){return b.PageNumber-1===a})},Vm:function(b){b=this.sE(b);return 0<b.length?b[0]:null},sE:function(b){if(!this.u.Om)return[];
var a=new window.ja.Tool(this.u);b=a.Wd({x:a.Sf(b).x,y:a.Sf(b).y});a=[];if(null!==b)for(var c=this.aj(),e=new Annotations.Rect(b.x,b.y,b.x,b.y),d=c.length-1;0<=d;d--){var l=c[d];if(l.selectionModel&&l.Yk()&&!this.cn()&&l.vc()-1===b.pageIndex){var m=Annotations.lc.canvasVisibilityPadding,n=l.pe();n.translate(-m,-m);n.x2+=2*m;n.y2+=2*m;if(window.utils.isRectIntersecting(n,e)||l instanceof Annotations.jh){var m=this.u.fc(l.Hb()),n=this.u.uc(l.Hb()),q=this.Tk(l),r=new l.selectionModel(l,this.Bd(l),q);
r.testSelection(l,b.x,b.y,n,m)?a.push(l):q&&r.Lq(l,m,b.x,b.y)&&a.push(l)}}}return a},zE:function(b,a){return this.Ag.zE(b,a)},cE:function(b){return this.tk.OJ(b)},pt:function(){return this.tk.pt()},QO:function(b,c){var e=a.Annotations.ba.Mt(b),e=this.tk.VI(e,c&&c.Ry);this.hA(e);return e},My:function(b,c,e){c=c||function(){};var d=this;b=a.Annotations.ba.Mt(b);e=$.extend({Vk:function(){return d.Jm},batchSize:100,batchDelay:0},e);this.tk.WI(b,function(b){d.Jm?c([]):(b=b.wk,d.hA(b),d.u.hn().tf("DocumentViewer.renderRequest",
{type:"annotations",pages:_.uniq(b.map(function(b){return b.vc()-1}))}),c(b))},e)},sn:function(b){b=a.Annotations.ba.Mt(b);b=this.tk.sn(b);var c=[];b.xs&&(c=c.concat(b.xs),0<b.xs.length&&this.sS(b.xs[0]));b.ED&&(c=c.concat(b.ED));b.XF&&(c=c.concat(b.XF));return c},Lm:function(b){b=_.uniq(b.map(function(b){return b.PageNumber}));for(var a=0;a<b.length;a++)this.Wc(b[a],void 0,!0)},Uc:function(){this.aj().forEach(function(b){b.off();b.Nd&&b.Nd.off();b.innerElement&&b.innerElement.off();b.element&&b.element.off()});
this.init();this.Jm=!0;this.Hg.Uc();return Promise.resolve()},IQ:function(b,a){if("string"!==typeof b||!a)return!1;"undefined"===typeof this.Ni[b]&&(this.Ni[b]=[]);this.Ni[b].push(a);return!0},nM:function(b,a){if("string"!==typeof b||!a)return!1;this.Ni[b]=$.grep(this.Ni[b],function(b){return b!==a});return!0},cO:function(){return this.Ni},aO:function(b){if(!b||!b.elementName)return null;var a=this.Ni[b.elementName];if(a&&0<a.length)for(var c=0;c<a.length;c++){var e=a[c];if(b instanceof e)return e}return null},
BP:function(b){var a=this.Us[b];if(a){var c=a.length;b=this.u.uc(b);for(var e=[],d=0;d<c;++d){var l=a[d].Mi,m=a[d].data;l.isImporting=!0;l.deserialize(m,b,this);l.isImporting=!1;l.IsAdded=!1;l.IsModified=!1;e.push(l)}this.Li(e,!0);this.Lm(e)}},Zx:function(){return this.KB},qR:function(b,a){var c="StrokeColor TextColor FillColor FontSize Opacity StrokeThickness".split(" ").reduce(function(a,c){if(b[c]||0===b[c])a[c]=b[c];return a},{}),e=a(c);e&&(Object.keys(e).forEach(function(a){b[a]=e[a]}),this.cI(b),
this.trigger("annotationChanged",[[b],"modify"]))}};$.extend(c.ha.prototype,a.utils.eventHandler);e.prototype={On:function(b){this.TC(b)||this.pl.push(b)},tp:function(b){this.pl=$.grep(this.pl,function(a){return a!==b})},Ed:function(){this.pl=[]},TC:function(b){for(var a=0;a<this.pl.length;a++)if(b===this.pl[a])return!0;return!1},Xd:function(){return this.pl.slice()}};d.prototype={disable:function(){this.Nf.off("annotationChanged.editbox");this.Nf.off("annotationDoubleClicked.editbox")},gF:function(b){return b instanceof
Annotations.Na},YO:function(b){var a=this.Nf,c=this;b.Nd=$('<textarea class="freetext">');b.Nd.on("blur",function(){c.Sp=!1;a.Yz(b,b.Nd.val());b.Nd.hide();a.Lm([b])});b.Nd.on("touchstart touchmove touchend mousedown mousemove mouseup",function(b){b.stopPropagation()})},jE:function(b){this.Sp=!0;var c=b.Hb();a.o.Ma.Gy(c).append(b.Nd);var e=this.Nf.u.uc(c),d=Annotations.ua.Cs(e,parseFloat(b.FontSize)||12),h=b.cy(),c=this.Nf.u.fc(c)/a.utils.getCanvasMultiplier(),d=d*c*.75+h,e=b.Zi(e)*c,l=b.getPath().slice(-2),
h=l[0].x*c,m=Math.min(l[0].y,l[1].y)*c,n=Math.abs(l[1].x-l[0].x)*c,l=Math.abs(l[1].y-l[0].y)*c,q=360-b.Rotation;if(90===q||270===q)var r=n,n=l,l=r;var v=r=0;switch((360-q)%360){case 90:v=n;break;case 180:r=n;v=l;break;case 270:r=l}r="translate("+r+"px,"+v+"px) rotate("+q+"deg)";q=Math.abs(q%360/90);q===a.o.Sa.Eh?(h+=e,m+=e):q===a.o.Sa.Me?(h-=e,m+=e):q===a.o.Sa.wp?(h-=e,m-=e):q===a.o.Sa.Pf&&(h+=e,m-=e);q=1>b.FillColor.A?new Annotations.Color(255,255,255):b.FillColor;b.Nd.css({top:m,left:h,width:n-
2*e,height:l-2*e,font:d+" "+b.Font,color:b.TextColor.toString(),background:q.toString(),transform:r,"transform-origin":"top left","line-height":a.utils.ie?1:"normal","padding-top":a.utils.ie?Math.max(1,1+1.5*(c-1)):0});b.Nd.val(b.Jk()||"");this.xS(b)},xS:function(b){b.Nd.show().focus()}}})(window);
(function(a){a.Sd={VF:function(a,e,c,b){return null===a||null===e||null===c||null===b?null:{x1:a,y1:e,x2:a+c,y2:e+b}},oW:function(a,e){if(!e||!a)return!1;var c,b;"undefined"!==typeof e.x1&&"undefined"!==typeof e.y1&&"undefined"!==typeof e.x2&&"undefined"!==typeof e.y2||console.warn("rect points are undefined");c=a.x>=e.x1&&a.x<=e.x2;b=a.y>=e.y1&&a.y<=e.y2;return c&&b},EQ:function(a,e){return a&&e?a.x1<=e.x2&&a.x2>=e.x1&&a.y1<=e.y2&&a.y2>=e.y1?!0:!1:!1},iW:function(a,e,c,b,g){a=g.aa(new XODText.vd(a,
e));c=g.aa(new XODText.vd(c,b));return{x:Math.min(a.x,c.x),y:Math.min(a.y,c.y),w:Math.abs(a.x-c.x),Wf:Math.abs(a.y-c.y)}},Math:{zP:function(a,e,c,b){function g(b,a,c){return(c.y-b.y)*(a.x-b.x)>(a.y-b.y)*(c.x-b.x)}return g(a,c,b)!==g(e,c,b)&&g(a,e,c)!==g(a,e,b)},aN:function(a,e){var c=Math.atan(Math.abs(a.y-e.y)/Math.abs(a.x-e.x));e.x<a.x&&e.y>a.y?c=Math.PI-c:e.x<=a.x&&e.y<a.y?(c=Math.PI-c,c*=-1):e.x>=a.x&&e.y<a.y&&(c*=-1);0===c&&a.x>e.x&&(c=Math.PI);return c},aR:function(a,e,c){c=c||{x:0,y:0};var b=
a.x-c.x;a=a.y-c.y;return{x:Math.cos(e)*b-Math.sin(e)*a+c.x,y:Math.sin(e)*b+Math.cos(e)*a+c.y}},dD:function(a,e,c){c=void 0!==c?c:Infinity;e=void 0!==e?e:-Infinity;return Math.max(Math.min(a,c),e)},bN:function(a,e){return Math.atan2(e,a)},XN:function(a){if(!(3>a.length)){for(var e=a[0],c=0,b=1;b<a.length;b++)var g=a[b],c=c+(g.x-e.x)*(g.y+e.y),e=g;return 0<=c?1:-1}},QL:function(a){for(var e=[],c=0;c<a.length;c++)e.push({x:a[c].x,y:a[c].y});return e},yG:function(a){var e=Math.abs(a[a.length-1].y-a[0].y);
return 1.2358E-4<Math.abs(a[a.length-1].x-a[0].x)||1.2358E-4<e?!0:!1},ol:function(a){var e=Math.cos(a);a=Math.sin(a);return{m_a:e,m_b:-a,m_c:a,m_d:e,m_h:0,m_v:0}},translate:function(a,e,c){a.m_h+=e;a.m_v+=c;return a},aa:function(a,e,c){return{x:e*a.m_a+c*a.m_c+a.m_h,y:e*a.m_b+c*a.m_d+a.m_v}},nL:function(a,e,c,b,g,f,k,h,l,m,n){0>g&&(g=-g);0>f&&(f=-f);var q=(a-m)/2,r=(e-n)/2,v=Math.cos(k),p=Math.sin(k),u=v*q+p*r,q=-p*q+v*r,r=g*g,w=f*f,z=u*u,C=q*q,A=z/r+C/w;1<A&&(g*=Math.sqrt(A),f*=Math.sqrt(A),r=g*
g,w=f*f);if(A=r*C+w*z){r=(r*w-r*C-w*z)/A;h=(h===l?-1:1)*Math.sqrt(0>r?0:r);w=g*q/f*h;z=h*-(f*u/g);h=(a+m)/2+(v*w-p*z);v=(e+n)/2+(p*w+v*z);p=(u-w)/g;r=(q-z)/f;w=(-u-w)/g;q=(-q-z)/f;z=Math.sqrt(p*p+r*r);u=(0>r?-1:1)*Math.acos(p/z);z=Math.sqrt((p*p+r*r)*(w*w+q*q));r=(0>p*q-r*w?-1:1)*Math.acos(Math.max(Math.min((p*w+r*q)/z,1),-1));!l&&0<r?r-=2*Math.PI:l&&0>r&&(r+=2*Math.PI);q=[];p=!1;if(1E-9>Math.abs(r))l=4,p=!0,q[0]=g*Math.cos(u),q[1]=f*Math.sin(u),q[2]=g*Math.cos(u+r),q[3]=f*Math.sin(u+r);else{w=0;
l=2;C=!1;do{0>r?(A=w,z=.5*-Math.PI,w-=.5*Math.PI,w<=r+.01&&(z=r-A,C=!0)):(A=w,z=.5*Math.PI,w+=.5*Math.PI,w>=r-.01&&(z=r-A,C=!0));var y=Math.cos(z/2),x=Math.sin(z/2),E=4*(1-y)/3,G=x-E*y/x,A=[],B=[];A[0]=y;B[0]=-x;A[1]=y+E;B[1]=-G;A[2]=y+E;B[2]=G;A[3]=y;B[3]=x;y=Math.sin(u+z/2);x=Math.cos(u+z/2);for(E=0;4>E;E++)q[l-2+2*E]=g*(A[E]*x-B[E]*y),q[l-1+2*E]=f*(A[E]*y+B[E]*x);l+=6;u+=z}while(!C&&26>l)}g=this.ol(-k);this.translate(g,h,v);for(f=2;f<l-2;f+=2)k=void 0===q[f]?this.aa(g,0,0):this.aa(g,q[f],q[f+1]),
q[f]=k.x,q[f+1]=k.y;q[0]=a;q[1]=e;2<l&&(q[l-2]=m,q[l-1]=n);if(p)b.push("l"),b.push("l"),c.push(q[0]),c.push(q[1]),c.push(q[2]),c.push(q[3]);else for(b.push("l"),c.push(q[0]),c.push(q[1]),a=2;a<l;a+=6)b.push("c"),c.push(q[a]),c.push(q[a+1]),c.push(q[a+2]),c.push(q[a+3]),c.push(q[a+4]),c.push(q[a+5])}},cM:function(a,e){return a.x*e.y-a.y*e.x},bW:function(a){return 1E4*(a+2*Math.PI)%2*Math.PI*1E4/1E4}}}})(window);
(function(a){function d(b){if(!b)throw Error("XfdfManager requires AnnotationManager to initialize");this.bc=b;this.Rh=null}function e(b,a){this.AA=b;this.ht=a||function(){return!0}}String.prototype.trim||function(){var b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(b,"")}}();e.prototype.rq=function(b,a,e){b=this.AA;b.writeStartElement("field");b.writeAttributeString("name",c.escape(a));a=e.value;_.isNull(a)||(b.writeStartElement("value"),b.writeString(c.escape(a)),
b.writeEndElement());b.writeEndElement()};e.prototype.tu=function(b,a,e){b=c.escape(a);a=this.AA;e.value&&(a.writeStartElement("field"),a.writeAttributeString("name",b),a.writeStartElement("value"),a.writeString(c.escape(e.value)),a.writeEndElement(),a.writeEndElement());a.writeStartElement("field");a.writeAttributeString("name",b)};e.prototype.lz=function(){this.AA.writeEndElement()};d.prototype={XC:function(b){return b&&0<b.getElementsByTagName("annots").length?(c.FE(b,"link"),c.FE(b,"widget"),
b.getElementsByTagName("annots")[0].childNodes):[]},$x:function(b){return b?b.querySelector("xfdf > fields"):null},PE:function(b){return b&&(b=b.getElementsByTagName("pdf-info"),0<b.length)?b[0]:null},LC:function(b,c,e){var d=this;a.We.parse(new a.Ee(b),function(b){return d.bc.u.uc(b-1)},function(b){var a=d.bc,e=a.Hg,f=a.u;if(f.getDocument()){e.sR(b.calculationOrder);var q=b.fields;Object.keys(q).forEach(function(b){var a=q[b],c=e.zt(a.name);a.ce(c.Va());e.us(q[b],!0)});a.Li(b.widgets,!0);f=f.getDocument();
f.rs(b.documentActions);for(var a=b.pages,f=f.Ib(),r=0;r<a.length;++r){var v=a[r],p=Number(v.number);0<p&&p<f.length+1?f[p-1].rs(v.actions):console.warn("Invalid page number on PDFInfo page:",p)}c(b)}},e)},VI:function(b,c){function e(){var a=d.PE(b);a&&d.LC(a,function(b){m=b.widgets},!0)}var d=this,h=this.XC(b),l=this.$x(b);l&&this.Pw(new a.Ee(l),e,!0);var m=[];return null!==h?m.concat(this.rv(h,!0,c)):m},WI:function(b,c,e){function d(){var a=h.PE(b);a?h.LC(a,function(b){h.JC(l,function(a){a.wk=a.wk.concat(b.widgets);
c(a)},e)}):h.JC(l,function(){c.apply(this,arguments)},e)}var h=this,l=this.XC(b),m=this.$x(b);m?this.Pw(new a.Ee(m),d,!1):d()},sn:function(b){var c={};if(b){var e=this.$x(b);e&&this.Pw(new a.Ee(e),function(){},!0);var e=b.getElementsByTagName("add"),d=b.getElementsByTagName("modify");b=b.getElementsByTagName("delete");0<e.length&&(c.xs=this.rv(e[0].childNodes,!0));0<b.length&&(c.ED=this.DI(b[0]));0<d.length&&(c.XF=this.bJ(d[0].childNodes))}return c},DI:function(b){var a=[];b=b.getElementsByTagName("id");
for(var c=0;c<b.length;++c){var e=this.bc.$i(b[c].textContent);e&&(a.push(e),this.bc.Im(e,!0))}return a},bJ:function(b){return this.rv(b,!0)},rv:function(b,a,c){var e=[];this.IC(b,e,0,b.length,a,c);return e},Dg:function(b,a,c,e,d){var l=this.bc,m=null,n=!1,q=l.Ni[b];if(q){var r=a.getAttribute("page"),r=parseInt(r,10),v;r<l.u.Gb()&&(v=l.u.uc(r));for(var p=0;p<q.length;p++)if(q[p].prototype.wh(a)){m=null;if(c){c=a.getAttribute("name");var u=parseInt(a.getAttribute("page"),10),m=this.bc.rE(c,u)[0];if(!m&&
this.bc.rE(c,u,e)[0])break}if(!m){var w;"widget"===b&&(b=a.getAttribute("title"),w=l.Hg.zt(b));m=new q[p](w);n=!0}try{if(v)m.isImporting=!0,m.deserialize(a,v,l),m.isImporting=!1;else return l.Us[r]||(l.Us[r]=[]),l.Us[r].push({data:a,Mi:m}),{Mi:null,CH:!1};m.DR(d)}catch(z){console.warn("Error parsing annotation",z);n=!1;m=null;break}n||l.XS(m,!0);m.IsAdded=!1;m.IsModified=!1;break}}else console.warn("Unsupported annotation type.",b);return{Mi:m,CH:n}},IC:function(b,a,e,d,h,l){for(var m=[];e<d;++e)if(b[e].nodeType===
Node.ELEMENT_NODE){var n=this.Dg(c.wt(b[e]),b[e],h,a,l),q=n.Mi;q&&(a.push(q),n.CH&&m.push(q))}0<m.length&&(this.bc.Li(m,!0),m.forEach(function(b){b.IsAdded=!1;b.IsModified=!1}))},Pw:function(b,c,e){function d(a){var c=b.K("name");if(!c)return console.warn("Invalid field name part:",c,b.current),null;a=a?a+"."+c:c;var c={name:a},g=[c],e=null;for(b.ma();b.advance();){var f=b.ta();switch(f){case "value":_.isNull(e)?e=b.current.textContent:(_.isArray(e)||(e=[e]),e.push(b.current.textContent));break;case "field":(f=
d(a))&&0<f.length&&(g=g.concat(f));break;default:console.warn("unknown field child node: ",f)}}b.ya();_.isNull(e)||(c.value=e);return g}var h=this.bc.Hg;b.ma();b.advance()?a.busyLoop(function(){"field"===b.ta()&&d("").forEach(function(b){h.us(b,!0)});var a=b.advance();a||b.ya();return a},c,e):c()},qG:function(b){var a=[];$(b).each(function(b,c){a.push(c.textContent.trim())});return a},JC:function(b,a,c){function e(){if(c.Vk())a({wk:[]});else{d.IC(b,q,l,Math.min(l+n,b.length),!0,c.Ry);if(l>m){m+=1E3;
for(var r=d.bc.u.Mk().Fd(),v=0;v<r.length;v++)d.bc.Wc(r[v]+1)}setTimeout(function(){l+=n;l<b.length?e():a({wk:q})},c.batchDelay)}}var d=this,l=0,m=1E3,n=2*c.batchSize,q=[];e()},sr:function(b,a,c){var e=this.bc.u.uc(b.vc()-1).inverse(),d=document.createElementNS("",b.elementName);b.serialize(d,e,c);b=new XMLSerializer;d.eE&&this.Rh.push(d.eE);d=b.serializeToString(d);a.writeString(d)},KJ:function(b){var c=this.bc,e=c.Nk(),d=c.u,h=d.getDocument(),l=[];e.Tq({rq:function(b,a,c){void 0!==c.type&&l.push(c)},
tu:function(b,a,c){void 0!==c.type&&l.push(c)}});var m=h.Ib().map(function(b,a){return{number:a+1,actions:b.Hk()}}).filter(function(b){return 0<Object.keys(b.actions).length});a.We.write(b,{calculationOrder:e.Yw,widgets:c.aj().filter(function(b){return b.kj()}),fields:l,documentActions:h.Hk(),pages:m},function(b){return 1>b?(console.warn("Invalid page number:",b),b=new XODText.Ea,b.tn(1,0,0,1,0,0),b):d.uc(b-1)})},OJ:function(b){var a=this;b=b||{};var e=new XMLWriter("UTF-8","1.0");e.formatting="none";
this.Rh=[];var d,h,l;b.annotList?(d=b.fields||!1,h=b.widgets||!1,l=b.links||!1):(d=!1!==b.fields,h=!1!==b.widgets,l=!1!==b.links);e.writeStartDocument();e.writeStartElement("xfdf");e.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");e.writeAttributeString("xml:space","preserve");h&&this.KJ(e);d&&this.HJ(e);e.writeStartElement("annots");d=this.bc;b=b.annotList||d.aj();for(var m=0;m<b.length;++m)d=b[m],d instanceof Annotations.fd?l&&this.sr(d,e,!0):d instanceof Annotations.WidgetAnnotation||
this.sr(d,e,!0);e.writeEndElement();e.writeEndElement();this.LJ(e);e=e.flush();m=0;this.Rh.length&&(e=e.replace(c.TG,function(){return a.Rh[m++]}));this.Rh=null;return e},LJ:function(b){var a=this.bc;b.writeStartElement("pages");var c=a.u.getDocument().Ib();if(c){var e=a.u.uc(0);b.writeStartElement("defmtx");b.writeAttributeString("matrix",""+(e.m_a+","+e.m_b+","+e.m_c+","+e.m_d+","+e.m_h+","+e.m_v));b.writeEndElement();for(var d=1;d<c.length;++d){var l=a.u.uc(d);if(!l.$D(e)){b.writeStartElement("pgmtx");
var m="",m=m+(l.m_a+","+l.m_b+","+l.m_c+","+l.m_d+","+l.m_h+","+l.m_v);b.writeAttributeString("matrix",m);b.writeAttributeString("page",d.toString());b.writeEndElement()}}}b.writeEndElement()},FJ:function(b){b.writeStartElement("add");for(var a=this.bc.aj(),c=0;c<a.length;++c){var e=a[c];e.IsAdded&&(this.sr(e,b),e.IsAdded=!1)}b.writeEndElement()},JJ:function(b){b.writeStartElement("modify");for(var a=this.bc,c=a.aj(),e=0;e<c.length;++e){var d=c[e];d.IsModified&&a.Bd(d)&&(this.sr(d,b),d.IsModified=
!1)}b.writeEndElement()},GJ:function(b){b.writeStartElement("delete");for(var a=this.bc,c=this.LI(),e=0;e<c.length;++e)b.writeStartElement("id"),b.writeAttributeString("page",c[e].Lb),b.writeString(c[e].id),b.writeEndElement();a.xx.length=0;b.writeEndElement()},HJ:function(b){b.writeStartElement("fields");this.bc.Hg.Tq(new e(b));b.writeEndElement()},IJ:function(b){b.writeStartElement("fields");var a=[];this.bc.Hg.Tq(new e(b,function(b){a.push(b);return b.IsModified}));a.forEach(function(b){b.IsModified=
!1});b.writeEndElement()},MJ:function(b){var c=new XMLWriter("UTF-8","1.0");c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");c.writeStartElement("fields");var f=new a.Annotations.O.Jj;b.forEach(function(b){f.us(b)});f.Tq(new e(c));c.writeEndElement();c.writeEndElement();b=c.flush();return b=b.replace(/\t/g,"")},NJ:function(b){for(var a=[],c=0;c<b.length;++c){var e=b[c];_.isUndefined(e.name)||
a.push(e.name+"="+encodeURIComponent(e.value))}return a.join("&")},pt:function(){var b=this;this.Rh=[];var a=new XMLWriter("UTF-8","1.0");a.writeStartDocument();a.writeStartElement("xfdf");a.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");a.writeAttributeString("xml:space","preserve");this.IJ(a);this.FJ(a);this.JJ(a);this.GJ(a);a.writeEndElement();var a=a.flush(),a=a.replace(/\t/g,""),e=0;this.Rh.length&&(a=a.replace(c.TG,function(){return b.Rh[e++]}));this.Rh=null;return a},LI:function(){return _.map(this.bc.xx,
function(b){return{id:b.Id,Lb:b.Hb()}})}};a.o.YJ=d;var c={TG:/<replace-element-please ?\/>|<replace-element-please><\/replace-element-please>/g,OQ:"replace-element-please",Mt:function(b){if("string"===typeof b){for(var a=(new DOMParser).parseFromString(b,"text/xml"),c=a.getElementsByTagName("contents-richtext"),e=0,d=0;0<(e=b.indexOf("<contents-richtext>",e));++d)if(d<c.length){var l=b.indexOf("</contents-richtext>",e);c[d].cQ=b.substring(e+19,l);e=l}else{console.warn("contents-richtext: More elements found by searching!");
break}d<c.length&&console.warn("contents-richtext More elements found by getElementsByTagName!");return a}return b},rA:function(b){var a;a="D:"+b.getFullYear().toString();a+=this.Td((b.getMonth()+1).toString());a+=this.Td(b.getDate().toString());a+=this.Td(b.getHours().toString());a+=this.Td(b.getMinutes().toString());a+=this.Td(b.getSeconds().toString());b=b.getTimezoneOffset();0===b?a+="Z00'00'":(0>b?(a+="+",b*=-1):a+="-",a+=this.Td(parseInt(b/60,10).toString())+"'",a+=this.Td((b%60).toString())+
"'");return a},toDateString:function(b){return b.getFullYear().toString()+"-"+this.Td((b.getMonth()+1).toString())+"-"+this.Td(b.getDate().toString())+" "+this.Td(b.getHours().toString())+":"+this.Td(b.getMinutes().toString())+":"+this.Td(b.getSeconds().toString())},Td:function(b){return 2>b.length?"0"+b:b},escape:function(b){b&&(b=_.escape(b),b=b.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return b},toFixed:function(b,a){_.isUndefined(a)&&(a=2);return parseFloat(b.toFixed(a)).toString()},getAttribute:function(b,
a){return b.getAttribute(a)||b.getAttribute(a.toLowerCase())},wt:function(b){return b.localName||b.baseName||b.nodeName},FE:function(b,a){var c=[],e=b.getElementsByTagName(a);if(0===e.length)return c;for(var d=0;d<e.length;++d){var l=e[d].outerHTML||e[d].xml;if(_.isUndefined(l)||0!==l.indexOf("<"+a+" "))l=(new XMLSerializer).serializeToString(e[d]);0>l.indexOf("</"+a+">")&&"/"!==l.charAt(l.length-2)&&(l=l.slice(0,l.length-1)+"/"+l.slice(l.length-1));c.push(l)}return c},AV:function(b){return c.getAttribute(b,
"ActionType")?!0:0<b.getElementsByTagName("OnActivation").length},ZM:function(b){return c.getAttribute(b,"ActionType")?[b]:b.getElementsByTagName("Action")},$M:function(b){if(!b)return null;var a=c.getAttribute(b,"ActionType");return a?a:(b=c.ay(b))?c.wt(b):null},ay:function(b){b=_.filter(b.childNodes,function(b){return 1===b.nodeType});return 0<b.length?b[0]:null},Wm:function(b,a,e){a=c.getAttribute(b,a);_.isNull(a)&&(a=b.getElementsByTagName(e),a=0<a.length?a[0].textContent:null);return a},IU:function(b,
a,c){c=c.aa({x:_.isNull(b)?0:parseFloat(b),y:_.isNull(a)?0:parseFloat(a)});return{x:_.isNull(b)?null:c.x,y:_.isNull(a)?null:c.y}},hV:function(b,a,c){b=b.split(";");for(var e=[],d=0;d<b.length;++d){var l=b[d].split(","),l=new XODText.vd(l[0],l[1]),l=new Annotations.Point(l.x,l.y);a.aa(l);"function"===typeof c&&c(l);e.push(l)}return e},Vu:function(b,a,e){if("undefined"===typeof e||null===e)e=",";if(!(b instanceof Annotations.Point))return null;b=new Annotations.Point(b.x,b.y);a&&a.aa(b);return c.toFixed(b.x)+
e+c.toFixed(b.y)},GD:function(b,a,c){if("undefined"===typeof c||null===c)c=",";if("string"!==typeof b)return null;b=b.split(c);c=null;2===b.length?(c=new Annotations.Point(parseFloat(b[0]),parseFloat(b[1])),a&&a.aa(c)):console.warn("Invalid serialized string format.");return c},Rn:function(b,a,e,d){if("undefined"===typeof d||null===d)d=";";if("undefined"===typeof e||null===e)e=",";for(var h="",l=0;l<b.length;l++){var m=new Annotations.Point(b[l].x,b[l].y);a&&a.aa(m);h+=c.toFixed(m.x)+e;h+=c.toFixed(m.y)+
d}return h.substring(0,h.length-1)},Ak:function(b,a,c,e){var d=[];if("undefined"===typeof e||null===e)e=";";if("undefined"===typeof c||null===c)c=",";var l;b=b.split(e);if(e===c)for(e=0;e+1<b.length;e+=2)l=new Annotations.Point(b[e],b[e+1]),a&&a.aa(l),d.push(l);else for(e=0;e<b.length;++e)l=b[e].split(c),l=new Annotations.Point(l[0],l[1]),a&&a.aa(l),d.push(l);return d},Rz:function(b,a,e){if("undefined"===typeof e||null===e)e=",";var d=new Annotations.Point(b.x1,b.y1);b=new Annotations.Point(b.x2,
b.y2);a.aa(d);a.aa(b);return c.toFixed(d.x,6)+e+c.toFixed(d.y,6)+e+c.toFixed(b.x,6)+e+c.toFixed(b.y,6)},zx:function(b,a,c){if("undefined"===typeof c||null===c)c=",";c=b.split(c);b=new Annotations.Point(c[0],c[1]);c=new Annotations.Point(c[2],c[3]);a&&(a.aa(b),a.aa(c));return new Annotations.Rect(b.x,b.y,c.x,c.y)},Qz:function(b,a,e){var d=new XODText.Ea;d.tn(a);d.m_d*=-1;d.m_h=0;d.m_v=0;return c.Rz(b,d,e)},FD:function(b,a,e){var d=new XODText.Ea;d.tn(a);d.m_d*=-1;d.m_h=0;d.m_v=0;return c.zx(b,d,e)},
xW:function(b,a){for(var e="",d=0;d<b.length;d++){var h=b[d],h=new Annotations.Point(h.x,h.y);a.inverse().aa(h);e+=c.toFixed(h.x)+",";e+=c.toFixed(h.y)+";"}return e.substring(0,e.length-1)},iV:function(b,a){var c=b.split(","),e=new Annotations.Point(c[0],c[1]),c=new Annotations.Point(c[2],c[3]);"undefined"!==typeof a&&(a.aa(e),a.aa(c));return new Annotations.Rect(e.x,e.y,c.x,c.y)},yW:function(b,a){var e=new Annotations.Point(b.x1,b.y1),d=new Annotations.Point(b.x2,b.y2),h=a.inverse();h.aa(e);h.aa(d);
return c.toFixed(e.x)+","+c.toFixed(e.y)+","+c.toFixed(d.x)+","+c.toFixed(d.y)},eg:function(b){if("undefined"===typeof b||null===b||!(b instanceof Annotations.Color)||0===b.A)return null;var a=b.R.toString(16).toUpperCase();2>a.length&&(a="0"+a);var c=b.G.toString(16).toUpperCase();2>c.length&&(c="0"+c);b=b.B.toString(16).toUpperCase();2>b.length&&(b="0"+b);return"#"+a+c+b},Vi:function(b){return(new RegExp(/^#[0-9a-f]{6}$/i)).test(b)?new Annotations.Color(parseInt(b.substr(1,2),16),parseInt(b.substr(3,
2),16),parseInt(b.substr(5,2),16)):null},yx:function(b){if(b){var a=new Date(Date.UTC(parseInt(b.substring(2,6),10),parseInt(b.substring(6,8),10)-1,parseInt(b.substring(8,10),10),parseInt(b.substring(10,12),10),parseInt(b.substring(12,14),10),parseInt(b.substring(14,16),10),0));b=b.substring(16);if(7===b.length){var c=b.substring(0,1);if("Z"!==c){var c="-"===c?1:-1,e=parseInt(b.substring(4,6),10);a.setUTCHours(a.getUTCHours()+c*parseInt(b.substring(1,3),10));a.setUTCMinutes(a.getUTCMinutes()+c*e)}}return a}},
vE:function(b,a,e){b="#"+c.Td(b.toString(16));b+=c.Td(a.toString(16));return b+=c.Td(e.toString(16))},kR:function(b,a){return"/"+b+" "+a+" Tf"},jR:function(b){return"font: "+b.Font+" "+b.by()+"pt; text-align: "+b.TextAlign+"; color: "+c.eg(b.TextColor)},wW:function(b){return"font-family: "+b.Font+"; font-size: "+b.by()+"pt; text-align: "+b.TextAlign+"; color: "+c.eg(b.TextColor)},jM:["Tf","rg"],rG:function(b){var a={de:b};if(!_.isNull(b))for(b=b.split(" ");0<b.length;){var e=b.pop();if(-1!==c.jM.indexOf(e))switch(e){case "Tf":var e=
b.pop(),d=b.pop().slice(1);a.font={size:e+"pt",name:c.vq(d),rW:d};break;case "rg":var e=parseInt(255*b.pop(),10),d=parseInt(255*b.pop(),10),h=parseInt(255*b.pop(),10);a.color=c.vE(h,d,e)}}return a},YU:function(b){if(4===b.length)return{r:parseInt(b.charAt(1),16)/16,g:parseInt(b.charAt(2),16)/16,b:parseInt(b.charAt(3),16)/16};if(7===b.length)return{r:parseInt(b.slice(1,3),16)/255,g:parseInt(b.slice(3,5),16)/255,b:parseInt(b.slice(5,7),16)/255}},jQ:function(b){var a={};_.isNull(b)||b.split(";").forEach(function(b){var e=
b.split(":");if(!(2>e.length))switch(b=e[0].trim(),e=e[1].trim(),b){case "text-align":a.textAlign=e;break;case "color":e.startsWith("rgb")?(b=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(e),null!==b&&(a.color=c.vE(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)))):a.color=e;break;case "font":b=e.split(" "),a.font={name:c.vq(b[0]),size:b[1]}}});return a},vq:function(b){function a(c,e){var g=b;0===g.indexOf(c)&&(g=e);return g}b=a("Arial","Arial");b=a("Courier","Courier");b=a("Helv","Arial");
return b=a("Times","Times New Roman")},tG:function(b){return 0<b.indexOf("Bold")?"bold":"normal"},sG:function(b){return 0<b.indexOf("Italic")||0<b.indexOf("Oblique")?"italic":"normal"},pM:function(b){var a=[];b=b.split(";");for(var c=0;c<b.length;++c){var e=b[c].split(",");2===e.length&&0<e[0].length&&0<e[1].length&&a.push(e)}return a},mR:function(b){for(var a="",c=0;c<b.length;c++)a+=b[c][0]+",",a+=b[c][1]+";";return a.substring(0,a.length-1)},lR:function(b){for(var a=[],c=0;c<b.length;c++){var e=
[];e.push(this.escape(b[c][0]));e.push(this.escape(b[c][1]));a.push(e)}return a}};a.Annotations.ba=c})(window);
(function(a){a.o=a.o||{};var d=a.o;d.Xv=function(a){this.v=a;this.J=[];this.tj={};this.Nt=d.Sa.Eh;this.Vf=1;if(a){this.JG();this.KG();var c=this;a.on("pagesDiff",function(b,a){c.trigger("pageDiff",[a]);c.trigger("pageContentChanged",[a.filter(function(b){return b.after.contentChanged}).map(function(b){return b.after.pageNum})])});a.on("pagesUpdated",function(b,a){function e(b){var a={};Object.keys(b).forEach(function(c){a[c]=b[c].Ra});return a}var d=e(c.tj);c.JG();c.KG();d=c.xL(d,e(c.tj));d.contentChanged=
a.filter(function(b){return b.contentChanged}).map(function(b){return b.pageNum});c.trigger("layoutChanged",[d])})}};d.Xv.prototype=$.extend({QU:function(){return this.J.length},xL:function(a,c){var b={added:[],removed:[],moved:{}},g={};Object.keys(a).forEach(function(b){g[b]=g[b]||{};g[b].before=a[b]});Object.keys(c).forEach(function(b){g[b]=g[b]||{};g[b].after=c[b]});Object.keys(g).forEach(function(a){a=g[a];a.before&&!a.after?b.removed.push(a.before):!a.before&&a.after?b.added.push(a.after):a.before&&
a.after&&a.before!==a.after&&(b.moved[a.before]=a.after)});return b},JG:function(){var a=this.v.Np(),c={};a.forEach(function(b){c[b]=!0});var b=this.tj;Object.keys(b).forEach(function(a){a in c||delete b[a]});a.forEach(function(a){b[a]||(b[a]={rotation:null,zoom:null,lg:null,mg:null,gg:null,bi:null,Qn:null,Vh:null,Ra:null,id:a})})},KG:function(){for(var a=this.v.numPages,c=this.v,b=[],g=0;g<a;++g){var d=this.tj[c.Ct(g)];d.Ra=g+1;b.push(d)}this.J=b},Wz:function(a){this.Nt=a},uV:function(){return this.Nt},
di:function(a){this.Vf=a;this.trigger("zoomChanged",[a])},vV:function(){return this.Vf},sH:function(a,c){var b=this.J[a];if(b)b.Qn=c;else throw Error("Invalid page text selected "+a);},RN:function(a){var c=this.J[a];if(c)return c.Qn;throw Error("Selected text requested for invalid page index: "+a);},SN:function(a){var c=this.J[a];if(c)return c.gg.map(function(b){return{x1:b.x1,x2:b.x2,x3:b.zl,x4:b.Al,y1:b.y1,y2:b.y2,y3:b.Cl,y4:b.Dl}});throw Error("Selected text quads requested for invalid page index: "+
a);},lx:function(){this.J.forEach(function(a){a.Qn=null})},Ht:function(){return this.J.map(function(a){return a.Qn}).filter(function(a){return null!==a}).join("\n")},uy:function(){var a={};this.J.filter(function(a){return null!==a.gg}).forEach(function(c){a[c.Ra-1]=c.gg.map(function(b){return{x1:b.x1,x2:b.x2,x3:b.zl,x4:b.Al,y1:b.y1,y2:b.y2,y3:b.Cl,y4:b.Dl}})});return a},Yd:function(a){var c=this.J[a];if(c){var b=this.v.nd(a);a=this.v.md(a);var g=_.isNull(c.rotation)?this.Nt:c.rotation;if(g===d.Sa.Me||
g===d.Sa.Pf){var f=b,b=a;a=f}return{width:b,height:a,rotation:g,zoom:_.isNull(c.zoom)?this.Vf:c.zoom,lg:c.lg,mg:c.mg,gg:c.gg,bi:c.bi,Qn:c.Qn,Vh:c.Vh,Ra:c.Ra,id:c.id}}return{width:0,height:0}},Fd:function(){for(var a=[],c=this.J.length,b=0;b<c;++b)a.push(this.Yd(b));return a},av:function(a,c){var b=this.J[a];if(b)b.zoom=c;else throw Error("Invalid page index zoomed "+a);},LN:function(a){var c=this.J[a];if(c)return!_.isNull(c.zoom);throw Error("Invalid page index get has individual zoom "+a);},Iq:function(a,
c){var b=this.J[a];if(b)b.rotation=c;else throw Error("Invalid page index rotated "+a);},UR:function(a,c){var b=this.J[a];if(b)b.gg=c;else throw Error("Invalid page index set text quads "+a);},SR:function(a,c){var b=this.J[a];if(b)b.bi=[c];else throw Error("Invalid page index set search quads "+a);},dT:function(a,c){var b=this.J[a];if(b){var g=b.bi||[];g.push(c);b.bi=g}else throw Error("Invalid page index update search quads "+a);},kx:function(){this.J.forEach(function(a){a.bi=null})},fD:function(){this.J.forEach(function(a){a.gg=
null})},MN:function(a){var c=this.J[a];if(c)return!!c.gg||!!c.bi;throw Error("Invalid page index get has text quads "+a);},QR:function(a,c){var b=this.J[a];if(b)b.lg=c.lg,b.mg=c.mg;else throw Error("Tried to set offsets of invalid page"+a);},wN:function(){var a={};this.J.forEach(function(c,b){_.isNull(c.rotation)||(a[b]=c.rotation)});return a},JL:function(){this.J.forEach(function(a){a.rotation=null})},lE:function(a){this.J.forEach(function(c){_.isNull(c.rotation)||a(c)})},Zz:function(a,c){var b=
this.J[a];if(b)b.Vh=c;else throw Error("Invalid page index set preview canvas "+a);},RE:function(){var a=[];this.J.forEach(function(c,b){_.isNull(c.gg)&&_.isNull(c.bi)||a.push(b)});return a},PN:function(){var a=[];this.J.forEach(function(c,b){_.isNull(c.gg)||a.push(b)});return a},KL:function(){this.J.forEach(function(a){a.Vh=null})},BF:function(a){return!!this.tj[a]},Zc:function(a){var c=this.tj[a];if(c)return this.Yd(c.Ra-1);throw Error("Unknown page ID "+a);},Tf:function(a){var c=this.J[a];if(c)return c.id;
throw Error("Page index is not loaded "+a);},Uc:function(){this.off()}},a.utils.eventHandler)})(window);
(function(a){function d(a,b){this.handlers=a;this.state=_.isUndefined(b)?null:b;this.zh=[];this.Bz=!0}function e(){this.kE=[];this.nE=[];this.jl={};this.jv=!1;Promise.resolve();Promise.resolve();this.Jm=!1;this.ys=null}d.prototype={tf:function(a){this.zh.push(a)},GH:function(){return 0<this.zh.length},DH:function(){return this.Bz||0<this.zh.length},read:function(){this.state=this.handlers.read(this.state);this.Bz=!1},write:function(){var a=this.zh;this.handlers.consolidateChanges&&(a=this.handlers.consolidateChanges(a));
this.zh=[];this.state=this.handlers.write(this.state,a);this.Bz=!0}};e.prototype={Uc:function(){this.jv=!1;window.cancelAnimationFrame(this.ys);this.ys=null;this.Jm=!0},Ez:function(a,b,e,f){_.isUndefined(f)&&(f=!0);if(this.jl[a])throw Error("Tried to register pipeline "+a+" twice");this.jl[a]=new d(b,e);f&&this.Fz()},EO:function(a){return!!this.jl[a]},WN:function(a){if(!this.jl[a])throw Error("Tried to get non-existent pipeline "+a);return this.jl[a]},Fz:function(){var a=this;this.jv||this.Jm||(this.jv=
!0,this.ys=window.requestAnimationFrame(function(){a.ys=null;var b=Object.keys(a.jl).map(function(b){return a.jl[b]});b.forEach(function(b){b.DH()&&b.read()});b.forEach(function(b){b.GH()&&b.write()});b=b.some(function(b){return b.DH()||b.GH()});a.jv=!1;b?a.Fz():(a.nE.forEach(function(b){b()}),a.nE=[]);a.kE.forEach(function(b){b()});a.kE=[]}))},tf:function(a,b){this.WN(a).tf(b);this.Fz()}};a.Go=e;a.aU=d})((window.o?window.o:window.o={}).Wl={});
(function(a){function d(b){this.hI=!0;this.Wp=this.Ou=this.FH=this.kg=!1;this.rd=[];this.Dc={};this.gk={};this.He=.5;this.u=b;this.v=null;this.Mu=Promise.resolve();this.Xt=!1;this.In=null;this.paused=!1;this.ez=null}function e(b){this.rotation=b.rotation;this.zoom=b.zoom;this.width=b.width;this.height=b.height;this.ae=this.canvas=null;this.Zg=this.Vw=this.dg=!1;this.EH=!0;this.pd=this.Rk=this.$n=this.request=null}function c(b,a){this.Da=b;this.uj=a;this.zz=createPromiseCapability()}c.prototype={cancel:function(){var b=
this.Da.Jc(this.uj);try{if(b.Zg){b.pd&&(b.pd.$C(),b.pd.abort&&b.pd.abort());if(b.request)try{this.Da.v.xh(b.request)}finally{b.request=null,b.pd=null}if(b.$n)try{this.Da.v.Qi(b.$n)}finally{b.$n=null}if(b.Rk)try{this.Da.v.xh(b.Rk)}finally{b.Rk=null}}}finally{b.Zg=!1,b.EH=!0,this.zz.resolve("canceled")}},$H:function(){this.cancel();var b=this.Da.Jc(this.uj);b.pd&&(b.pd.qd(void 0,this.Da.u.N.Zc(this.uj).Ra-1),b.pd=null)},render:function(b){var a=this;b.then(function(){a.zz.resolve("complete")})},py:function(){return this.zz.promise}};
e.prototype={Lp:function(b){return(this.canvas||b?1:0)*(this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio:1)*4+1E5)/4},isValid:function(){return!!this.canvas||!a.o.Ma.Bj},update:function(b){if(this.rotation!==b.rotation||this.zoom!==b.zoom)this.ae=this.canvas=null,this.EH=!0;this.rotation=b.rotation;this.zoom=b.zoom;this.width=b.width;this.height=b.height;this.Ra=b.Ra}};d.prototype={init:function(){this.gx();this.v=this.u.getDocument()},Uc:function(){this.Wp=
!0;this.Kq();return this.Mu},gx:function(){this.Kq();Object.keys(this.Dc).forEach(this.St.bind(this))},LL:function(){Object.keys(this.Dc).forEach(this.uF.bind(this))},gS:function(b){this.FH=!!b},tF:function(b){var a=this.Dc[b];a&&(a.canvas=null,a.ae=null);this.Yn(b)},uF:function(b){if(b=this.Dc[b])b.dg=!1},St:function(b){this.tF(b);this.uF(b)},Is:function(b){var a=this.u,c=a.Xm()-1;b=a.N.Zc(b).Ra-1;a=a.Gb();c=b-c;0>c&&(c-=.5);return a-Math.abs(c)},qy:function(b){return this.gk[b]||null},MC:function(b,
a){var e=this;if(this.Jc(b).Zg)return this.qy(b);var d=new c(this,b);this.Yn(b);var h;h=e.FH&&a?a.then(function(){if(!e.Ou)return e.RG(b,function(){})}):this.RG(b,function(){});d.render(h);return this.gk[b]=d},fN:function(){var b=this;return Object.keys(this.Dc).reduce(function(a,c){return a+b.Jc(c).Lp()},0)},eL:function(b,c){for(var e=this.Jc(c),d=this,h=Object.keys(this.Dc).sort(function(b,a){return d.Is(b)-d.Is(a)}),l=this.fN(),m=e.Lp(b)+l,n=0;m>a.Hl&&n<h.length;)m-=this.Jc(h[n]).Lp(),++n;if(m<
a.Hl){for(l=0;l<n;++l)this.tF(h[l]);e.canvas=b}else console.warn("Could not fit "+c+" with size "+e.Lp(b)+" into cache of size "+l+" with max size "+a.Hl)},Jc:function(b){if(this.u.N.BF(b)){this.Dc[b]=this.Dc[b]||new e(this.u.N.Zc(b));var a=this.u.N.Zc(b);this.Dc[b].update(a);return this.Dc[b]}return this.Dc[b]?this.Dc[b]:new e({})},FT:function(b){this.St(b)},iP:function(b){return!!this.Jc(b).canvas},pause:function(){this.paused=!0},resume:function(){this.paused=!1;var b=this.Dc;Object.keys(b).forEach(function(a){a=
b[a];a.pd&&(a.pd.paused=!1,a.pd.resume&&a.pd.resume())})},co:function(b){this.rd=b||this.u.da.Fd()},oL:function(b){var a=this;return b.some(function(b){return-1===a.rd.indexOf(b)})||a.rd.some(function(a){return-1===b.indexOf(a)})},dO:function(){var b=this;return Object.keys(this.Dc).map(function(a){return{id:a,page:b.Dc[a]}}).filter(function(b){return b.page.dg}).map(function(a){return b.u.N.Zc(a.id).Ra-1})},OD:function(b){var c=this.u.N.Tf(b),e=this.Jc(c);if(this.kg){c=e.ve;if(e.Zg||!e.dg||!c)return!0;
var e=this.u.da,d=this.He/2;return(b=e.ln(b,e.Fy(d,d)))&&!a.utils.containsRect(c,b.ve)}return!e.Zg&&!e.dg},yO:function(b){for(var a=[],c=[],e=b.length,d=0;d<e;++d){var l=b[d];this.OD(l)?c.push(l):a.push(l)}return{gQ:a,vz:c}},Ky:function(){var b=this;return b.Wp?[]:b.u.da.Fd(b.He,b.He).some(function(a){return b.OD(a)})},GL:function(){!this.In&&this.Ky()&&this.CD()},CD:function(){var b=this;this.In||(this.In=setTimeout(function(){this.In=null;var a=b.u.da.Fd(b.He,b.He);b.Kq(a);b.Xt||(b.Mu=b.Mu.then(function(){return b.SG()})["catch"](function(a){console.error(a);
b.Mu=Promise.resolve()}))},80))},qQ:function(b){var a=this;return Promise.resolve().then(function(){var c=a.u.N.Zc(b).Ra-1,e=a.Jc(b);if(!e.canvas)throw Error("Tried to place uncached page from cache "+b);e.dg=!0;a.u.jp(e.canvas,c);a.Xi(c,e);a.u.trigger("pageComplete",[c])})},zy:function(b){var a=this;return new Promise(function(c){var e=a.Jc(b),d=a.u.N.Zc(b).Ra-1;e.$n||a.u.GO(d)?c():e.$n=a.v.nj(d,function(c){a.Jc(b).$n=null;a.u.UC(c,d,-1!==a.rd.indexOf(d),!1)})})},vN:function(b){var c=this;return new Promise(function(e){var d=
c.Jc(b),h=c.u.N.Zc(b).Ra-1;if(d.Rk||c.u.DO(h))e();else{var l=a.utils.getCanvasMultiplier(),m=d.width,n=d.height,q=m>n?2E3/m:2E3/n,q=q/l;d.Rk=c.v.Sg({pageIndex:h,getZoom:function(){return q},getPageRotation:function(){return a.o.Sa.Eh},drawComplete:function(b){c.v.Ri(d.Rk);d.Rk=null;c.u.UC(b,h,-1!==c.rd.indexOf(h),!0);e()},useProgress:!1})}})},SG:function(){var b=this;return this.Wp?Promise.resolve():Promise.resolve().then(function(){var c=b.u.da.Fd(b.He,b.He),e=b.yO(c);b.Kq(c);b.OG(e.gQ);b.Xt=!0;
b.u.trigger("beginRendering");var d=Promise.resolve();!b.v.ij()&&a.o.Ma.Bj||c.forEach(function(a){a=b.u.N.Tf(a);b.zy(a)});b.Ou=!1;return Promise.all(e.vz.map(function(a){a=b.u.N.Tf(a);return b.iP(a)&&!b.kg?b.qQ(a):d=b.MC(a,d).py()}))}).then(function(){b.Ou=!1;b.Xt=!1;var a=b.Ky();b.u.trigger("finishedRendering",a);if(!b.Wp)return new Promise(function(a,c){window.requestAnimationFrame(function(){try{var e;if(b.Ky())return e=b.SG(),a(e);b.jP()&&b.sQ();a()}catch(g){c(g)}})})})["catch"](function(a){b.Xt=
!1;console.error(a);throw a;})},jP:function(){return a.o.Ma.Bj&&(0!==a.iu||0!==a.hu)},wL:function(){var b=this;return _.range(b.u.Gb()).map(function(a){return b.u.N.Tf(a)}).sort(function(a,c){return b.Is(c)-b.Is(a)})},YC:function(){var b=this,c=_.min(b.rd),e=_.max(b.rd),d=c-a.iu,h=e+a.hu,c=this.wL().filter(function(a){a=b.u.N.Zc(a).Ra-1;return d<a&&h>a});if(b.kg)return[c[0]];for(var e=[],l=c.length,m=0,n=0;n<l;++n){var q=b.Jc(c[n]),m=m+q.Lp(!0);if(m<a.Hl)e.push(c[n]);else break}return e},yL:function(){var b=
this;return b.Wp?[]:b.YC().filter(function(a){return!b.Jc(a).isValid()})},sQ:function(){var b=this;return Promise.resolve().then(function(){return b.kg?Promise.all(b.rd.map(function(a){a=b.u.N.Tf(a);return b.vN(a)})):Promise.all(b.yL().map(function(a){return b.MC(a).py()}))["catch"](function(b){console.error("error pre-rendering",b);throw b;})})},RG:function(b,a){a=a||function(){};var c=this;return new Promise(function(e){c.MQ(b,function(b){!b||b.type&&"Cancelled"===b.type||console.warn(b);e()},a)})},
OG:function(b){var c=this,e=this.YC();b&&b.length&&(b=b.map(function(b){return c.u.N.Tf(b)}),e=e.concat(b));Object.keys(this.Dc).forEach(function(b){var d=c.Jc(b);if(c.u.N.BF(b)){var l=c.u.N.Zc(b).Ra-1;if(a.o.Ma.Bj)-1===e.indexOf(b)&&(c.bI(b),d.dg&&(c.u.KQ(l),d.dg=!1));else{var m=-1!==c.rd.indexOf(l);!d.dg&&!d.Vw||m||(a.o.Ma.Gn(l),d.Vw=!1,d.dg=!1,c.bI(b))}}})},MQ:function(b,c,e){var d=this,h=this.Jc(b);c=c||function(){};e=e||function(){};if(h.Zg)a.utils.warn("renderPage: Another request for page ID",
b),c("renderPage: Another request for page ID "+b);else{var l=d.u.N.Zc(b),m=l.zoom,n=l.rotation;if(d.v!==d.u.getDocument())c("Document changed");else{var q=!0,r=null,v=!1,p,u=d.u.da.Pp(l.Ra-1);if(d.kg||u&&u.viewportRender)if(u=d.u.da,p=u.ln(l.Ra-1,u.Fy(d.He,d.He)),null===p){c("Page "+(l.Ra-1)+" no longer visible");return}this.ez=window.setTimeout(function(){$("#pageContainer"+(l.Ra-1)).addClass("loading")},300);var w={pageIndex:this.u.N.Zc(b).Ra-1,getZoom:function(){return d.u.N.Zc(b).zoom},getPageRotation:function(){return d.u.N.Zc(b).rotation},
finishedLoading:function(a,e){if(d.v!==d.u.getDocument())return c(Error("Document changed")),!1;if(a)return console.warn("Error loading page "+b),c(Error("Error loading page "+b)),!1;q=null===h.pd;h.pd=e;d.paused&&h.pd.pause();return!0},acquireResources:function(){return q},resourcesLoaded:function(){if(d.v!==d.u.getDocument())return c(Error("Document changed")),!1;if(!1===h.Zg)return!1;var a=d.u.N.Zc(b);m===a.zoom&&n===a.rotation||d.Xi(a.Ra-1,h);return!0},drawComplete:function(e,f,m){d.v!==d.u.getDocument()||
_.isNull(r)?c(Error("Document changed, or progress event not received")):(l=d.u.N.Zc(b),h.Zg=!1,h.dg=!!v,h.ae=m,h.ve=p?p.ve:null,v?d.u.trigger("pageComplete",[f,r]):a.o.Ma.Gn(f),a.o.Ma.Bj&&!d.kg&&d.eL(r,b,l),d.v.Ri(h.request),clearTimeout(this.ez),$("#pageContainer"+(l.Ra-1)).removeClass("loading"),e=-1!==d.rd.indexOf(f),d.v.vn()&&e&&d.Xi(l.Ra-1,h),c())},drawProgressive:function(h){if(d.v!==d.u.getDocument())c(Error("Document changed"));else{var l=d.u.N.Zc(b),q=l.Ra-1;if(m===l.zoom){if(!_.isUndefined(p)){var u=
$(h);u.css("top",p.sA.y+"px");u.css("left",p.sA.x+"px")}u=d.v.Yc(q);r=a.o.Ma.HE(h,q,m,n,w.getPageTransform(),u);v=!!d.u.jp(r,q)}else a.utils.warn("bad zoom: "+q);$("#pageContainer"+(l.Ra-1)).removeClass("loading");d.u.trigger("pageProgressiveUpdate",[q,r]);e(q)}},getPageTransform:function(){return d.u.da.Pp(l.Ra-1)},onError:function(b){c(b)},useProgress:!d.kg&&a.o.UE(),renderRect:_.isUndefined(p)?void 0:p.ve};h.request=-1;h.Zg=!0;h.request=d.v.Sg(w);d.Xi(l.Ra-1,h)}}},Xi:function(b,a){this.u.Xi(b);
a.Vw=!0},VL:function(){for(var b=[],c=0;c<this.u.Gb();++c){var e=this.u.N.Tf(c);b.push(e)}this.aI(b);this.Kq();a.o.Ma.yq()},aI:function(b){var a=this;Object.keys(this.Dc).forEach(function(c){if(-1===b.indexOf(c)){var e=a.gk[c];e&&(e.cancel(),e.$H(),delete a.gk[c]);delete a.Dc[c]}else a.Dc[c].dg=!1})},vA:function(b){this.v&&((this.kg=this.hI&&b>this.v.v.iq)&&1<a.utils.getCanvasMultiplier()?this.He=0:this.He=.5)},Kq:function(b){var c=this,e={};"undefined"!==typeof b&&$.each(b,function(b,a){e[c.u.N.Tf(a)]=
!0});var d=[];Object.keys(this.gk).forEach(function(b){b in e&&a.o.Ma.Bj?d[b]=c.gk[b]:c.Yn(b)});this.gk=d;this.Ou=!0;clearTimeout(this.In);this.In=null},Yn:function(b){var c=this.qy(b);clearTimeout(this.ez);$("#pageContainer"+b).removeClass("loading");c&&(this.Jc(b).Zg&&(b=this.u.N.Zc(b).Ra-1,$(document.getElementById("pageContainer"+b)).find(".progressive").remove()),c.cancel(),a.o.Ma.jx())},bI:function(b){(b=this.qy(b))&&b.$H()},eA:function(b){this.hI=!!b;this.vA()},vH:function(){}};a.o.BJ=d})(window);
(function(a){function d(b,a){this.Di=!b;this.height=this.width=0;this.ah=null;b&&(this.width=a.width,this.height=a.height,this.rotation=a.rotation,this.Lb=a.Ra-1,this.uj=b,this.zoom=a.zoom,this.Vh=a.Vh)}function e(b,a){this.J=a;this.index=b;this.height=a.reduce(function(b,a){return a.va()>b?a.va():b},0);this.width=a.reduce(function(b,a){return b+a.za()},0)}function c(b){this.rows=b.rows;this.cl=b.cl;this.gi=b.gi;this.ad=b.ad;this.An=b.An;this.Ah=b.Ah;this.J=b.J;this.$g=b.$g;b=this.rows;this.width=
this.Ah.reduce(function(b,a){return b+a},2*this.gi*this.cl);this.height=b.reduce(function(b,a){return b+a.va()},this.rows.length*this.gi*2)}function b(b,a){var c=a.zoom,e=a.rotation,g=a.width*c,c=a.height*c,d=null;e===window.o.Sa.Me||e===window.o.Sa.Pf?(d="rotate("+90*e+"deg)",d=e===window.o.Sa.Me?" translate("+g+"px, 0)  "+d:" translate(0,"+c+"px)  "+d,b.css("height",g),b.css("width",c)):(e===window.o.Sa.wp&&(d="translate("+g+"px,"+c+"px) scale(-1,-1)"),b.css("width",g),b.css("height",c));null!==
d&&b.css({position:"absolute",transform:d,"transform-origin":"top left","ms-transform":d,"ms-transform-origin":"top left","-moz-transform":d,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":d,"-o-transform":d,"-o-transform-origin":"top left"})}function g(b,a,c){if(a)for(a=b-1;0<=a;--a)c(a);else for(a=0;a<b;++a)c(a)}function f(b,a,c){var e=document.createElement("div");e.id="pageContainer"+b.dj();2===c?0===a?e.style.marginLeft="auto":1===a&&(e.style.marginRight=
"auto"):(e.style.marginLeft="auto",e.style.marginRight="auto");e.className="pageContainer";return e}function k(b,a,c){var e=document.createElement("div");e.id="pageSection"+b.dj();e.style.cssFloat="left";e.style.position="relative";e.className="pageSection";e.appendChild(f(b,a,c));return e}function h(b,a,c){var e=document.createDocumentFragment(),d=b.Ib();g(d.length,c,function(b){e.appendChild(k(d[b],b,a))});b=document.createElement("div");b.style.clear="both";e.appendChild(b);return e}function l(a,
c){if(c.Vh){var e=c.Vh,g=parseFloat(e.css("width")),d=parseFloat(e.css("height")),f=parseFloat(a.style.width)/g,k=e.attr("id");if(k&&0<=k.indexOf("hrthumb")){k=c.rotation;if(k===window.o.Sa.Me||k===window.o.Sa.Pf)f=parseFloat(a.style.width)/d;b(e,c)}e.each(function(){var b=$(this);b.css({top:parseFloat(b.css("top"))*f,width:g*f,height:d*f});a.appendChild(this)})}}function m(b,a,c,e,d,f){var k=a.Ib(),h=b;g(k.length,d,function(b){if(!h)throw Error("Tried to update non-existent page section");var g=
h,d=k[b],m=a.va();g.style.width=Math.floor(c[b])+"px";g.style.height=Math.floor(m)+"px";g.style.margin=e+"px";f||(b=g.firstChild,g=Math.floor(d.va())+"px",b.style.width=Math.floor(d.za())+"px",b.style.height=g,b.style.top=Math.floor(m-d.va())/2+"px",$(b).children().detach(),l(b,d));h=h.nextSibling});return h=h.nextSibling}function n(b,a,c){var e=a.Ib(),d=b;g(e.length,c,function(b){if(!d)throw Error("Tried to skip non-existent page section");l(d.firstChild,e[b]);d=d.nextSibling});return d=d.nextSibling}
function q(b,a,c){var e=a.Ib().length,d=b;r(d);a=document.createRange();g(e,c,function(){if(!d)throw Error("Tried to remove non-existent page section");d=d.nextSibling;r(d)});c=d.nextSibling;a.setStartBefore(b);a.setEndAfter(d);a.deleteContents();return c}function r(b){$(b.querySelector(".pageContainer")).children().detach()}function v(b){this.zh=[];this.state=b}d.nD=function(b,a){var c=new d(null,{});c.Lb="b"+b;c.width=0;c.height=0;c.zoom=a.zoom;c.rotation=0;c.Vh=null;c.JO=a.width;c.CV=a.height;
return c};d.prototype={YE:function(){return this.ah},Og:function(){return this.zoom},qe:function(){return this.rotation},za:function(){return this.width*this.zoom},ey:function(){var b=this.width;this.Di&&(b=this.JO);return b*this.zoom},va:function(){return this.height*this.zoom},dj:function(){return this.Lb},mP:function(b){return this.Di&&b.Di||this.uj===b.uj},Wy:function(b){return this.Di!==b.Di||!this.Di&&(this.uj!==b.uj||this.za()!==b.za()||this.va()!==b.va()||this.Og()!==b.Og()||this.qe()!==b.qe())}};
e.prototype={Ib:function(){return this.J},va:function(){return this.height},za:function(){return this.width},dj:function(){return this.index},Wy:function(b){var a=b.Ib();return this.J.length!==b.Ib().length||this.J.some(function(b,c){return b.Wy(a[c])})},nP:function(b){var a=b.Ib();return this.J.length===b.Ib().length&&this.J.every(function(b,c){return b.mP(a[c])})}};c.prototype={Ib:function(){return this.J},za:function(){return this.width},va:function(){return this.height},YE:function(b){return this.rows[b]}};
v.prototype={make:function(b,a,c){this.zh.push({mz:b,Eg:{ah:a,YP:c}})},kL:function(b){var a=this,c=b.firstChild,e=[];b.style.width=Math.ceil(this.state.za())+"px";this.zh.forEach(function(g){switch(g.mz){case "addRow":e=e.concat(g.Eg.ah.Ib());c=a.NC(c,g.Eg,b);break;case "updateRow":e=e.concat(g.Eg.ah.Ib());c=a.fT(c,g.Eg,b);break;case "updateColumns":c=a.ZS(c,g.Eg,b);break;case "skipRow":c=a.zS(c,g.Eg,b);break;case "replaceRow":e=e.concat(g.Eg.ah.Ib());c=a.PQ(c,g.Eg,b);break;case "removeRow":c=a.PG(c,
g.Eg,b);break;default:console.warn("Unsupported layout change operation:",g.mz)}});if(c&&"annoteditselectrect"!==c.id)throw Error("Nodes left after applying changes");e=e.filter(function(b){return!b.Di}).map(function(b){return b.dj()});return{vz:e}},NN:function(){var b=[];this.zh.forEach(function(a){switch(a.mz){case "updateRow":b=b.concat(a.Eg.ah.Ib())}});return b.filter(function(b){return!b.Di}).map(function(b){return b.dj()})},NC:function(b,a,c){a=a.ah;var e=h(a,this.state.Ah.length,this.state.$g);
m(e.firstChild,a,this.state.Ah,this.state.gi,this.state.$g);b?c.insertBefore(e,b):c.appendChild(e);return b},fT:function(b,a){return m(b,a.ah,this.state.Ah,this.state.gi,this.state.$g)},zS:function(b,a){return n(b,a.ah,this.state.$g)},PQ:function(b,a,c){b=this.PG(b,a);return this.NC(b,a,c)},PG:function(b,a){return q(b,a.YP,this.state.$g)},ZS:function(b,a){return m(b,a.ah,this.state.Ah,this.state.gi,this.state.$g,!0)}};a.DN=function(b){var a=b.lT,g=b.gi,f={width:0,height:0},k={width:0,height:0};a&&
0<a.length&&(f={width:a[0].width,height:a[0].height,zoom:a[0].zoom},k={width:a[a.length-1].width,height:a[a.length-1].height,zoom:a[a.length-1].zoom});var h=b.AS||0,l=[],m;for(m=0;m<h;++m)l.push(d.nD(m,f));var l=l.concat(a.map(function(b){return new d(b.id,b)})),n=b.cl;n>l.length&&(n=l.length);a=b.ad||0;f=Math.ceil(l.length/b.cl);_.isUndefined(b.An)||(f=b.An<f?b.An:f);var q=Array(n),h=l.reduce(function(b,a,c){var e;0===b.length?(e=[],b.push(e)):e=b[b.length-1];e.length===n&&(e=[],b.push(e));e.push(a);
if(c===l.length-1&&(a=n-e.length,0<a))for(var g=0;g<a;++g)e.push(d.nD(c+g+1,k));return b},[]).slice(a,a+f).map(function(b,a){var c=new e(a,b);c.Ib().forEach(function(b,a){q[a]=q[a]?b.ey()>q[a]?b.ey():q[a]:b.ey()});return c});return new c({rows:h,gi:g,cl:n,ad:a,An:f,Ah:q,J:l,$g:b.$g})};a.CN=function(b,a){var c=new v(a);if(!b)return a.rows.forEach(function(b){c.make("addRow",b,null)}),c;var e=b.rows,g,d=b.Ah,f=a.Ah;g=d.length===f.length?d.every(function(b,a){return b===f[a]}):!1;d=a.rows;d.forEach(function(b){var a=
e[b.dj()];a?a.nP(b)?a.Wy(b)?c.make("updateRow",b,a):g?c.make("skipRow",b,a):c.make("updateColumns",b,a):c.make("replaceRow",b,a):c.make("addRow",b,a)});if(d.length<e.length)for(d=d.length;d<e.length;++d)c.make("removeRow",null,e[d]);return c};a.Co=d;a.cU=e;a.VT=c;a.UT=v})((window.o=window.o||{}).SA={});
(function(a){var d=XODText,e=window.o,c={XA:"Single",so:"Continuous",JA:"Facing",Ev:"FacingContinuous",dr:"Cover",er:"CoverFacing",rg:"Custom"};e.sd=function(b,a,e){this.mode=null;this.u=b;this.Dd=this.Vg=this.Kb=null;this.Qf=this.ad=0;this.mj=null;this.rd=[];this.jd={};b=a===c.rg;this.Nn=_.isUndefined(e)?!b:e;_.isNull(a)||_.isUndefined(a)||(this.mode=a)};e.sd.prototype={XR:function(b,a,e,d,h){this.mode=c.rg;this.Kb=b;this.Vg=a;this.Dd=e;this.ad=d;this.Qf=h},uR:function(b){this.jd=b},Uy:function(){return this.mode===
c.so||this.mode===c.Ev||this.mode===c.dr},Hb:function(b,a){if(!this.mj)return-1;var c=this.mj.YE(b-this.mj.ad);if(this.u.sy())var e=this.mj.cl,c=c.Ib()[e-(a+1)];else c=c.Ib()[a];return c&&_.isNumber(c.dj())?c.dj():-1},sf:function(b,a){if(this.jd.pageToWindow)return this.jd.pageToWindow(b,a);b=this.u.ty(b,a);var c=this.u.N.Yd(a);return{x:b.x+c.lg,y:b.y+c.mg}},eQ:function(b,a){if(this.jd.pageToWindow)return this.jd.pageToWindow(b,a);b=this.u.hO(b,a);var c=this.u.N.Yd(a);return{x:b.x+c.lg,y:b.y+c.mg}},
Cj:function(b,c){if(this.jd.windowToPage)return this.jd.windowToPage(b,c);var e=this.u.fc(c),k=this.u.N.Yd(c),h=new d.vd;h.x=b.x-k.lg;h.y=b.y-k.mg;e=a.ud(e,this.u.Ne(c+1),{width:this.u.nd(c),height:this.u.md(c)},0,!1);e=e.inverse();h=e.aa(h);return{pageIndex:c,x:h.x,y:h.y}},rT:function(b,c){if(this.jd.windowToPage)return this.jd.windowToPage(b,c);var e=this.u.fc(c),k=this.u.N.Yd(c),h=new d.vd;h.x=b.x-k.lg;h.y=b.y-k.mg;e=a.ud(e,this.u.qe(c+1),this.u.v.Yc(c),0,!1);e=e.inverse();h=e.aa(h);return{pageIndex:c,
x:h.x,y:h.y}},Gt:function(b,a){if(this.jd.getSelectedPages)return this.jd.getSelectedPages(b,a);var c=null,e=null;b=_.isUndefined(b)?this.u.Jd:b;a=_.isUndefined(a)?this.u.yb:a;a:for(var d=this.ad;d<this.Qf;d++)for(var l=0;l<this.Kb;l++){var m=this.Hb(d,l);if(!(0>m)){var n=this.u.N.Yd(m),q=n.lg,r=n.mg,v=n.lg+n.width*this.u.zoom,n=n.mg+n.height*this.u.zoom;null===c&&b.x<=v&&b.x>=q&&b.y<=n&&b.y>=r&&(c=m);null===e&&a.x<=v&&a.x>=q&&a.y<=n&&a.y>=r&&(e=m);if(null!==c&&null!==e)break a}}c>e&&(d=c,c=e,e=d);
return{first:c,last:e}},Fd:function(b,a){if(this.jd.getVisiblePages)return this.jd.getVisiblePages(b,a);if(0===this.u.Qb().length)return[];for(var c,e=[],d=this.getVisibleRegionRect(b,a),l=this.getVisibleRegionRect(0,0),m=this.ad;m<this.Qf;m++)for(var n=0;n<this.Kb;n++)if(c=this.Hb(m,n),!(0>c)){var q=this.ln(c,d,l);null!==q&&e.push({Lb:c,wG:q.oQ})}e.sort(function(b,a){return a.wG-b.wG});c=e.length;for(d=0;d<c;++d)e[d]=e[d].Lb;return e},getVisibleRegionRect:function(b,a){b=_.isUndefined(b)?.5:b;a=
_.isUndefined(a)?.5:a;var c=this.u.Et();if(null===c)return[];var e=c.getBoundingClientRect(),d=e.width,l=e.height,m=c.scrollTop+e.top-l*b,c=c.scrollLeft+e.left-d*a;return{x1:c,y1:m,x2:c+d*(1+2*a),y2:m+l*(1+2*b)}},ln:function(b,c,e){var d=this.u.v.Yc(b),h=this.pageToWindowNoRotate({x:0,y:0},b),l=this.pageToWindowNoRotate({x:d.width,y:d.height},b),d=a.utils.normalizeRect(h,l);c=a.utils.getRectIntersection(d,c);if(c.x1!==c.x2){var m;e&&(e=a.utils.getRectIntersection(d,e),m=(e.x2-e.x1)*(e.y2-e.y1)/((d.x2-
d.x1)*(d.y2-d.y1)));h=this.windowToPageNoRotate({x:c.x1,y:c.y1},b);l=this.windowToPageNoRotate({x:c.x2,y:c.y2},b);return{ve:a.utils.normalizeRect(h,l),sA:{x:c.x1-d.x1,y:c.y1-d.y1},oQ:m}}return null},Pp:function(b){if(this.jd.getPageTransform)return this.jd.getPageTransform(b);b=this.u.iy(b);return{x:0,y:0,width:b.width,height:b.height}},jy:function(){return{x:0,y:0}},Gm:function(){return e.SA.DN({gi:this.u.ZE(),lT:this.u.N.Fd(),cl:this.Kb,ad:this.ad,An:this.Qf-this.ad,AS:this.mode===c.dr||this.mode===
c.er?1:0,$g:this.u.sy()})},Aq:function(b){b?this.mode===c.rg?this.u.Lc().children().detach():this.mt(function(b){$(b).children().detach()}):(this.mj=null,this.u.Lc().empty(),this.u.trigger("contentRemoved"))},ig:function(){if(this.jd.createPageSections)return this.Aq(!1),this.jd.createPageSections(),_.range(0,this.u.Gb());var b=this;if(this.mode!==c.rg){var a=this.Gm(),d=e.SA.CN(this.mj,a);d.NN().forEach(function(a){var c=document.getElementById("pageContainer"+a),c=b.u.kI?$(c).find("#hrthumb"+a):
$(c).find(".canvas"+a+":not(.progressive)");0<c.length&&b.u.N.Zz(a,c)});this.mj=a;a=d.kL(this.u.Lc().get(0)).vz;this.u.Rw(this.mj.va());return a}return _.range(0,this.u.Gb())},mt:function(b){for(var c=this.u.Lc().get(0).firstChild;c;)a.utils.hasClass(c,"pageSection")&&b(c.firstChild),c=c.nextSibling},zf:function(){var b=this.u.N;this.mt(function(a){var c=a.parentNode,e=Number(a.id.slice(13));_.isNaN(parseInt(e,10))||b.QR(e,{lg:c.offsetLeft+a.offsetLeft,mg:c.offsetTop+a.offsetTop})})}};e.vo=function(b){if(!b)throw Error("DisplayModeManager requires DocumentViewer to initialize");
this.u=b;this.ga=new a.o.sd(this.u,c.so)};e.vo.prototype={sc:function(){return this.ga},lH:function(b){this.ga.Aq();null===this.u.v?(this.ga=b,this.u.trigger("displayModeUpdated")):(this.zC(b),this.u.N.di(this.u.mf()),this.u.trigger("zoomUpdated",this.u.Og()),this.u.Yh(),this.ga.Uy()&&(this.ig(),this.ga.zf()),this.u.xe(this.u.dc+1))},zC:function(b){this.ga=b;this.VA();this.u.N.fD();this.u.trigger("displayModeUpdated")},VA:function(){var b=this.ga.mode;_.isNull(b)||(b===c.XA?(this.ga.Kb=1,this.ga.Vg=
Math.ceil(this.u.v.numPages/this.ga.Kb),this.ga.Dd=Math.ceil(this.u.dc/this.ga.Kb),this.ga.ad=this.ga.Dd,this.ga.Qf=this.ga.Dd+1):b===c.so?(this.ga.Kb=1,this.ga.Vg=Math.ceil(this.u.v.numPages/this.ga.Kb),this.ga.Dd=-1,this.ga.ad=0,this.ga.Qf=this.ga.Vg):b===c.JA?(this.ga.Kb=2,this.ga.Dd=Math.floor(this.u.dc/this.ga.Kb),this.ga.Vg=Math.ceil(this.u.v.numPages/this.ga.Kb),this.ga.ad=this.ga.Dd,this.ga.Qf=this.ga.Dd+1):b===c.Ev?(this.ga.Kb=2,this.ga.Dd=-1,this.ga.Vg=Math.ceil(this.u.v.numPages/this.ga.Kb),
this.ga.ad=0,this.ga.Qf=this.ga.Vg):b===c.dr?(this.ga.Kb=2,this.ga.Dd=-1,this.ga.Vg=Math.ceil((this.u.v.numPages+1)/this.ga.Kb),this.ga.ad=0,this.ga.Qf=this.ga.Vg):b===c.er&&(this.ga.Kb=2,this.ga.Dd=Math.floor(this.u.dc/this.ga.Kb),this.ga.Vg=Math.ceil(this.u.v.numPages/this.ga.Kb),this.ga.ad=this.ga.Dd,this.ga.Qf=this.ga.Dd+1))},Gt:function(b,a){return this.ga.getSelectedPages(b,a)},Fd:function(b,a){return this.ga.getVisiblePages(b,a)},ln:function(b,a,c){return this.ga.ln(b,a,c)},Fy:function(b,a){return this.ga.getVisibleRegionRect(b,
a)},sf:function(b,a){return this.ga.pageToWindow(b,a)},Cj:function(b,a){return this.ga.windowToPage(b,a)},Pp:function(b){return this.ga.getPageTransform(b)},jy:function(b){return this.ga.getPageOffset(b)},Gm:function(){return this.ga.Gm()},ig:function(b){return this.ga.ig(b)},Aq:function(b){return this.ga.Aq(b)},mt:function(b){return this.ga.mt(b)},zf:function(){return this.ga.zf()}};a.o.Pd=c})(window);
(function(a){function d(){}var e=window.o,c=XODText;d.prototype=Object.create(Error.prototype);e.W=function(){var b=this;this.select=_.bind(this.select,this);this.eb=c.eb;this.v=null;this.defaults={FitMode:this.sg.Fv,DisplayMode:new a.o.sd(this,a.o.Pd.so),Zoom:1};this.fa=new a.o.ha(this);this.da=new a.o.vo(this);this.jH();this.bE=this.gL=this.Om=!1;this.cursor="default";this.wn=null;this.Wh=[];this.sF=function(b,a){a(b)};this.pG=function(b,a,c){c(b)};a.o.Pv(5);this.QA=function(a){this.trigger("mouseLeftUp",
a);b.wa&&b.wa.mouseLeftUp&&b.wa.mouseLeftUp(a);for(var c in b.links)if(b.links.hasOwnProperty(c)){a=b.links[parseInt(c,10)];for(var e=0;e<a.length;++e)a[e].style&&(a[e].style.border="")}};this.PA=function(a){this.trigger("mouseLeftDown",a);b.wa&&b.wa.mouseLeftDown&&b.wa.mouseLeftDown(a)};this.mJ=function(b){this.trigger("click",b)};this.wJ=function(a){this.trigger("tap",a);b.wa&&b.wa.tap&&b.wa.tap(a)};this.oJ=function(a){this.trigger("dblClick",a);b.wa&&b.wa.mouseDoubleClick&&b.wa.mouseDoubleClick(a)};
this.pJ=function(a){this.trigger("keyDown",a);b.wa&&b.wa.keyDown&&b.wa.keyDown(a)};this.qJ=function(a){this.trigger("keyUp",a);b.wa&&b.wa.xP&&b.wa.xP(a)};this.nJ=function(a){b.wa&&b.wa.contextMenu&&b.wa.contextMenu(a)};this.rJ=function(a){this.trigger("mouseEnter",a);b.wa&&b.wa.OP&&b.wa.OP(a)};this.RA=function(a){this.trigger("mouseMove",a);b.wa&&b.wa.mouseMove&&b.wa.mouseMove(a)};this.sJ=function(a){this.trigger("mouseLeave",a);b.wa&&b.wa.mouseLeave&&b.wa.mouseLeave(a)};this.tJ=function(a){this.trigger("mouseRightDown",
a);b.wa&&b.wa.ku&&b.wa.ku(a)};this.uJ=function(a){this.trigger("mouseRightUp",a);b.wa&&b.wa.PP&&b.wa.PP(a)};this.vJ=function(a){b.wa&&b.wa.xG&&b.wa.xG(a)};this.WH={AnnotationCreateArrow:new a.ja.sv(this,"AnnotationCreateArrow"),AnnotationCreateCallout:new a.ja.po(this,"AnnotationCreateCallout"),AnnotationCreateEllipse:new a.ja.Bv(this,"AnnotationCreateEllipse"),AnnotationCreateFreeHand:new a.ja.FreeHandCreateTool(this,"AnnotationCreateFreeHand"),AnnotationCreateFreeText:new a.ja.Hv(this,"AnnotationCreateFreeText"),
AnnotationCreateLine:new a.ja.Ql(this,"AnnotationCreateLine"),AnnotationCreatePolygon:new a.ja.Nj(this,"AnnotationCreatePolygon"),AnnotationCreatePolygonCloud:new a.ja.Ho(this,"AnnotationCreatePolygonCloud"),AnnotationCreatePolyline:new a.ja.Ul(this,"AnnotationCreatePolyline"),AnnotationCreateRectangle:new a.ja.Lv(this,"AnnotationCreateRectangle"),AnnotationCreateSignature:new a.ja.SignatureCreateTool(this,"AnnotationCreateSignature"),AnnotationCreateStamp:new a.ja.Io(this,"AnnotationCreateStamp"),
AnnotationCreateSticky:new a.ja.Rv(this,"AnnotationCreateSticky"),AnnotationCreateTextHighlight:new a.ja.Tv(this,"AnnotationCreateTextHighlight"),AnnotationCreateTextSquiggly:new a.ja.Uv(this,"AnnotationCreateTextSquiggly"),AnnotationCreateTextStrikeout:new a.ja.Vv(this,"AnnotationCreateTextStrikeout"),AnnotationCreateTextUnderline:new a.ja.Wv(this,"AnnotationCreateTextUnderline"),AnnotationEdit:new a.ja.Gl(this,"AnnotationEdit"),Pan:new a.ja.Eo(this,"Pan"),TextSelect:new a.ja.Yl(this,"TextSelect")}};
e.W.prototype={sL:function(){function b(b){h=!0;var e=c.v.Ib()[b-1];if(e){var d,f,k=c.Pb().aj();if(l&&l!==e){for(d=0;d<k;++d)f=k[d],f.kj()&&f.pageNumber===m&&k[d].ye("PC",new a.Annotations.O.sb.Events.Co("Close",c,{}));l.ye("C",new a.Annotations.O.sb.Events.Co.create("Close",c,{}))}l=e;m=b;e.ye("O",new a.Annotations.O.sb.Events.Co.create("Open",c,{}));for(d=0;d<k;++d)f=k[d],f.kj()&&f.pageNumber===b&&k[d].ye("PO",new a.Annotations.O.sb.Events.Co("Close",c,{}))}}var c=this;c.Lc().on("dragstart",function(b){"IMG"===
b.target.nodeName&&b.preventDefault()});c.Lc().on("touchstart",function(b){c.PA(b)});c.Lc().on("touchmove",function(b){c.yb={x:b.originalEvent.touches[0].pageX,y:b.originalEvent.touches[0].pageY};c.RA(b)});c.Lc().on("touchend",function(b){c.QA(b);c.uw=!1});c.Lc().on("pointerdown",function(b){c.vJ(b)});c.Lc().dblclick(function(b){c.oJ(b)});c.Lc().click(function(b){c.mJ(b)});c.Lc().on("tap",function(b){c.wJ(b)});$(window).on("keydown",function(b){c.pJ(b)});$(window).on("keyup",function(b){c.qJ(b)});
c.Lc().on("contextmenu",function(b){c.nJ(b)});c.Lc().mouseenter(function(b){c.rJ(b)});var e=c.Lc(),d=c.Qb();0<d.length&&(e=d);e.mousedown(function(b){if(0<d.length){var a=d[0].clientHeight;if(b.clientX>d[0].offsetLeft+d[0].clientWidth||b.clientY>d[0].offsetTop+a)return}1===b.which?(c.PA(b),c.uw=!0):3===b.which&&(c.tJ(b),c.$B=!0)});$(document).on("mouseup",function(b){1===b.which&&c.uw?(c.QA(b),c.uw=!1):3===b.which&&c.$B&&(c.uJ(b),c.$B=!1)});$(document).mousemove(function(b){c.yb={x:b.pageX,y:b.pageY};
c.RA(b)});c.Lc().mouseleave(function(b){c.sJ(b)});if(c.da.sc().Nn)c.Qb().on("scroll",_.bind(c.onscroll,c));$(a).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Da.pause()});c.on("RESUME",function(){c.Da.resume()});var h=!1,l=null,m;c.on("documentReady",function(){c.v.ye("Init",new a.Annotations.O.sb.Events.IA.create("Open",c,{}));c.v.ye("Open",new a.Annotations.O.sb.Events.IA.create("Open",c,{}));h||b(1)});c.on("pageNumberUpdated",function(a,e){b(e);c.v.ql({currentPage:e})});c.on("visiblePagesChanged",
function(b,a){c.v.ql({visiblePages:a});var e=_.intersection(a,c.ip);e.length&&(clearTimeout(c.jL),c.jL=setTimeout(function(){c.Zh.tf("DocumentViewer.renderRequest",{type:"annotations",pages:e})},80))});c.on("endOfDocumentResult",function(b,a){c.Xk=!1;c.Pq();a?(c.loop=!0,c.oA(c.vD,c.dM,!1)):c.loop=!1})},resize:function(b){b&&b.target!==window||!this.v||!this.da.sc().Nn||(this.mf===this.sg.Zoom?(this.Rw(),this.da.sc().zf(),this.onscroll()):(b=this.mf(),b!==this.N.Vf?(this.ep(b),this.cx()):(this.da.sc().zf(),
this.cx(),this.onscroll())))},cx:function(){var b=this.Qb(),a=(b[0].scrollWidth-b.width()+this.Ft())/2;b.scrollLeft(a)},iR:function(){this.resize()},iD:function(){var b=this;return this.Xs=this.Xs.then(function(){return b.v?(b.trigger("documentUnloaded"),b.Yh(!0),Promise.resolve(b.Uc()).then(function(){b.jH()})):Promise.resolve()})},jH:function(){this.v=null;this.Xs=Promise.resolve();this.Da=new a.o.BJ(this);this.da.lH(this.defaults.DisplayMode);this.mf=this.defaults.FitMode;this.$G=!1;this.JF=[];
this.dc=0;this.links={};this.jf=[];this.Za||(this.Za=Promise.resolve(null));this.N=new e.Xv(null);this.yb=this.Jd=null;this.margin=4;this.bH=this.cH=0;this.Qq=new c.je;this.$c=this.dG=this.qu=null;this.ZF=this.fz=this.Xk=this.Jy=this.loop=!1;this.$F=this.aG=null;this.Vp=!1;this.TH="rgba(0, 0, 200, 0.3)";this.Mz="rgba(255, 255, 0, 0.5)";this.Nw="rgba(248, 153, 57, 0.5)";this.Zh=new a.o.Wl.Go;var b=this;this.Zh.Ez("DocumentViewer.renderRequest",{read:function(a){a.Xw&&b.da.zf();b.aT();a=b.da.Fd();b.Da.co(a);
return{rd:a,hR:b.BQ()}},consolidateChanges:function(b){var a=b.filter(function(b){return"pages"===b.type}),c=b.filter(function(b){return"annotations"===b.type}),e=b.filter(function(b){return"layout"===b.type});b=b.filter(function(b){return"retainScroll"===b.type});var d=[];a.length&&d.push({type:"pages",pages:_.union.apply(null,a.map(function(b){return b.pages||[]})),useVisiblePages:a.some(function(b){return!!b.useVisiblePages}),check:a.every(function(b){return!!b.check})});c.length&&d.push({type:"annotations",
pages:_.union.apply(null,c.map(function(b){return b.pages||[]}))});e.length&&d.push({type:"layout",pages:_.union.apply(null,e.map(function(b){return b.pages||[]}))});return d=d.concat(b)},write:function(a,c){var e={Xw:!1};c.forEach(function(c){var d;"pages"===c.type?(d=c.useVisiblePages?_.union(a.rd,c.pages):_.intersection(a.rd,c.pages),0<d.length&&(c.check?b.Da.GL():b.xl(d))):"annotations"===c.type?(d=_.intersection(a.rd,c.pages),b.ip=_.without(b.ip,d),b.Da.OG(),d.forEach(function(a){b.Xi(a)})):
"layout"===c.type?(e.Xw=!0,d=b.da.ig().concat(c.pages),c.pages.forEach(function(a){b.N.Zz(a,void 0)}),d.length&&(d.forEach(function(a){b.Da.St(b.N.Tf(a))}),b.Zh.tf("DocumentViewer.renderRequest",{type:"pages",pages:d})),b.Da.vA(b.Og())):"retainScroll"===c.type&&b.uT(a.hR)});return e}},{Xw:!0},!1);this.Au=[];this.ip=[];this.zs=null;this.hp=Promise.resolve()},BQ:function(){var b=this.Xm()-1,a=this.Qb(),c=a.scrollLeft()||0,a=a.scrollTop()||0,e=document.getElementById("pageContainer"+b);e&&(c-=e.offsetLeft+
e.parentNode.offsetLeft,a-=e.offsetTop+e.parentNode.offsetTop);return{Lb:b,x:c,y:a}},uT:function(b){var a=document.getElementById("pageContainer"+b.Lb),c=b.x;b=b.y;a&&(c+=a.offsetLeft+a.parentNode.offsetLeft,b+=a.offsetTop+a.parentNode.offsetTop);this.scrollTo(c,b)},MI:function(b){var a={};_.isUndefined(b)||(_.isObject(b)?a=b:a.docId=b);"onError"in a||(a.onError=function(b){throw Error("Error loading document: "+b);});"getPassword"in a||(a.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");
});"docId"in a||(a.docId=null);"workerTransportPromise"in a||("pdf"===a.type?a.workerTransportPromise=e.Pt(a.pdfBackendType,a.workerHandlers,a.l):"office"===a.type&&(a.workerTransportPromise=e.qF(a.officeBackendType,a.workerHandlers,a.l)));return a},IG:function(b){this.Zh.tf("DocumentViewer.renderRequest",{type:"layout",pages:b});this.Zh.tf("DocumentViewer.renderRequest",{type:"retainScroll"})},hn:function(){return this.Zh},LG:function(b,a){var c=this;this.Au=this.Au.concat(b);this.zs||(this.zs=setTimeout(function(){if(c.lj===
a){var e=c.Au;c.Au=[];c.zs=null;c.hp=c.hp.then(function(){if(c.lj===a){var b=e.map(function(b){return b+1});c.fa.MG(b);for(var d=e.length,m=0;m<d;++m)c.fa.BP(e[m]);return c.getDocument().Gk(b)}}).then(function(d){return new Promise(function(l){c.lj===a&&d?c.pG(d.xfdfString,b,function(m){c.lj!==a||_.isUndefined(m)?l():c.fa.My(m,function(){a.Jh()&&!c.iF&&(c.trigger("documentReady"),c.iF=!0);0<c.zu&&(c.zu-=e.length,0>=c.zu&&c.trigger("annotationsLoaded"));c.ip=c.ip.concat(b);l()},c.qE(d.xfdfString===
m))}):l()})})}},400))},bg:function(b,c){var f=this;c=f.MI(c);var k=new a.CoreControls.Document(c.docId,c.type);this.lj=k;k.wf(f);var h=f.Xs.then(function(){return f.Za}).then(function(b){k.tl(b)}).then(function(){return new Promise(function(a,e){f.iF=!1;k.bg(b,function(b){k!==f.lj?(k.qd(),e(new d)):b?e(b):null!==f.v?a(f.iD().then(function(){return k})):a(k)},{annotsLoadedCallback:function(b,a){f.lj===k&&h.then(function(){f.sF(b,function(c){if(f.lj===k&&!_.isUndefined(c)){var e=createPromiseCapability();
f.on("documentReady.annotsLoaded",function(){e.resolve("ready")});f.hp=f.hp.then(function(){return e.promise});var d=c===b;f.fa.My(a&&d?a:c,function(){f.lj===k?(f.Da.dO().forEach(function(b){f.Xi(b)}),f.trigger("documentReady"),f.trigger("annotationsLoaded")):e.resolve()},f.qE(d))}})})},annotationManager:f.fa,getPassword:c.getPassword,workerTransportPromise:c.workerTransportPromise,extension:c.extension,defaultPageSize:c.defaultPageSize,pageSizes:c.pageSizes})})}).then(function(b){f.v=b;f.zu=b.numPages;
f.N=new e.Xv(b);f.defaults.FitMode===f.sg.Zoom&&f.N.di(f.defaults.Zoom);f.v.on("bookmarksUpdated",function(){f.trigger("bookmarksUpdated")});f.v.on("officeAnnotationsUpdated",function(b,a){f.fa.Li(a);f.fa.Lm(a)});f.N.on("layoutChanged",function(a,c){f.IG(c.contentChanged.map(function(b){return b-1}));var e=!1;0<c.added.length&&(f.LG(c.added.map(function(b){return b-1}),b),e=!0);0<c.removed.length&&(f.Da.aI(f.v.Np()),e=!0,f.dc>=f.Gb()&&f.ls(f.Gb()-1));if(e){f.Da.LL();var d=f.Qb(),e=d.offset(),d=f.da.Cj({x:(d.scrollLeft()||
0)+e.left,y:(d.scrollTop()||0)+e.top},f.dc);f.da.VA();f.da.ig();f.da.zf();d=f.da.sf(d,f.dc);f.scrollTo(d.x-e.left,d.y-e.top);f.xl()}0<c.contentChanged.length&&f.LG(c.contentChanged.map(function(b){return b-1}),b);f.trigger("layoutChanged",[c])});f.N.on("zoomChanged",function(b,a){f.kI=f.Da.kg;f.Da.vA(a)});f.fa.JQ(f.N);f.trigger("beforeDocumentLoaded");c.type&&"pdf"===c.type&&a.o.tD!==a.o.Il.wr||f.Da.gS(!0);f.Da.init();f.da.zC(f.da.sc());f.bE||(f.bE=!0,f.sL());if(f.da.sc().mode!==a.o.Pd.rg){f.N.di(f.ms(f.mf));
f.Yh();f.da.ig();f.da.zf();f.xl();var d=f.Qb(),k=(d[0].scrollWidth+f.Ft()-d.innerWidth())/2;d.scrollLeft(k)}f.trigger("documentLoaded");1.2>=f.v.v.ji&&f.trigger("documentReady")})["catch"](function(b){if(!(b instanceof d))c.onError(b)})},Qb:function(){return $(this.Et())},Et:function(){this.dH||this.wH(document.getElementById("DocumentViewer"));return this.dH},wH:function(b){this.dH=b},Lc:function(){return $(this.aF())},aF:function(){this.jI||this.zH(document.getElementById("viewer"));return this.jI},
zH:function(b){this.jI=b},Ft:function(){var b=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$("body").append(b);var a=$("div",b).innerWidth();b.css("overflow-y","auto");var c=$("div",b).innerWidth();$(b).remove();return a-c},Uc:function(){var b=this;if(this.v){var a=this.v;clearTimeout(this.zs);this.fa.Uc().then(function(){return Promise.all([b.hp,b.Zh?b.Zh.Uc():null,b.Da?b.Da.Uc():null,b.N?b.N.Uc():null])}).then(function(){b.off("documentReady.annotsLoaded");
a.off();return a.qd()})}},md:function(b){var a=this.v.Op(b);return 90===a||270===a?this.v.nd(b):this.v.md(b)},nd:function(b){var a=this.v.Op(b);return 90===a||270===a?this.v.md(b):this.v.nd(b)},uc:function(b){return this.v.uc(b)},Pb:function(){return this.fa},pR:function(b){this.iL=b},qE:function(b){return $.extend({Ry:b},this.iL)},ER:function(b){this.sF=b},WR:function(b){this.pG=b},VR:function(b){this.nG=b},cD:function(){if(this.nG){for(var b=this.JF,a=this.da.Fd(0,0),b=_.difference(a,b),c=0;c<b.length;++c)this.nG(b[c]+
1);this.JF=a}},Mk:function(){return this.da},bv:function(b,c){a.o.Ma.bv(b,c)},be:function(b){"undefined"!==typeof b.enableAnnotations&&(this.Om=!!b.enableAnnotations);"undefined"!==typeof b.annotMode&&(this.gL=!!b.annotMode)},Og:function(){return this.N.Vf},xt:function(){return this.margin},ZE:function(){return this.margin*this.Og()},KR:function(b){this.margin=b},Ht:function(b){return b?this.N.RN(b-1):this.N.Ht()},uy:function(b){return b?this.N.SN(b-1):this.N.uy()},lS:function(b){this.TH=b},fS:function(b){this.Mz=
b.searchResult||this.Mz;this.Nw=b.activeSearchResult||this.Nw},It:function(){return this.wa},mO:function(){return this.WH},By:function(b){return this.WH[b]},qe:function(b){return _.isUndefined(b)?this.N.Nt:this.N.Yd(b-1).rotation},Ne:function(b){var a=this.qe(b);if(_.isUndefined(b))return a;b=this.Fp(b)/90;return(a+b)%4},eS:function(b,a){var c;0<=b&&3>=b&&(_.isUndefined(a)?(this.N.Wz(b),this.N.JL()):(c=a-1,this.N.Iq(c,b)),this.rotate(c))},Fp:function(b){--b;return 0>b||_.isNaN(b)?0:this.v.Op?this.v.Op(b):
0},RR:function(b){var a=this;Object.keys(b).forEach(function(c){a.N.Iq(c,b[c])});this.ep(this.mf(),void 0,void 0,!0)},QN:function(){return this.N.wN()},getDocument:function(){return this.v},Ey:function(b){var a=null;this.Da.kg&&(a=this.da,a=a.ln(b,a.Fy(this.Da.He,this.Da.He)));return a},sO:function(b){var a=null;if(b=this.Ey(b))a=b.ve;return a},bj:function(b){var c=this.v.Yc(b),e=this.fc(b),d=this.da.Pp(b),h,l=this.Ey(b);l&&(h=l.ve,d=l.sA);return a.o.Ma.bj(b,{width:c.width,height:c.height},e,this.qe(b+
1),d,h,this.Fp(b+1)/90)},qN:function(){return this.mf},sy:function(){return this.$G},dS:function(b){this.$G=b},vM:function(b){if(b.url)(new Actions.wi({uri:b.url})).onTriggered(b,null,this);else b.isValid()?this.vp(b.Yg,b.eo,b.rn):console.warn("Tried to go to invalid bookmark destination")},vp:function(b,a,c,e){if(this.da.sc().Nn){this.Xm()!==b&&this.xe(b);var d=this.nd(b-1),l=this.md(b-1);b=this.da.sf({x:c>d?0:0>c?0:c,y:a>l?0:0>a?0:a},b-1);a=this.Qb();c=a.offset();if(e&&(e=b.x-c.left-(a.scrollLeft()||
0),d=b.y-c.top-(a.scrollTop()||0),0<e&&e<a.outerWidth()&&0<d&&d<a.outerHeight()))return;this.scrollTo(b.x-c.left,b.y-c.top)}else this.trigger("displayPageLocation",[b,a,c,e])},scrollTo:function(b,a){this.Qb().scrollLeft(b).scrollTop(a)},GS:function(b,a,c){if(b!==this.qu||a!==this.dG)this.aG=b,this.$F=a,this.fz=!0,this.ZF=c},LS:function(b){var a=!1;if(null===this.qu||this.qu!==b)a=!0;if(null===this.loop||!0===this.loop)a=!0;this.qu=b;this.$c!==this.dc&&(this.$c=this.dc,a=!0);return a},oA:function(b,
a,e,d){e=e||!1;this.Lz=!1;var h=this,l=!0;this.vD!==b&&(this.vD=b,this.Jy=!1);this.dM=a;for(var m=0;m<b.length;++m){var n=b.charCodeAt(m);if(!(1424<=n&&1535>=n||1536<=n&&1791>=n||1872<=n&&1919>=n||64336<=n&&65023>=n||65136<=n&&65279>=n)){l=!1;break}}l&&(b=b.split("").reverse().join(""));h.FW=h.dc;if(!0===this.Xk)this.GS(b,a,e);else{e?(l=function(){},h.N.kx(),h.Vp=!1):(h.Vp=!0,l=function(b){b.Ru===c.Yb.xp?(h.Bx(b),h.Jy=!0):b.Ru===c.Yb.Ck&&(h.Jy?h.trigger("notify","endOfDocumentSearch"):h.trigger("notify",
"noMatchesFound"))});d=d||l;if(e||this.LS(b))e?(l=this.$c=0,m=this.v.numPages-1):0<(a&c.eb.Gx)?(m=!0===this.loop?this.v.numPages-1:this.$c,l=0):(l=!0===this.loop?0:this.$c,m=this.v.numPages-1),this.Qq.rL(this.v,b,a,l,m);this.Qq.setMode(a);this.dG=a;this.OS(e,d)}},zG:function(b){null===this.v.ly(b)&&this.v.Hd(b,function(){})},Pq:function(){this.trigger("searchInProgress",[this.Xk,!this.Vp])},OS:function(b,a){function e(){function f(){m=[];l=h.Qq.run(m);n=l.Ru;l.qW=m;var e=l;e.ambient_str=l.RC;e.result_str=
l.Iz;e.result_str_start=l.ZG;e.result_str_end=l.YG;e.page_num=l.uz;e.resultCode=n;e.quads=m;if(h.Lz)h.Lz=!1,h.Xk=!1,h.Pq();else if(!0===h.fz)h.fz=!1,h.Xk=!1,h.Pq(),setTimeout(function(){h.oA(h.aG,h.$F,h.ZF,a)},0);else{if(n===c.Yb.bt){var p,u;if(h.Qq.Qg()){if(0<h.$c)for(h.$c--,u=0;3>u;++u)p=h.$c-u,0<p&&h.zG(p)}else if(h.$c<h.v.numPages-1)for(h.$c++,u=0;3>u;++u)p=h.$c+u,p<h.v.numPages-1&&h.zG(p)}else n!==c.Yb.xp||b||(h.N.lx(),h.N.sH(l.uz,l.Iz));a(e);n===c.Yb.Ck||!b&&n===c.Yb.xp?(h.Xk=!1,h.Pq()):null!==
h.v.ly(h.$c)?setTimeout(f,0):h.v.Hd(h.$c,d)}}var n=-1;null!==h.v.ly(h.$c)?setTimeout(f,0):h.v.Hd(h.$c,d)}function d(b){n===h.v&&(h.v.TR(h.$c,b),e())}var h=this;this.Xk=!0;this.Pq();!0===this.loop&&(h.$c=this.Qq.Qg()?this.v.numPages-1:0,this.loop=!1);var l,m=[],n=this.v;e()},HF:function(b,a){b!==this.dc&&this.xe(b+1);if(0<a.length){a=a.map(function(b){return b.Ng?b.Ng():b});for(var c=a[0].y4,e=a[0].x4,d=a[0].y2,l=a[0].x2,m=1;m<a.length;m++)a[m].x4<e&&(e=a[m].x4),a[m].y4<c&&(c=a[m].y4),a[m].x2>l&&(l=
a[m].x2),a[m].y2>d&&(d=a[m].y2);var m=this.Qb(),n=m.offset(),q=n.top+(m.scrollTop()||0),r=q+m.innerHeight(),n=n.left+(m.scrollLeft()||0),v=n+m.innerWidth(),c=this.da.sf({x:e,y:c},b),p=this.da.sf({x:l,y:d},b),l=c.x<p.x?c.x:p.x,d=c.y<p.y?c.y:p.y,e=c.x>p.x?c.x:p.x,c=c.y>p.y?c.y:p.y;if(l<n||d<q||e>v||c>r)q=e-l,r=c-d,q=l-m.innerWidth()/2+q/2-m.offset().left,m=d-m.innerHeight()/2+r/2-m.offset().top,this.scrollTo(q,m)}},IF:function(b,a){var c=b.page_num;"undefined"!==typeof a?a(c,b.quads):this.HF(c,b.quads)},
Bx:function(b,a){var c=this;this.Vp=!0;this.GC=b;this.bo(function(){var e=b.page_num;c.N.kx();c.N.SR(e,b);c.IF(b,a)})},uM:function(b){var a=this;this.bo(function(){a.N.dT(b.page_num,b)})},nR:function(b){this.Vp?this.Bx(b):(this.GC=b,this.IF(b),this.bo())},ML:function(){var b=this;this.bo(function(){b.N.kx()});this.Lz=!0},fH:function(b,a,e){var d=new c.Ja;d.Pa(a.x,a.y,a.x+1,a.y+1);var h=this,l=new c.vi(this.v),m=this.v;m.Hd(b,function(){m===h.v&&(l.xC(b,d),h.wn=l.xC,h.Wh=[[b,d]],e(b,l.Oe(),l.La))})},
Pn:function(b,a,e){if(a.constructor!==c.Ja){var d=new c.Ja;d.Pa(a.x1,a.y1,a.x2,a.y2);a=d}var h=this,l=new c.vi(this.v),m=this.v;m.Hd(b,function(){if(m===h.v){"rectangular"===Tools.Rb.SELECTION_MODE?l.gH(b,a):l.eH(b,a);var c=l.La,d=l.Oe();e&&e(b,d,c)}})},Eu:function(b,a,c){this.N.sH(b,c);this.N.UR(b,a);this.trigger("textSelected",[a,c,b]);this.bo()},CM:function(b){this.Tp(b-1)},mF:function(b,a,c){for(var e=0;e<a.length;e++){var d=a[e];d.Ng&&(d=d.Ng());b.fillStyle=c;b.beginPath();b.moveTo(d.x1,d.y1);
b.lineTo(d.x2,d.y2);b.lineTo(d.x3,d.y3);b.lineTo(d.x4,d.y4);b.closePath();b.fill()}},MO:function(b,a){var c=this.N.Yd(b).gg;if(c&&0!==c.length){var e=a.getContext("2d");this.mF(e,c,this.TH);var d={Oe:function(){return c.map(function(b){return b.Ng()})}},l=this.N.PN(),m=!1,n=!1;b===l[0]&&(m=!0);b===l[l.length-1]&&(n=!0);e.save();l=new Annotations.Zj(d,!0,!1,m,n);m=this.uc(b);l.draw(e,d,this.fc(b),m);e.restore()}},LO:function(b,a){var c=this.N.Yd(b).bi;if(c&&0!==c.length){var e=a.getContext("2d"),d=
this;c.forEach(function(b){d.mF(e,b.quads,b===d.GC?d.Nw:d.Mz)})}},Tp:function(b,a){a=a||this.bj(b);null!==a&&(this.MO(b,a),this.LO(b,a))},bo:function(b){var a=this.N.RE();b&&b();b=this.N.RE();a=_.uniq(a.concat(b));for(b=0;b<a.length;++b){var c=a[b];this.Om?this.fa.Wc(c+1):(this.hD(c),this.Tp(c))}},select:function(b,a){if(null!==this.Jd&&null!==this.yb||b||a){this.N.lx();var e;b&&a?(b.Lb=b.pageIndex,b.x=b.x,b.y=b.y,a.Lb=a.pageIndex,a.x=a.x,a.y=a.y,e={first:b.Lb,last:a.Lb}):(console.error("deprecated"),
e=this.da.Gt());var d=e.first;e=e.last;if(null!==d&&null!==e){var h=new c.Ja,l=b||this.da.Cj(this.Jd,d),m=a||this.da.Cj(this.yb,d),n;l.y>m.y&&(n=l,l=m,m=n);n=this.nd(d);var q=this.md(d);1<=e-d?h.Pa(l.x,l.y,n,q):h.Pa(l.x,l.y,m.x,m.y);this.Pn(d,h,_.bind(this.Eu,this));for(l=d+1;l<e;l++)h=new c.Ja,n=this.nd(l),q=this.md(l),h.Pa(0,0,n,q),this.Pn(l,h,_.bind(this.Eu,this));d!==e&&(l=b||this.da.Cj(this.Jd,e),m=a||this.da.Cj(this.yb,e),l.y>m.y&&(m=l),h=new c.Ja,h.Pa(0,0,m.x,m.y),this.Pn(e,h,_.bind(this.Eu,
this)))}}},hD:function(b){if(0!==this.Ht().length||this.N.MN(b)){var c=this.bj(b);null!==c&&(a.o.Ma.hx(c,this.nd(b),this.md(b)),this.Om&&this.fa.Wc(b+1))}},gD:function(){this.N.lx();this.N.fD()},sp:function(){var b=this;this.bo(function(){b.gD();b.trigger("textSelected",[null,""]);b.It()instanceof Tools.Yl&&b.It().sp()})},iN:function(b,c,e){var d=[],h=b-1;b=this.N.Tf(h);if((b=this.Da.Jc(b))&&b.ae)for(c=this.ty({x:c,y:e},h),e=b.ve?this.ty({x:b.ve.x1,y:b.ve.y1},h):{x:0,y:0},h=a.utils.getCanvasMultiplier(),
c.x*=h,c.y*=h,e.x*=h,e.y*=h,c=Math.round(c.y-e.y)*b.ae.width+Math.round(c.x-e.x),b=b.ae.data,e=0;e<b.length;++e)if(h=b[e],"Alpha"!==h.name){var l=new Uint8Array(h.data);c<l.length&&0<=c&&d.push({name:h.name,value:Math.round(l[c]/255*100)})}return d},ty:function(b,c){var e=this.fc(c),d=this.Ne(c+1);b=a.ud(e,d,{width:this.nd(c),height:this.md(c)},null,!1).aa(b);return{x:b.x,y:b.y}},hO:function(b,c){var e=this.fc(c),d=this.qe(c+1);b=a.ud(e,d,this.v.Yc(c),0,!1).aa(b);return{x:b.x,y:b.y}},sg:{Fv:function(){var b=
this.Ft(),a=this.Qb(),c;c=1===this.da.sc().Kb?this.N.Yd(this.dc).width:this.da.Gm().za()/this.Og();return parseFloat(a.innerWidth()-b)/(c+1+this.xt()*this.da.sc().Kb*2)},LA:function(){var b=this.Qb(),a=this.N.Yd(this.dc),c=parseFloat(b.innerHeight())/(a.height+2*this.xt()),a=1===this.da.sc().Kb?a.width:this.da.Gm().za()/this.Og(),b=parseFloat(b.innerWidth()-this.Ft())/(a+1+this.xt()*this.da.sc().Kb*2);return c<b?c:b},Zoom:function(){this.Rw();return this.N.Vf}},bA:function(b){if(b&&this.wa!==b){b instanceof
Tools.Gl||b instanceof Tools.Yl||b instanceof Tools.Eo||this.sp();var a;this.wa&&(this.wa.switchOut&&this.wa.switchOut(b),a=this.wa);b.switchIn&&b.switchIn(this.wa);this.wa=b;this.trigger("toolModeUpdated",[b,a])}},hT:function(){var b=this.Qb();this.cH=parseFloat(b.scrollTop())/b[0].scrollHeight;this.bH=parseFloat(b.scrollLeft()+b.innerWidth()/2)/b[0].scrollWidth},gT:function(){var b=this.Qb(),a=this.cH*b[0].scrollHeight,b=this.bH*b[0].scrollWidth-b.innerWidth()/2;this.scrollTo(b,a)},Vz:function(b){null===
this.v?(this.mf=b,this.trigger("fitModeUpdated",this.mf)):(b=this.ms(b),this.da.sc().mode===a.o.Pd.rg?this.N.di(b):b!==this.N.Vf&&(this.ep(b),this.cx()))},ms:function(b){this.mf=b;b=this.mf();this.trigger("fitModeUpdated",this.mf);return b},rotate:function(b){var a;_.isUndefined(b)||(a=b+1);this.ep(this.mf(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.Ne(a),a])},kn:function(b,a){return a?(b+1)%4:(b-1+4)%4},ZQ:function(b){var a=this,c;_.isUndefined(b)?(this.N.Wz(this.kn(this.qe(),!0)),this.N.lE(function(b){b.rotation=
a.kn(b.rotation,!0)})):(c=b-1,this.N.Iq(c,this.kn(this.qe(b),!0)));this.rotate(c)},$Q:function(b){var a=this,c;_.isUndefined(b)?(this.N.Wz(this.kn(this.qe(),!1)),this.N.lE(function(b){b.rotation=a.kn(b.rotation,!1)})):(c=b-1,this.N.Iq(c,this.kn(this.qe(b),!1)));this.rotate(c)},ep:function(b,a,c,e){this.N.di(b);this.da.sc().Nn&&("undefined"!==typeof a&&"undefined"!==typeof c?(this.Yh(),this.da.ig(),this.da.zf(),this.scrollTo(a,c)):(this.hT(),this.Yh(!1,e),this.da.ig(),this.da.zf(),this.gT()),this.Da.gx(),
this.xl(),this.trigger("zoomUpdated",this.N.Vf))},DA:function(b,a,c){this.ms(this.sg.Zoom);null===this.v?(this.N.di(b),this.trigger("zoomUpdated",b)):this.ep(b,a,c)},ET:function(b,a,c){this.ms(this.sg.Zoom);this.N.di(b);b=this.Qb();a=this.yb.x-a;c=this.yb.y-c;var e=(parseFloat(b.scrollTop())+c)/b[0].scrollHeight,d=(parseFloat(b.scrollLeft())+a)/b[0].scrollWidth;this.Yh();this.da.ig();this.da.zf();this.scrollTo(d*b[0].scrollWidth-a,e*b[0].scrollHeight-c);this.xl();this.trigger("zoomUpdated",this.N.Vf)},
fc:function(b){return this.N.Yd(b).zoom},av:function(b,a){var c=this.N.Tf(b);this.Da.FT(c);this.N.av(b,a)},Yh:function(b,c){this.Da.VL(this.N.Vf,c);this.links=[];if(this.da.sc().mode!==a.o.Pd.rg){var e=this.Da.rd;if(c)this.N.KL();else for(var d=0;d<e.length;d++){var h=e[d],l;l=this.kI?$("#pageContainer"+h).find("#hrthumb"+h):$("#pageContainer"+h).find(".canvas"+h+":not(.progressive)");0<l.length&&this.N.Zz(h,l)}}this.da.Aq(!b)},KQ:function(b){if(this.da.sc().Nn){var a=$("#pageContainer"+b),c=$(document.activeElement);
0<c.closest("#pageWidgetContainer"+b).length&&c.trigger("focusout");a.children().detach()}b in this.links&&delete this.links[b]},ls:function(b){if(0>b||b>=this.N.J.length)return!1;this.dc!==b&&(this.dc=b,this.trigger("pageNumberUpdated",b+1));return!0},xe:function(b){if(!this.da.sc().Nn)this.trigger("changePage",b);else if(!1!==this.ls(parseInt(b,10)-1)){this.uD=!0;b=this.dc;var c=this.da.sc();c.Uy()||c.mode===a.o.Pd.rg||(this.da.sc().mode===a.o.Pd.er&&b++,c.Dd=Math.floor(parseFloat(b)/c.Kb),c.ad=
c.Dd,c.Qf=c.Dd+1,this.Yh(),this.da.ig(),this.da.zf());b=this.v.Yc(this.dc);0<this.Fp(this.dc)/90%2&&(c=b.width,b.width=b.height,b.height=c);var c=this.da.sf({x:0,y:0},this.dc),e=this.da.sf({x:b.width,y:b.height},this.dc);b=c.x<e.x?c.x:e.x;c=c.y<e.y?c.y:e.y;e=this.Qb().offset();this.scrollTo(b-e.left,c-this.ZE()-e.top);this.xl()}},Xm:function(){return this.dc+1},Gb:function(){return this.v.numPages},xM:function(){this.xe(this.N.J.length)},wM:function(){this.xe(1)},Rw:function(b){b=b||this.da.Gm().va();
var a=0,c=document.getElementById("docpad");if(null!==c){var e=this.Et(),e=e?parseFloat(e.style.height):0;e>b&&(a=Math.floor((e-b)/2));c.style.marginBottom=parseInt(a,10)+"px"}},mL:function(b,c){var e=this.fc(c),d=this.N.Yd(c),h=this.qe(c+1),l=Math.floor(d.width*e),e=Math.floor(d.height*e),d=null;h===a.o.Sa.Me||h===a.o.Sa.Pf?(d="rotate("+90*h+"deg)",d=h===a.o.Sa.Me?" translate("+l+"px, 0)  "+d:" translate(0,"+e+"px)  "+d,b.css("height",l),b.css("width",e)):(h===a.o.Sa.wp&&(d="translate("+l+"px,"+
e+"px) scale(-1,-1)"),b.css("width",l),b.css("height",e));null!==d&&b.css({position:"absolute",transform:d,"transform-origin":"top left","ms-transform":d,"ms-transform-origin":"top left","-moz-transform":d,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":d,"-o-transform":d,"-o-transform-origin":"top left"})},UC:function(b,c,e,d){this.trigger("appendThumb",c);b.id=(d?"hrthumb":"thumb")+c;b.style.position="absolute";var h=$(b);this.mL(h,c);e&&(h.css("z-index",
d?"10":"7"),e=$("#pageContainer"+c),0<e.length?0===e.find("#"+b.id).length&&e.prepend(b):a.utils.warn("appendThumb: Page container "+c+" missing"))},Xi:function(b){this.Bs(b);this.hD(b);this.$L(b);this.fa?(this.cT(b),this.fa.Wc(b+1,void 0,!0)):this.Tp(b)},jp:function(b,c){var e=a.o.Ma.jp(b,c);e||a.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return e},Bs:function(b){var c,e=this.Ey(b);e&&(c=e.ve);var e=this.v.Yc(b),d=this.Fp(b+1);if(90===d||270===d)d=e.width,e.width=
e.height,e.height=d;a.o.Ma.Bs(b,e,this.fc(b),this.Ne(b+1),c)},Tu:function(b,c){a.o.Ma.Tu(b,c)},$L:function(b){var c=this.v.Yc(b),e=c.width,c=c.height,d=this.v.Op(b);if(90===d||270===d)d=e,e=c,c=d;var d=this.fc(b)/a.utils.getCanvasMultiplier(),e=e*d,c=c*d,h=a.ud(1,this.Ne(b+1),{width:e,height:c}),d=$("#pageWidgetContainer"+b);0===d.length&&(d=$('<div id="pageWidgetContainer'+b+'" />'),a.o.Ma.cF(b).append(d));h="matrix("+h.m_a.toFixed(10)+","+h.m_b.toFixed(10)+","+h.m_c.toFixed(10)+","+h.m_d.toFixed(10)+
","+h.m_h.toFixed(10)+","+h.m_v.toFixed(10)+")";b=this.da.jy(b);d.css({position:"absolute",top:b.y,left:b.x,width:e,height:c,"z-index":40,transform:h,"transform-origin":"top left","-webkit-transform":h,"-webkit-transform-origin":"top left","-ms-transform":h,"-ms-transform-origin":"top left","-moz-transform":h,"-moz-transform-origin":"top left",overflow:"hidden"});return d},iy:function(b){return this.N.Yd(b)},FQ:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.Gb()+1),removed:[],
added:[],moved:{}});this.Da.gx()},GQ:function(b){this.trigger("layoutChanged",{contentChanged:[b],removed:[],added:[],moved:{}});this.Da.St(this.iy(b-1).id)},cT:function(b){b=this.v.KN(b);_.isArray(b)&&this.fa.Li(b,!0)},xl:function(b,a){_.isUndefined(a)||this.ls(a);this.co(b);this.Da.CD(b);this.cD()},co:function(b){b=b||this.da.Fd();var a=this.Da.oL(b);this.Da.co(b);a&&this.trigger("visiblePagesChanged",[b])},Yn:function(b){this.Da.Yn(b)},onscroll:function(){this.v&&this.Zh.tf("DocumentViewer.renderRequest",
{type:"pages",useVisiblePages:!0,check:!0});this.cD()},GO:function(b){return 0<$("#pageContainer"+b).find("#thumb"+b).length},DO:function(b){return 0<$("#pageContainer"+b).find("#hrthumb"+b).length},aT:function(){if(this.uD)this.uD=!1;else{var b=0,c;this.co();for(var e=this.Da.rd,d=0;d<e.length;d++){var h=this.Qb(),l=h.scrollTop()||0,m=l+h.innerHeight(),n=h.scrollLeft()||0,h=n+h.innerWidth(),m={x1:n,y1:l,x2:h,y2:m},h=e[d];0>h||(l=this.v.Yc(h),n=this.da.sf({x:0,y:0},h),h=this.da.sf({x:l.width,y:l.height},
h),m=a.utils.getRectIntersection(m,{x1:n.x<h.x?n.x:h.x,y1:n.y<h.y?n.y:h.y,x2:n.x>h.x?n.x:h.x,y2:n.y>h.y?n.y:h.y}),l=parseFloat((m.x2-m.x1)*(m.y2-m.y1))/(l.width*l.height),l>b&&(c=e[d],b=l))}0<b&&this.ls(c)}},eA:function(b){this.Da.eA(b)},vH:function(){},tl:function(b){this.Za=Promise.resolve(b);if(this.v){var a=this;this.Za.then(function(b){a.v.tl(b)})}},bF:function(){return this.Za}};$.extend(e.W.prototype,a.utils.eventHandler);Object.defineProperty(e.W.prototype,"zoom",{get:function(){return this.Og()},
set:function(b){this.N.di(b)}});a.o=a.o||{}})(window);window.o.W.prototype.version="3.3.0.66899";
(function(a){var d=a.Annotations||{};a.Annotations=d;d.O=d.O||{};d.O.getUsableInputWidth=function(a){return a};d.O.Jj=function(a){this.fa=a;this.init()};d.O.Jj.prototype={init:function(){this.jb={};this.Yw=[];this.tw=!1;this.Xn=this.PB=!0},sR:function(a){this.Yw=a},xb:function(a){if(!a)return null;a=a.split(".");var c=this.jb[a[0]];if(c)for(var b=1;b<a.length&&(c=c.Wx(a[b]),c);++b);return c?c:null},us:function(a,c){if(c){var b=this.zt(a.name);b.set(a);a=b;a.widgets.forEach(function(b){b.nH(a)});a.off("change")}else b=
a.name.split("."),1===b.length?this.jb[a.name]=a:this.zt(b.slice(0,-1).join(".")).KC(new d.O.ea(a.name,a));a.set({fieldManager:this});this.fa&&a.wf(this.fa.u);a.on("change",_.bind(this.Lx,this));return a},mp:function(a,c){if(!this.tw&&this.Xn){this.tw=!0;var b=this.Yw;if(!c||this.PB)c=0,this.PB=!1;for(var d=c;d<b.length;++d){var f=b[d],k=this.xb(f);k?k.trigger("calculate",[a]):console.warn("Non-existent field referenced in calculation order",f,k)}this.tw=!1}},Lx:function(a,c){this.mp(c,0);this.fa.trigger("fieldChanged",
[c,c.value])},zt:function(e){if(!e)return null;e=e.split(".");var c=this.jb[e[0]];c||(c=new a.Annotations.O.ea(e[0],{fieldManager:this}),c.on("change",_.bind(this.Lx,this)),this.jb[e[0]]=c);for(var b=1;b<e.length;++b){var d=e[b],f=c.Wx(d);f?c=f:(f=new a.Annotations.O.ea(c.name+"."+d,{fieldManager:this}),c.KC(f),c=f,c.on("change",_.bind(this.Lx,this)))}this.fa&&c.wf(this.fa.u);return c},Tq:function(a){this.Tm(function(c){c.wA(a)})},Tm:function(a){var c=this;Object.keys(this.jb).forEach(function(b){a(c.jb[b])})},
Uc:function(){this.Tm(function(a){a.off()});this.init()}}})(window);
(function(a){a.Annotations||(a.Annotations={});var d=a.Annotations;d.O=d.O||{};d.O.ea=function(e,c){if(c instanceof d.O.ea)return c;a.Actions.dh.call(this,c);this.oc=e;this.af=[];this.Mf=[];this.lk=!1;this.Hg=null;this.jm=new d.tg;this.Zb=new d.xi({mask:["ReadOnly","Required","NoExport"]});this.ef=-1;this.$b||(this.$b=new d.O.ea.Mb(this));this.initialize(c);this.on("calculate",_.bind(this.mp,this));this.on("commit",_.bind(this.nx,this))};d.O.ea.prototype={initialize:function(a){_.isObject(a)&&(a.type&&
this.xH(a.type),_.isArray(a.children)&&$.extend(this.af,a.children),a.widgets&&$.extend(this.Mf,a.widgets),a.fieldManager&&(this.Hg=a.fieldManager),a.font&&this.jm.set(a.font),_.isUndefined(a.maxLen)||(this.ef=Number(a.maxLen)),this.$b.set(a))},set:function(a){this.initialize(a);_.isObject(a)&&_.isObject(a.actions)&&this.rs(a.actions)},mE:function(a){this.Mf.forEach(a)},xH:function(a){"Tx"===a?this.$b=new d.O.ea.Sv(this,this.$b):"Ch"===a?this.$b=new d.O.ea.vv(this,this.$b):"Btn"===a?this.$b=new d.O.ea.tv(this,
this.$b):"Sig"===a?this.$b=new d.O.ea.Qv(this,this.$b):console.warn("Unrecognised field type: "+a);this.os=a},yf:function(a){this.Mf.forEach(function(c){c.yf(a)})},xE:function(){return this.af},pP:function(){return 0===this.af.length},fL:function(e,c){if(-1===this.Mf.indexOf(e))if(_.isUndefined(c))this.Mf.push(e);else{this.Mf[c]=e;for(var b=0;b<this.Mf.length;++b)this.Mf[b]||(this.Mf[b]=new a.Annotations.WidgetAnnotation(this,{}))}},Yf:function(a){this.$b.Yf(a)},zb:function(a,c){this.$b.zb(a,c)},
Va:function(){return this.$b.Va()},Ip:function(){return this.$b.Ip()},be:function(a){this.$b.be(a)},ws:function(a,c){this.$b.ws(a,c)},Lg:function(){return this.$b.Lg()},Xu:function(a){this.$b.Xu(a)},Ep:function(){return this.$b.Ep()},ny:function(){var a=this.oc.split(".");return a[a.length-1]},TN:function(){var a,c=this.oc.split(".");1<c.length&&(a=c.slice(0,c.length-1).join("."));return a},wA:function(a,c){var b=this.ny();(c=(c?c+".":"")+b)||(c="");if(this.pP()){if(a.rq){var d=!0;a.ht&&(a.ht(this)||
(d=!1));d&&a.rq(c,b,this)}}else{var f;a.ht?(f=[],this.af.forEach(function(b){a.ht(b)&&f.push(b)})):f=this.af;0<f.length&&(a.tu&&a.tu(c,b,this),f.forEach(function(b){b.wA(a,c)}),a.lz&&a.lz(c,b,this))}},Wx:function(a){for(var c=this.af,b=c.length,d=0;d<b;++d){var f=c[d];if(f.ny()===a)return f}if(a.match(/^\d+$/))return this.Mf[parseInt(a,10)]},removeChild:function(a){a=this.af.indexOf(a);-1!==a&&this.af.splice(a,1)},KC:function(a){var c=this.Wx(a.ny());c&&this.removeChild(c);this.af.push(a)},XG:function(){this.zb(this.Ep())},
mp:function(e,c){var b=new a.Annotations.O.sb.Events.ea.create("Calculate",this,{value:this.value,source:c,rc:!0}),d=this.Va();this.ye("C",b);var f=this.XV;this.ef=-1;var k=b.value;b.rc&&k!==d&&this.zb(k);this.ef=f},Ju:function(){this.mE(function(a){a.refresh()})},nx:function(e,c,b){e=a.Annotations.O.sb.Events.ea.create("Keystroke",this,{value:c,change:"",willCommit:!0,selStart:-1,selEnd:-1});this.ye("K",e);e.rc&&(c=a.Annotations.O.sb.Events.Ym(e),e=new a.Annotations.O.sb.Events.ea.create("Validate",
this,{value:c}),this.ye("V",e),e.rc&&this.zb(e.value,b))},ce:function(a){this.$b.ce(a)}};$.extend(d.O.ea.prototype,Object.create(a.utils.eventHandler));Object.defineProperties(d.O.ea.prototype,{name:{get:function(){return this.oc}},value:{get:function(){return this.Va()},set:function(a){this.zb(a)}},widgets:{get:function(){return this.Mf}},children:{get:function(){return this.af}},options:{get:function(){return this.Lg()},set:function(a){this.be(a)}},exportValue:{get:function(){return this.Ip()}},
actions:{get:function(){return this.Hk()}},defaultValue:{get:function(){return this.Ep()},set:function(a){this.Xu(a)}},flags:{get:function(){return this.$b.Zb}},IsModified:{set:function(a){a!==this.lk&&this.af.forEach(function(c){c.IsModified=a});this.lk=a},get:function(){return this.lk||this.af.reduce(function(a,c){return a||c.IsModified},!1)}},font:{get:function(){return this.jm}},maxLen:{get:function(){return this.ef},set:function(a){this.ef=Number(a);0<this.ef&&this.zb(this.Va())}},type:{get:function(){return this.os}},
userName:{get:function(){return this.QK},set:function(a){this.QK=a}}});$.extend(d.O.ea.prototype,a.Actions.dh.prototype);d.O.ea.Mb=function(a){this.Fa=a;this._value=this.lw="";this.Zb=new d.xi({mask:["ReadOnly","Required","NoExport"]})};d.O.ea.Mb.prototype={zb:function(e,c){var b=this.Fa,d=typeof e;"number"===d?e=a.Annotations.ba.toFixed(e,6):e&&"string"!==d&&(e=e.toString());d=this._value!==e;this.ce(e);d&&(e=this._value,this.dA(e,c),b.IsModified=!0,b.trigger("change",[b]))},dA:function(a){this.Fa.mE(function(c){c.zb(a)})},
ce:function(a){this._value=a},Yf:function(a){this.ce(a)},set:function(a){_.isObject(a)&&(_.isNull(a.value)||_.isUndefined(a.value)||(this._value=a.value),_.isNull(a.defaultValue)||_.isUndefined(a.defaultValue)||(this.lw=a.defaultValue),a.flags&&(_.isArray(a.flags)?this.Zb.set(a.flags,!0):_.isObject(a.flags)&&this.Zb.set(a.flags.toArray(),!0)))},Va:function(){return this._value},Ep:function(){return this.lw},Xu:function(a){this.lw=a},ws:function(){},Lg:function(){return null},be:function(){},Ip:function(){return this._value}};
Object.defineProperties(d.O.ea.Mb.prototype,{value:{get:function(){return this.Va()},set:function(a){this.zb(a)}},defaultValue:{get:function(){return this.Ep()},set:function(a){this.Xu(a)}}});d.O.ea.Sv=function(a,c){if(c instanceof d.O.ea.Sv)return c;d.O.ea.Mb.call(this,a);this.Zb.Ap("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(c)};d.O.ea.Sv.prototype=$.extend(Object.create(d.O.ea.Mb.prototype),{ce:function(a){var c=this.Fa.maxLen;0<c&&!_.isNull(a)&&
(a=String(a),a.length>c&&(a=a.slice(0,c)));d.O.ea.Mb.prototype.ce.call(this,a)}});d.O.ea.vv=function(a,c){if(c instanceof d.O.ea.vv)return c;d.O.ea.Mb.call(this,a);this.Zb.Ap("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.gf=[];this.set(c)};d.O.ea.vv.prototype=$.extend(Object.create(d.O.ea.Mb.prototype),{set:function(a){_.isObject(a)&&a.options&&this.be(a.options);d.O.ea.Mb.prototype.set.call(this,a)},IN:function(a){for(var c=0;c<this.gf.length;++c){var b=this.gf[c];
if(b.value===a)return b}return null},ce:function(a){this.Zb.get("Edit")||!_.isNull(this.IN(a))?d.O.ea.Mb.prototype.ce.call(this,a):(a=this.gf[0])?d.O.ea.Mb.prototype.ce.call(this,a.value):d.O.ea.Mb.prototype.ce.call(this,null)},Lg:function(){return this.gf},ws:function(a,c){for(var b=this.gf,d=0;d<b.length;++d)if(b[d].value===b.value)return;this.gf.splice(c,0,a);this.Zb.get("Combo")||this.zb(a.value)},be:function(a){this.gf=a.map(function(a){var b=a.value;a=a.displayValue;return{value:b,displayValue:_.isUndefined(a)?
b:a}})}});d.O.ea.tv=function(a,c){if(c instanceof d.O.ea.tv)return c;d.O.ea.Mb.call(this,a);this.Zb.Ap(["NoToggleToOff","Radio","PushButton","RadiosInUnison"]);this.gf=null;this.set(c);""===this._value&&(this._value="Off")};d.O.ea.tv.prototype=$.extend(Object.create(d.O.ea.Mb.prototype),{set:function(a){d.O.ea.Mb.prototype.set.call(this,a);_.isObject(a)&&a.options&&this.be(a.options)},Lg:function(){return this.gf},Yf:function(a){(""===this._value||"Off"!==a||this.Fa.widgets.every(function(a){return!a.appearance}))&&
d.O.ea.Mb.prototype.Yf.call(this,a)},ce:function(a){"Off"!==a?""===a?d.O.ea.Mb.prototype.ce.call(this,"Off"):d.O.ea.Mb.prototype.ce.call(this,a):this.Zb.get("NoToggleToOff")&&this.Zb.get("Radio")||d.O.ea.Mb.prototype.ce.call(this,a)},Ip:function(){return this.gf?this.gf[Number(this.Va())]:d.O.ea.Mb.prototype.Ip.call(this)},be:function(a){this.gf=a.slice()},dA:function(a,c){d.O.ea.Mb.prototype.dA.call(this,a,c)}});d.O.ea.Qv=function(a,c){if(c instanceof d.O.ea.Qv)return c;d.O.ea.Mb.call(this,a);this.set(c)};
d.O.ea.Qv.prototype=$.extend(Object.create(d.O.ea.Mb.prototype),{})})(window);
(function(a){function d(b){return _.isArray(b)?b.map(d).join(" "):_.isNumber(b)?b.toString():_.escape(String(b))}function e(b,a,c,e){c!==e&&b.writeAttributeString(a,d(c))}function c(b,a,c){var g=c.Cq||[];c=c.Bn||{};for(var f=0;f<g.length;++f){var h=g[f],k=a[h];_.isUndefined(a)?console.warn("Required attribute: "+h+" is undefined"):b.writeAttributeString(h,d(k))}for(var l in c)c.hasOwnProperty(l)&&e(b,l,a[l],c[l])}function b(b,a,f,h){h=h||"actions";var k=Object.keys(a);if(0<k.length){b.writeStartElement(h);
for(h=0;h<k.length;++h)b.writeStartElement("action"),b.writeAttributeString("trigger",_.escape(k[h])),a[k[h]].forEach(function(a){var h=a.name;switch(h){case "JavaScript":b.writeStartElement("javascript");b.writeString(d(a.javascript));b.writeEndElement();break;case "ResetForm":b.writeStartElement("reset-form");c(b,a,{Cq:["exclude"]});a.fields&&g(b,a.fields);b.writeEndElement();break;case "SubmitForm":b.writeStartElement("submit-form");c(b,a,{Cq:["url","format"],Bn:{method:"POST",exclude:!1}});h=
a.flags.toArray();0<h.length&&b.writeAttributeString("flags",d(h));a=a.fields;0<a.length&&g(b,a);b.writeEndElement();break;case "GoTo":b.writeStartElement("goto");b.writeStartElement("dest");a=a.dest;c(b,a,{Cq:["fit","page"],Bn:{zoom:void 0}});var k=f(a.page).inverse(),h=a.top||0,l=a.left||0,n=a.bottom||0,r=a.right||0,l=k.aa({x:l,y:h}),k=k.aa({x:r,y:n}),h=_.isUndefined(a.top)?null:l.y,l=_.isUndefined(a.left)?null:l.x,r=_.isUndefined(a.right)?null:k.x,n=_.isUndefined(a.bottom)?null:k.y;e(b,"top",h,
null);e(b,"left",l,null);e(b,"right",r,null);e(b,"bottom",n,null);b.writeEndElement();b.writeEndElement();break;case "URI":b.writeStartElement("uri");c(b,a,{Cq:["uri"]});b.writeEndElement();break;case "Hide":b.writeStartElement("hide");c(b,a,{Bn:{hide:!0}});g(b,a.fields);b.writeEndElement();break;case "Named":b.writeStartElement("named");b.writeAttributeString("name",_.escape(a.action));b.writeEndElement();break;default:console.warn("Unrecognised action name"+h)}}),b.writeEndElement();b.writeEndElement()}}
function g(b,a,c){c||(c="fields");b.writeStartElement(c);c=a.length;for(var e=0;e<c;++e){var d=b,g=a[e];d.writeStartElement("ffield");d.writeAttributeString("name",_.escape(g));d.writeEndElement()}b.writeEndElement()}function f(b,a,c,d){if(d||!a.FF())b.writeStartElement(c),e(b,"r",a.R,0),e(b,"g",a.G,0),e(b,"b",a.B,0),e(b,"a",a.A,1),b.writeEndElement()}function k(b,a,d){if(a&&(0!==a.size||""!==a.name||"Type1"!==a.type||!a.Uk())){b.writeStartElement("font");c(b,a,{Bn:{type:"Type1",name:""}});var g=
a.size,h=d.inverse();d=h.aa({x:0,y:0});h=h.aa({x:g,y:0});g=d.x-h.x;d=d.y-h.y;e(b,"size",Math.sqrt(g*g+d*d),0);d=a.fillColor;d.Uk()||f(b,d,"fill-color",!0);a=a.strokeColor;a.Uk()||f(b,a,"stroke-color",!0);b.writeEndElement()}}function h(b,a,c){b.writeStartElement("aappearance");b.writeAttributeString("name",a);Object.keys(c).forEach(function(a){b.writeStartElement(a);b.writeString(d(c[a].data||""));b.writeEndElement()});b.writeEndElement()}a.We=a.We||{};var l=a.We;l.Gh=function(b,a){var c;a in b?c=
b[a]:(c={},b[a]=c);return c};l.parse=function(b,a,c,e){var d={calculationOrder:[],widgets:[],fields:{},pages:[],documentActions:{}},g=b.ta();"pdf-info"!==g?(console.warn("pdf-info missing. found: "+g),c(d)):(g=b.K("version"),"1"===g?l.UJ.parse(b,a,c,e):"2"===g?l.aB.parse(b,a,c,e):(console.warn("PDFInfo version is incorrect: "+g),c(d)))};l.pI=function(b,a){if(a)for(var c in a){var g=a[c],f;for(f in g){var h=g[f];"objnum"in h&&(b.writeStartElement("apref"),e(b,"appearance-state",c,"_DEFAULT"),e(b,"annotation-state",
f,"Normal"),b.writeAttributeString("gennum",d(h.gennum)),b.writeAttributeString("objnum",d(h.objnum)),b.writeEndElement())}}};l.write=function(a,n,q){a.writeStartElement("pdf-info");a.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");a.writeAttributeString("version","2");var r=n.calculationOrder;_.isArray(r)&&0<r.length&&g(a,r,"calculation-order");b(a,n.documentActions,q,"document-actions");r=n.pages;if(0<r.length){a.writeStartElement("pages");for(var v=0;v<r.length;++v){var p=a,u=r[v],
w=q;p.writeStartElement("page");p.writeAttributeString("number",d(u.number));b(p,u.actions,w);p.writeEndElement()}a.writeEndElement()}v=n.fields;p=Object.keys(v);for(r=0;r<p.length;++r){var u=a,z=v[p[r]],w=q;u.writeStartElement("ffield");c(u,z,{Bn:{},Cq:["type","name"]});var C=z.flags.toArray();0<C.length&&u.writeAttributeString("flags",d(C));C=z.maxLen;-1!==C&&u.writeAttributeString("max-len",d(C));b(u,z.Hk(),w);(C=z.defaultValue)&&u.writeElementString("default-value",d(C));k(u,z.font,w(1));w=u;
if((z=z.options)&&0<z.length){w.writeStartElement("options");for(var C=z.length,A=0;A<C;++A){w.writeStartElement("option");var y=z[A].displayValue,x=z[A].value;y===x||_.isUndefined(y)||w.writeAttributeString("display-value",d(y));w.writeAttributeString("value",d(x));w.writeEndElement()}w.writeEndElement()}u.writeEndElement()}n=n.widgets;for(r=0;r<n.length;++r){v=a;p=n[r];u=q;v.writeStartElement("widget");c(v,p,{Bn:{appearance:"",rotation:0,quadding:"Left-justified"}});w=p;w=w.xb().widgets.indexOf(w);
w=d(w);"0"!==w&&v.writeAttributeString("index",w);v.writeAttributeString("field",d(p.xb().name));w=p.flags.toArray();0<w.length&&v.writeAttributeString("flags",d(w));C=p.PageNumber;v.writeAttributeString("page",d(C));w=v;z=p.rect;C=u(C);w.writeStartElement("rect");A=C.inverse();C=A.aa({x:z.x1,y:z.y1});z=A.aa({x:z.x2,y:z.y2});A={};A.x1=_.min([C.x,z.x]);A.x2=_.max([C.x,z.x]);A.y1=_.min([C.y,z.y]);A.y2=_.max([C.y,z.y]);w.writeAttributeString("x1",d(Number(Number(A.x1).toFixed(4))));w.writeAttributeString("x2",
d(Number(Number(A.x2).toFixed(4))));w.writeAttributeString("y1",d(Number(Number(A.y1).toFixed(4))));w.writeAttributeString("y2",d(Number(Number(A.y2).toFixed(4))));w.writeEndElement();w=v;!(z=p.border)||z.color.FF()&&1===z.width&&"Solid"===z.style||(w.writeStartElement("border"),e(w,"width",z.width,1),e(w,"style",z.style,"Solid"),z=z.color,z.Uk()||f(w,z,"color",!0),w.writeEndElement());f(v,p.backgroundColor,"background-color");b(v,p.Hk(),u);l.pI(v,p.appearances);w=v;z=p.appearances;C=Object.keys(z);
if(A=0<C.length)A=z[C[0]],A=0===Object.keys(A).length||"Normal"in A&&!!A.Normal.data;if(A){w.writeStartElement("appearances");A=C.length;for(y=0;y<A;++y)x=C[y],h(w,x,z[x]);w.writeEndElement()}w=v;z=p;z.BO()&&(w.writeStartElement("extra"),k(w,z.font,u(1)),w.writeEndElement());u=v;p=p.captions;w=p.Rollover;z=p.Down;if(p.Normal||w||z)u.writeStartElement("captions"),e(u,"Normal",p.Normal,""),e(u,"Rollover",p.Rollover,""),e(u,"Down",p.Down,""),u.writeEndElement();v.writeEndElement()}a.writeEndElement()}})(window);
(function(a){function d(b){var a=[];for(b.ma();b.advance();){var c=b.ta();"field"===c?a.push(String(b.K("name"))):console.warn("unrecognised field list element: "+c)}b.ya();return a}function e(b,a){return a?"false"===b?!1:!0:"true"===b?!0:!1}function c(b,a){var c=b.ta();switch(c){case "javascript":return{name:"JavaScript",javascript:b.current.textContent};case "uri":return{name:"URI",uri:b.K("uri")};case "goto":c=null;b.ma();if(b.advance()){var g=b.K("fit"),c={page:b.K("page"),fit:g};if("0"===c.page)console.warn("null page encountered in dest");
else{var f=a(Number(c.page));switch(g){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=f.aa({x:0,y:b.K("top")||0}).y;break;case "FitV":case "FitBV":c.left=f.aa({x:b.K("left")||0,y:0}).x;break;case "FitR":g=f.aa({x:b.K("left")||0,y:b.K("top")||0});f=f.aa({x:b.K("right")||0,y:b.K("bottom")||0});f=new Annotations.Rect(g.x,g.y,f.x,f.y);c.top=f.y1;c.left=f.x1;c.bottom=f.y2;c.right=f.x2;break;case "XYZ":g=f.aa({x:b.K("left")||0,y:b.K("top")||0});c.top=g.y;c.left=g.x;c.zoom=b.K("zoom")||0;break;
default:console.warn("unknown dest fit: "+g)}}c={name:"GoTo",dest:c}}else console.nT("missing dest in GoTo action");b.ya();return c;case "submit-form":c={name:"SubmitForm",url:b.K("url"),format:b.K("format"),method:b.K("method")||"POST",exclude:e(b.K("exclude"),!1)};f=b.K("flags");c.flags=f?f.split(" "):[];for(b.ma();b.advance();)switch(f=b.ta(),f){case "fields":c.fields=d(b);break;default:console.warn("unrecognised submit-form child: "+f)}b.ya();return c;case "reset-form":c={name:"ResetForm",exclude:e(b.K("exclude"),
!1)};for(b.ma();b.advance();)switch(f=b.ta(),f){case "fields":c.fields=d(b);break;default:console.warn("unrecognised reset-form child: "+f)}b.ya();return c;case "hide":c={name:"Hide",hide:e(b.K("hide"),!0)};for(b.ma();b.advance();)switch(f=b.ta(),f){case "fields":c.fields=d(b);break;default:console.warn("unrecognised hide child: "+f)}b.ya();return c;case "named":return{name:"Named",action:b.K("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(b,a,e){var d=
{};for(b.ma();b.advance();){var g=b.ta();switch(g){case "action":g=b.K("trigger");if(a?-1!==a.indexOf(g):1){d[g]=[];for(b.ma();b.advance();){var f=c(b,e);_.isNull(f)||d[g].push(f)}b.ya()}else console.warn("encountered unexpected trigger on field: "+g);break;default:console.warn("encountered unknown action child: "+g)}}b.ya();return d}function g(b){return"calculation-order"===b.ta()?d(b):[]}function f(b){return new a.Annotations.Color(b.K("r")||0,b.K("g")||0,b.K("b")||0,b.K("a")||1)}function k(b,a){var c=
b.K("name"),e=b.K("type")||"Type1",d=b.K("size"),g=a.aa({x:0,y:0}),h=a.aa({x:Number(d),y:0}),d=g.x-h.x,g=g.y-h.y,c={name:c,type:e,size:Math.sqrt(d*d+g*g)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(b.ma();b.advance();)switch(e=b.ta(),e){case "stroke-color":c.strokeColor=f(b);break;case "fill-color":c.fillColor=f(b);break;default:console.warn("unrecognised font child: "+e)}b.ya();return c}function h(a,c){var e={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.K("field"),page:a.K("page"),
index:a.K("index")||0,rotation:a.K("rotation")||0,flags:[]},d=a.K("appearance");d&&(e.appearance=d);(d=a.K("flags"))&&(e.flags=d.split(" "));for(a.ma();a.advance();)switch(d=a.ta(),d){case "rect":var g=a,h=c(Number(e.page)),d=h.aa({x:g.K("x1")||0,y:g.K("y1")||0}),g=h.aa({x:g.K("x2")||0,y:g.K("y2")||0}),d=new Annotations.Rect(d.x,d.y,g.x,g.y);d.normalize();e.rect={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2};break;case "border":d=a;g={style:d.K("style")||"Solid",width:d.K("width")||1,color:[0,0,0]};for(d.ma();d.advance();)switch(h=
d.ta(),h){case "color":g.color=f(d);break;default:console.warn("unrecognised border child: "+h)}d.ya();e.border=g;break;case "background-color":e.backgroundColor=f(a);break;case "actions":e.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":d=a;g=r.Gh(e,"appearances");for(d.ma();d.advance();)if(h=d.ta(),"appearance"===h){var h=d.K("name"),l=r.Gh(g,h),h=d;for(h.ma();h.advance();){var m=h.ta();switch(m){case "Normal":r.Gh(l,"Normal").data=h.current.textContent;break;default:console.warn("unexpected appearance state: ",
m)}}h.ya()}else console.warn("unexpected appearances child: "+h);d.ya();break;case "extra":d=a;g=c;h={};for(d.ma();d.advance();)switch(l=d.ta(),l){case "font":h.font=k(d,g(1));break;default:console.warn("unrecognised extra child: "+l)}d.ya();d=h;d.font&&(e.font=d.font);break;case "captions":g=a;d={};(h=g.K("Normal"))&&(d.Normal=h);(h=g.K("Rollover"))&&(d.Rollover=h);(g=g.K("Down"))&&(d.Down=g);e.captions=d;break;default:console.warn("unrecognised widget child: "+d)}a.ya();return e}function l(b){var a=
{value:b.K("value")};(b=b.K("display-value"))&&(a.displayValue=b);return a}function m(c,e){var d=c.K("name"),g={type:c.K("type"),quadding:c.K("quadding")||"Left-justified",maxLen:c.K("max-len")||-1},f=c.K("flags");_.isString(f)&&(g.flags=f.split(" "));for(c.ma();c.advance();)switch(f=c.ta(),f){case "actions":g.actions=b(c,["C","F","K","V"],e);break;case "default-value":f=c;f.ma();f.advance();var h=f.current.textContent;f.ya();g.defaultValue=h;break;case "font":g.font=k(c,e);break;case "options":f=
c;h=[];for(f.ma();f.advance();){var m=f.ta();switch(m){case "option":h.push(l(f));break;default:console.warn("unrecognised options child: "+m)}}f.ya();g.options=h;break;default:console.warn("unknown field child: "+f)}c.ya();return new a.Annotations.O.ea(d,g)}function n(b,c){switch(b.type){case "Tx":return new a.Annotations.$j(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.qg(b,c):new a.Annotations.oi(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Pj(b,c):b.flags.get("Radio")?
new a.Annotations.Qj(b,c):new a.Annotations.li(b,c);case "Sig":return new a.Annotations.Vj(b,c);default:console.warn("Unrecognised field type: "+b.type)}return null}function q(a,c){var e={number:a.K("number")};for(a.ma();a.advance();){var d=a.ta();switch(d){case "actions":e.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+d)}}a.ya();return e}a.We=a.We||{};var r=a.We;r.UJ={parse:function(c,e,d,f){var k=[],l={};c.ma();var r=[],y={},x=[];a.busyLoop(function(){var a,d;if(c.advance()){a=
c.ta();switch(a){case "calculation-order":r=g(c);break;case "document-actions":y=b(c,["Init","Open"],e);break;case "pages":a=[];for(c.ma();c.advance();)switch(d=c.ta(),d){case "page":a.push(q(c,e));break;default:console.warn("unrecognised page child: "+d)}c.ya();x=a;break;case "field":a=m(c,e(1));l[a.name]=a;break;case "widget":d=h(c,e);(a=l[d.fieldName])?(a=n(a,d),k.push(a)):console.warn("ignoring widget with no corresponding field data: "+d.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+
a)}return!0}return!1},function(){c.ya();d({calculationOrder:r,widgets:k,fields:l,documentActions:y,pages:x})},f)},kQ:m,mQ:h,qG:g}})(window);
(function(a){function d(b){var a=[];for(b.ma();b.advance();){var c=b.ta();"ffield"===c?a.push(String(b.K("name"))):console.warn("unrecognised field list element: "+c)}b.ya();return a}function e(b,a){return a?"false"===b?!1:!0:"true"===b?!0:!1}function c(b,a){var c=b.ta();switch(c){case "javascript":return{name:"JavaScript",javascript:b.current.textContent};case "uri":return{name:"URI",uri:b.K("uri")};case "goto":c=null;b.ma();if(b.advance()){var g=b.K("fit"),c={page:b.K("page"),fit:g};if("0"===c.page)console.warn("null page encountered in dest");
else{var f=a(Number(c.page));switch(g){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=f.aa({x:0,y:b.K("top")||0}).y;break;case "FitV":case "FitBV":c.left=f.aa({x:b.K("left")||0,y:0}).x;break;case "FitR":g=f.aa({x:b.K("left")||0,y:b.K("top")||0});f=f.aa({x:b.K("right")||0,y:b.K("bottom")||0});f=new Annotations.Rect(g.x,g.y,f.x,f.y);c.top=f.y1;c.left=f.x1;c.bottom=f.y2;c.right=f.x2;break;case "XYZ":g=f.aa({x:b.K("left")||0,y:b.K("top")||0});c.top=g.y;c.left=g.x;c.zoom=b.K("zoom")||0;break;
default:console.warn("unknown dest fit: "+g)}}c={name:"GoTo",dest:c}}else console.nT("missing dest in GoTo action");b.ya();return c;case "submit-form":c={name:"SubmitForm",url:b.K("url"),format:b.K("format"),method:b.K("method")||"POST",exclude:e(b.K("exclude"),!1)};f=b.K("flags");c.flags=f?f.split(" "):[];for(b.ma();b.advance();)switch(f=b.ta(),f){case "fields":c.fields=d(b);break;default:console.warn("unrecognised submit-form child: "+f)}b.ya();return c;case "reset-form":c={name:"ResetForm",exclude:e(b.K("exclude"),
!1)};for(b.ma();b.advance();)switch(f=b.ta(),f){case "fields":c.fields=d(b);break;default:console.warn("unrecognised reset-form child: "+f)}b.ya();return c;case "hide":c={name:"Hide",hide:e(b.K("hide"),!0)};for(b.ma();b.advance();)switch(f=b.ta(),f){case "fields":c.fields=d(b);break;default:console.warn("unrecognised hide child: "+f)}b.ya();return c;case "named":return{name:"Named",action:b.K("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(b,a,e){var d=
{};for(b.ma();b.advance();){var g=b.ta();switch(g){case "action":g=b.K("trigger");if(a?-1!==a.indexOf(g):1){d[g]=[];for(b.ma();b.advance();){var f=c(b,e);_.isNull(f)||d[g].push(f)}b.ya()}else console.warn("encountered unexpected trigger on field: "+g);break;default:console.warn("encountered unknown action child: "+g)}}b.ya();return d}function g(b){return"calculation-order"===b.ta()?d(b):[]}function f(b){return new a.Annotations.Color(b.K("r")||0,b.K("g")||0,b.K("b")||0,b.K("a")||1)}function k(b,a){var c=
v.Gh(a,"appearances"),e=b.K("appearance-state")||"_DEFAULT",d=b.K("annotation-state")||"Normal",g=Number(b.K("objnum")),f=Number(b.K("gennum")),c=v.Gh(c,e),d=v.Gh(c,d);d.objnum=g;d.gennum=f}function h(b,a){var c=b.K("name"),e=b.K("type")||"Type1",d=b.K("size"),g=a.aa({x:0,y:0}),h=a.aa({x:Number(d),y:0}),d=g.x-h.x,g=g.y-h.y,c={name:c,type:e,size:Math.sqrt(d*d+g*g)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(b.ma();b.advance();)switch(e=b.ta(),e){case "stroke-color":c.strokeColor=f(b);break;case "fill-color":c.fillColor=
f(b);break;default:console.warn("unrecognised font child: "+e)}b.ya();return c}function l(a,c){var e={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.K("field"),page:a.K("page"),index:a.K("index")||0,rotation:a.K("rotation")||0,quadding:a.K("quadding")||"Left-justified",flags:[]},d=a.K("appearance");d&&(e.appearance=d);(d=a.K("flags"))&&(e.flags=d.split(" "));for(a.ma();a.advance();)switch(d=a.ta(),d){case "rect":var g=a,l=c(Number(e.page)),d=l.aa({x:g.K("x1")||0,y:g.K("y1")||0}),g=
l.aa({x:g.K("x2")||0,y:g.K("y2")||0}),d=new Annotations.Rect(d.x,d.y,g.x,g.y);d.normalize();e.rect={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2};break;case "border":d=a;g={style:d.K("style")||"Solid",width:d.K("width")||1,color:[0,0,0]};for(d.ma();d.advance();)switch(l=d.ta(),l){case "color":g.color=f(d);break;default:console.warn("unrecognised border child: "+l)}d.ya();e.border=g;break;case "background-color":e.backgroundColor=f(a);break;case "actions":e.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);
break;case "appearances":d=a;g=v.Gh(e,"appearances");for(d.ma();d.advance();)if(l=d.ta(),"aappearance"===l){var l=d.K("name"),m=v.Gh(g,l),l=d;for(l.ma();l.advance();){var n=l.ta();switch(n){case "Normal":v.Gh(m,"Normal").data=l.current.textContent;break;default:console.warn("unexpected appearance state: ",n)}}l.ya()}else console.warn("unexpected appearances child: "+l);d.ya();break;case "apref":k(a,e);break;case "extra":d=a;g=c;l={};for(d.ma();d.advance();)switch(m=d.ta(),m){case "font":l.font=h(d,
g(1));break;default:console.warn("unrecognised extra child: "+m)}d.ya();d=l;d.font&&(e.font=d.font);break;case "captions":g=a;d={};(l=g.K("Normal"))&&(d.Normal=l);(l=g.K("Rollover"))&&(d.Rollover=l);(g=g.K("Down"))&&(d.Down=g);e.captions=d;break;default:console.warn("unrecognised widget child: "+d)}a.ya();return e}function m(b){var a={value:b.K("value")};(b=b.K("display-value"))&&(a.displayValue=b);return a}function n(c,e){var d=c.K("name"),g={type:c.K("type"),maxLen:c.K("max-len")||-1},f=c.K("flags");
_.isString(f)&&(g.flags=f.split(" "));for(c.ma();c.advance();)switch(f=c.ta(),f){case "actions":g.actions=b(c,["C","F","K","V"],e);break;case "default-value":f=c;f.ma();f.advance();var k=f.current.textContent;f.ya();g.defaultValue=k;break;case "font":g.font=h(c,e);break;case "options":f=c;k=[];for(f.ma();f.advance();){var l=f.ta();switch(l){case "option":k.push(m(f));break;default:console.warn("unrecognised options child: "+l)}}f.ya();g.options=k;break;default:console.warn("unknown field child: "+
f)}c.ya();return new a.Annotations.O.ea(d,g)}function q(b,c){switch(b.type){case "Tx":return new a.Annotations.$j(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.qg(b,c):new a.Annotations.oi(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Pj(b,c):b.flags.get("Radio")?new a.Annotations.Qj(b,c):new a.Annotations.li(b,c);case "Sig":return new a.Annotations.Vj(b,c);default:console.warn("Unrecognised field type: "+b.type)}return null}function r(a,c){var e={number:a.K("number")};
for(a.ma();a.advance();){var d=a.ta();switch(d){case "actions":e.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+d)}}a.ya();return e}a.We=a.We||{};var v=a.We;v.aB={parse:function(c,e,d,f){var h=[],k={};c.ma();var m=[],v={},E=[];a.busyLoop(function(){var a,d;if(c.advance()){a=c.ta();switch(a){case "calculation-order":m=g(c);break;case "document-actions":v=b(c,["Init","Open"],e);break;case "pages":a=[];for(c.ma();c.advance();)switch(d=c.ta(),d){case "page":a.push(r(c,
e));break;default:console.warn("unrecognised page child: "+d)}c.ya();E=a;break;case "ffield":a=n(c,e(1));k[a.name]=a;break;case "widget":d=l(c,e);(a=k[d.fieldName])?(a=q(a,d),h.push(a)):console.warn("ignoring widget with no corresponding field data: "+d.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){c.ya();d({calculationOrder:m,widgets:h,fields:k,documentActions:v,pages:E})},f)},XU:q,kQ:n,mQ:l,qG:g,UK:k}})(window);
(function(a){a.Annotations=a.Annotations||{};a.Annotations.O=a.Annotations.O||{};a.Annotations.O.sb=a.Annotations.O.sb||{};a=a.Annotations.O.sb;a.Events={};var d=a.Events;d.Event=function(a){this.rc=!0;_.isObject(a)&&(_.isString(a.name)&&Object.defineProperty(this,"name",{value:a.name,enumerable:!0}),_.isString(a.type)&&Object.defineProperty(this,"type",{value:a.type,enumerable:!0}))};d.Ym=function(a){var b=String(a.value),e=a.change,d=b.slice(0,a.selStart),k=b.slice(a.selEnd);if(_.isObject(a.change)){var h=
a.selStart;a=a.selEnd;h===a&&("backspace"===e.type?d=b.slice(0,h-1):"delete"===e.type&&(k=b.slice(a+1)));e=""}return d+e+k};var e={Validate:function(a){d.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Calculate:function(a){d.Event.call(this,a);var b,e;_.isObject(a)&&(b=a.value,e=a.source);Object.defineProperties(this,{value:{value:b,writable:!0,enumerable:!0},source:{value:e,enumerable:!0}})},Format:function(a){d.Event.call(this,
a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Keystroke:function(a){d.Event.call(this,a);var b,e,f,k,h;_.isObject(a)&&(b=a.value,e=a.change,f=a.selStart,k=a.selEnd,h=a.willCommit);b="undefined"!==typeof b?b:"";e="undefined"!==typeof e||_.isString(e)?e:"";k="undefined"!==typeof k?k:b.length;Object.defineProperties(this,{value:{value:b,writable:!0,enumerable:!0},change:{value:e,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof f?
f:0,writable:!0,enumerable:!0},selEnd:{value:k,writable:!0,enumerable:!0},willCommit:{value:h||!1,enumerable:!0}})},"Mouse Enter":function(a){d.Event.call(this,a)},"Mouse Leave":function(a){d.Event.call(this,a)},"Mouse Up":function(a){d.Event.call(this,a)},"Mouse Down":function(a){d.Event.call(this,a)},Focus:function(a){d.Event.call(this,a)},Blur:function(a){d.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Open:function(a){d.Event.call(this,
a);var b;_.isObject(a)&&(b=a.targetName);Object.defineProperty(this,"targetName",{value:b||"",writable:!0,enumerable:!0})},Close:function(a){d.Event.call(this,a)}};d.create=function(a,b){return e[a]?new e[a](b):null};d.ea={create:function(a,b,e){e=$.extend({name:a,type:"Field",value:b.Va()},e);return(a=d.create(a,e))?(Object.defineProperties(a,{target:{value:b,writable:!0,enumerable:!0},targetName:{value:b.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),
a):null}};d.IA={create:function(a,b,e){e=$.extend({name:a,type:"Doc",targetName:""},e);return(a=d.create(a,e))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};d.Co={create:function(a,b,e){e=$.extend({name:a,type:"Page"},e);return(a=d.create(a,e))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};d.fd={create:function(a,b){return d.create(a,b)}}})(window);
(function(a){function d(b){this.stringValue=b}function e(b,a,c){a=a||",";c=c||".";var e=b.split(c),d=e[0];"-"===b.charAt(0)&&(d=d.substr(1));for(var g=[];3<d.length;)g.push(d.substr(d.length-3)),d=d.substr(0,d.length-3);0<d.length&&g.push(d);d=g.reverse().join(a);"-"===b.charAt(0)&&(d="-"+d);e[0]=d;return e.join(c)}function c(b,a){var c;if(0===a)return/^-?\d*$/.test(b);if(_.isUndefined(a))return c=/^-?\d*([\.,]\d*)?$/,c.test(b);c=new RegExp("^-?\\d*([\\.,]\\d{0,"+a.toString()+"})?$");return c.test(b)}
function b(b){for(var a=[],c=[],e=-1;-1!==(e=b.indexOf(".",e+1));)a.push(e);for(e=-1;-1!==(e=b.indexOf(",",e+1));)c.push(e);if(a.length&&c.length){if(a[a.length-1]<c[0])return!0}else if(c.length)for(b=b.length-4,a=c.length-1;0<=a;--a)if(c[a]!==b)return!0;return!1}function g(b){return 65<=b&&90>=b||97<=b&&122>=b}function f(b,a){switch(a){case 57:return 48<=b&&57>=b;case 65:return g(b);case 79:return g(b)||48<=b&&57>=b;case 88:return!0;default:return b===a}}function k(a){var e=typeof a;a=_.isNull(a)||
"object"!==e&&"string"!==e?a:String(a).replace(",",b(a)?".":"");e=parseFloat(a);return c(a)&&!isNaN(e)?e:e="Off"===a||_.isUndefined(a)||_.isNull(a)||""===a?0:1}function h(b,a){var c=String(b);if(c.length<a)for(var e=a-c.length,d=0;d<e;++d)c="0"+c;return c}function l(b){_.isString(b)&&(b=b.replace(/\s+/g," "),b=b.replace(/[/.]/g,"-"));return b}function m(b){return b.replace(/(mmmm)|(mmm)|(:mm)|(mm)|(:m)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,function(b){return{mmmm:"MMMM",
mmm:"MMM",":mm":":mm",mm:"MM",":m":":m",m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[b]||""})}function n(b,a){if(!b)return null;var c=I.slice(0);a&&(a=m(a),a=l(a));b=l(b);a&&"d"===a.charAt(0).toLowerCase()?(H.unshift(a),c=G(b,H,!0)):(a&&c.unshift(a),c=G(b,c,!0));return c.isValid()?c:null}function q(b,a){return!b||null!==n(b,a)}function r(b,a){if(M[a]){b=l(b);var c;c=a&&"d"===a.charAt(0).toLowerCase()?G(b,H,!0):
G(b,I,!0);if(c.isValid())return c.format(M[a])}return null}function v(b,a){var c=String(b).split(":");if(3<a||0>a||!b)return null;var e=0,d=0,g=0;c[0]&&(e=Number(c[0]));c[1]&&(d=Number(c[1]));c[2]&&(g=Number(c[2]));if(23<e||59<d||59<g||_.isNaN(e)||_.isNaN(d)||_.isNaN(g))return null;var c=1===a||3===a,f;c?(f=12<=e&&24>e?"PM":"AM",e%=12,0===e&&(e=12)):e=h(e,2);d=h(d,2);g=h(g,2);e=e+":"+d+(2>a?"":":"+g);c&&(e+=" "+f);return e}function p(b,a){for(var c=0,e="",d=0;d<a.length&&c<b.length;++d){var g=a.charAt(d);
switch(g){case "9":e+=b.charAt(c);c++;break;default:e+=g}}return e}function u(b,a){this.PK=a;this.Ox=!1;this.vP=b;b.CS()}function w(b){return function(){console.log("stub: "+b+" called with",arguments)}}function z(b){var a=null;if(_.isArray(b))switch(b[0]){case "T":a=[];break;case "G":a=b.slice(1,2);break;case "RGB":a=b.slice(1,4);break;case "CMYK":a=b.slice(1,5)}return a}function C(b,a){b.widgets.forEach(function(b){b.backgroundColor=a})}function A(b){this.nC={};this.YB=b}function y(){var b=this;
this.mC={Doc:new A(function(){return"id"}),Field:new A(function(b){return b.name})};this.Mo=0;this.Dr=[];this.FK={Doc:function(b){return B.NA(b)},Color:function(b){return B.mr(b)},Field:function(b){b.kj&&b.kj()&&(b=b.xb());return new B.wo(b)},Event:function(a){var c={target:b.bl({Field:"Field",Page:"Doc",Doc:"Doc"}[a.type],a.target)};Object.defineProperties(c,{value:{get:function(){return B.utils.toString(a.value)},set:function(b){a.value=b},enumerable:!0}});for(var e in a)a.hasOwnProperty(e)&&"target"!==
e&&"value"!==e&&function(b){Object.defineProperty(c,b,{set:function(c){a[b]=c},get:function(){return a[b]},enumerable:!0})}(e);return c}}}function x(){y.call(this);this.xK=this.sN();a.DU=this.xK;for(var b in P)P.hasOwnProperty(b)&&(b in a||(a[b]=P[b]))}function E(){y.call(this);if(D){this.So=$("<iframe />");this.So.css({display:"none"});this.So.appendTo("body");this.cp=this.So[0].contentWindow;var b=this.cp.document;b.open();b.write("<script>var event = {};\x3c/script>");b.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");
b.close();this.hk=!1;for(var a in P)P.hasOwnProperty(a)&&(this.cp[a]=P[a])}}a.Annotations=a.Annotations||{};a.Annotations.O=a.Annotations.O||{};a.Annotations.O.sb=a.Annotations.O.sb||{};var G=a.moment,B=a.Annotations.O.sb,I="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";"),H="D-MMM D-MMM-YY DD-MMM-YY DD-MMM-YYYY DD-MM-YYYY D-M-YYYY".split(" "),F="m/d;m/d/yy;mm/dd/yy;mm/yy;d-mmm;d-mmm-yy;dd-mmm-yy;yymm-dd;mmm-yy;mmmm-yy;mmm d, yyyy;mmmm d, yyyy;m/d/yy h:MM tt;m/d/yy HH:MM;dd-mmm-yyyy".split(";"),
M={"m/d":"M/D","m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/dd/yyyy":"MM/DD/YYYY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY","m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};B.utils={isNumber:c,BW:e,hW:k,gW:h,pV:r,SV:q,qV:v,formatNumber:p,toString:function(b){return _.isString(b)?b:_.isNumber(b)?String(b):
""},IW:function(b){var a=b;c(b)&&""!==b&&(a=k(b));return a},uQ:function(b,a){var c=G(a),e=m(b);return c.format(e)},vQ:function(b){var a=Array.prototype.slice.call(arguments,1),c=0;return b.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(b,d,g,f,h,k){b=0;f=".";var l=",";if(d)switch(d.slice(1)){case "0":l=",";f=".";break;case "1":l="";f=".";break;case "2":l=".";f=",";break;case "3":l="",f=","}if(g)for(d=g.length-2,g=1;g<d;++g);h&&(b=h.slice(1));h=a[c];c++;d=String(h);switch(k){case "f":d=
Number(h).toFixed(b).replace(".",f);d=e(d,l,f);break;case "d":d=Number(h).toFixed();break;case "x":d=Number(h).toString(16)}return d})},wQ:function(b,a){for(var e="",d=0,f="",h=b.length,k=0;k<h;++k){var l=a,m=b[k],n="";switch(m){case "?":n="upper"===f?n+l.charAt(d).toUpperCase():"lower"===f?n+l.charAt(d).toLowerCase():n+l.charAt(d);d++;break;case "X":for(;d<l.length;){m=l.charCodeAt(d);if(g(m)||48<=m&&57>=m){n="upper"===f?n+l.charAt(d).toUpperCase():"lower"===f?n+l.charAt(d).toLowerCase():n+l.charAt(d);
d++;break}d++}break;case "A":for(;d<l.length;){if(g(l.charCodeAt(d))){n="upper"===f?n+l.charAt(d).toUpperCase():"lower"===f?n+l.charAt(d).toLowerCase():n+l.charAt(d);d++;break}d++}break;case "9":for(;d<l.length;){if(c(l.charAt(d))){n+=l.charAt(d);d++;break}d++}break;case "*":n="lower"===f?l.slice(d).toLowerCase():"upper"===f?l.slice(d).toUpperCase():l.slice(d);d=l.length-1;break;case "\\":break;case ">":f="upper";break;case "<":f="lower";break;case "=":f="";break;default:n=m}e+=n}return e},EA:function(b,
c){c=c||b;var e=a.Annotations.O.sb.Events.Ym(J);if(b&&e){var d=e.length,g=b.length;if(J.willCommit&&d!==g&&0!==g)alert("The value entered does not match the format of the field [ "+c+" ]"),J.rc=!1;else if(d&&g)if(d<=g)for(g=0;g<d;++g){if(!f(e.charCodeAt(g),b.charCodeAt(g))){J.rc=!1;alert("The value entered does not match the format of the field [ "+c+" ]");break}}else alert("The value entered does not match the format of the field [ "+c+" ]"),J.rc=!1}},Wq:function(b){var a=String(J.value);a&&J.willCommit&&
!q(a,b)&&(J.rc=!1,alert("Invalid Date/Time: Input should match format "+b))}};Object.getOwnPropertyNames(String.prototype).forEach(function(b){d.prototype[b]=function(){return this.stringValue[b].apply(this.stringValue,arguments)}});d.prototype.valueOf=function(){this.rF||(this.rF=k(this.stringValue));return this.rF};u.prototype={terminate:function(){this.Ox||(this.Ox=!0,this.PK(),this.vP.UM())}};var J=null,O=null,P={AFNumber_Format:function(b,a,d,g,f,h){d=(d=O.Pb().Nk().xb(J.target.name))?d.Va():
null;c(d)&&null!==d&&""!==d&&(d=k(d),isNaN(d)||(d=d.toFixed(b),0===a?d=e(d):2===a&&(d=e(d),b=d.indexOf("."),d=d.split(",").join("."),0<=b&&(d=d.substr(0,b)+","+d.substr(b+1))),J.value=h?f+d:d+f,J.rc=!0))},AFPercent_Format:function(b,a){var d=J.value;c(d)&&(d=k(d),d=(100*d).toFixed(b),a&&(d=e(d)),J.value=d+"%",J.rc=!0)},AFDate_KeystrokeEx:B.utils.Wq,AFDate_Keystroke:function(b){b<F.length&&B.utils.Wq(F[b])},AFDate_FormatEx:function(b){b=r(String(J.value),b);_.isNull(b)||(J.value=b,J.rc=!0)},AFDate_Format:function(b){var a=
String(J.value);b<F.length&&(b=r(a,F[b]),_.isNull(b)||(J.value=b,J.rc=!0))},AFRange_Validate:function(b,a,c,e){var d=Number(J.value),d=(!b||d>=a)&&(!c||d<=e);if(!d){var g="Invalid value: must be";b&&(g+=" greater than or equal to "+a);b&&c&&(g+=" and");c&&(g+=" less than or equal to "+e);alert(g+".")}J.rc=d},AFTime_Format:function(b){J.value=v(J.value,b);J.rc=!0},AFTime_FormatEx:function(b){b=r(String(J.value),b);_.isNull(b)||(J.value=b,J.rc=!0)},AFTime_Keystroke:function(b){switch(b){case 0:b="h:MM tt";
break;case 1:b="h:MM tt";break;case 2:b="HH:MM:ss";break;case 3:b="h:MM:ss tt"}B.utils.Wq(b)},AFTime_KeyStrokeEx:B.utils.Wq,AFMakeNumber:function(b){return Number(b)},AFSimple_Calculate:function(b,a){var c={PRD:function(b,a){return b*a},SUM:function(b,a){return b+a},MIN:function(b,a){return a<b?a:b},MAX:function(b,a){return a>b?a:b}}[b];c&&("string"===typeof a&&(a=a.split(",")),J.value=a.map(function(b){b=J.target.doc.getField(b).value;return k(b)}).reduce(c),J.rc=!0)},AFNumber_Keystroke:function(b){J.rc=
c(a.Annotations.O.sb.Events.Ym(J),b)},AFPercent_Keystroke:function(b){J.rc=c(a.Annotations.O.sb.Events.Ym(J),b+2)},AFMergeChange:function(b){return a.Annotations.O.sb.Events.Ym(b)},AFParseDateEx:n,AFSpecial_Format:function(b){if(0===arguments.length)J.rc=!1;else{var a=J.value,c;switch(b){case 0:c="99999";break;case 1:c="99999-9999";break;case 2:c=10<=a.length?"(999) 999-9999":"999-9999";break;case 3:c="999-99-9999"}J.value=p(a,c);J.rc=!0}},AFSpecial_Keystroke:function(b){var a="",c;switch(b){case 0:a=
"99999";c="Zipcode";break;case 1:a="999999999";c="Zipcode + 4";break;case 2:a="9999999999";c="Phone";break;case 3:a="999999999",c="Social Security Number"}B.utils.EA(a,c)},AFSpecial_KeystrokeEx:B.utils.EA,util:{printd:B.utils.uQ,printf:B.utils.vQ,printx:B.utils.wQ},app:{beep:w("app.beep"),alert:function(b){if(_.isObject(b)){var a=b.nType||0;b=b.cMsg;if(0===a)return window.alert(b),1;b=window.confirm(b);return 1===a?b?1:2:b?4:3}window.alert(b);return 1},response:w("app.response"),setInterval:function(b,
a){var c=O.getDocument().Uo;b=c.Fm(b);var e=J,d=window.setInterval(function(){c.Mn(b,e,O)},a);return new u(c,function(){window.clearInterval(d)})},clearInterval:function(b){b.terminate()},setTimeOut:function(b,a){var c=O.getDocument().Uo,e;b=c.Fm(b);var d=J,g=window.setTimeout(function(){c.Mn(b,d,O);e.terminate()},a);return e=new u(c,function(){window.clearTimeout(g)})},clearTimeOut:function(b){b.terminate()},launchURL:w("app.launchURL")},console:{clear:function(){console.clear()},println:function(b){console.log(b)}},
alert:function(b){window.alert(b)},print:function(){$(window).trigger("documentPrint")},ADBE:null,color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",.25],gray:["G",.5],ltGray:["G",.75]},border:{s:"solid",b:"beveled",d:"dashed",i:"inset",JW:"underline"},style:{ch:"check",cr:"cross",jV:"diamond",ci:"circle",EW:"start",DW:"square"},display:{visible:0,hidden:1,
VP:2,WP:3}};B.wo=function(b){this.la=b};B.wo.prototype={insertItemAt:function(b,a,c){_.isUndefined(a)&&(a=b);_.isUndefined(c)&&(c=0);_.isArray(b)&&(b=b[0]);_.isArray(a)&&(a=a[0]);a={displayValue:b,value:a};var e=this.la.Lg();c=-1===c?e.length-c:c;this.la.ws(a,c);"Ch"!==this.la.type||this.la.flags.get("Combo")||this.la.zb(b)},getItemAt:function(b,a){a=_.isUndefined(a)?!0:!!a;var c=this.la.Lg(),c=-1===b?c[c.length-1]:c[b];return a?c.value:c.displayValue},deleteItemAt:function(b){var a=this.la.Lg();
if(_.isUndefined(b)){var c=this.la.Va();a.forEach(function(a,e){a.value===c&&(b=e)});_.isUndefined(b)||(a.splice(b,1),0===b?this.la.zb(a[a.length-1].value):this.la.zb(a[b-1].value))}else a.splice(b,1)},clearItems:function(){this.la.be([]);this.la.zb(null);this.la.Ju()},setItems:function(b){for(var a=[],c=b.length,e=0;e<c;++e){var d=b[e];_.isString(d)?a.push({value:d}):_.isArray(d)&&a.push({displayValue:d[0],value:d[1]?d[1]:d[0]})}this.la.be(a);this.la.zb(a[0].value||null);this.la.Ju()},setFocus:function(){var b;
if(b="widgets"in this.la?this.la.widgets[0]:this.la)this.la.Jg().vp(b.PageNumber,b.X,b.Y,!0),b.innerElement.trigger("focus")},isBoxChecked:function(b){return(b=this.la.widgets[b])?b.appearance===b.Fh()?1:0:0},checkThisBox:function(b,a){_.isUndefined(a)&&(a=!0);var c=this.la.widgets[b];c&&(a?this.la.zb(c.Fh()):this.la.Va()===c.Fh()&&this.la.zb("Off"),this.la.Ju())},buttonSetCaption:function(b){this.la.widgets.forEach(function(a){a.captions.Normal=String(b);a.refresh()})},getArray:function(){var b=
[],a=this.la.Jg().fa.Hg;this.la.wA({lz:function(){},tu:function(){},rq:function(c){b.push(new B.wo(a.xb(c)))}},this.la.TN());return b}};Object.defineProperties(B.wo.prototype,{name:{get:function(){return this.la.name},enumerable:!0},doc:{get:function(){return B.NA(this.la.Jg())},enumerable:!0},value:{get:function(){var b=this.la.Va();return"number"===typeof b?b:c(b)&&""!==b?"0"===b?0:new d(b):b||""},set:function(b){this.la.zb(b)},enumerable:!0},valueAsString:{get:function(){var b=this.la.Va();return b?
b.toString():""}},fillColor:{set:function(b){C(this.la,z(b))},get:function(){return B.mr(this.la.widgets[0].backgroundColor)},enumerable:!0},textColor:{set:function(b){this.la.font.fillColor=z(b)},get:function(){return B.mr(this.la.font.fillColor)},enumerable:!0},bgColor:{set:function(b){C(this.la,z(b))},get:function(){return B.mr(this.la.widgets[0].backgroundColor)},enumerable:!0},numItems:{get:function(){return(this.la.Lg()||[]).length},enumerable:!0},charLimit:{set:function(b){b=Number(b);_.isNaN(b)||
(this.la.maxLen=b)},get:function(){return this.la.maxLen},enumerable:!0},hidden:{set:function(b){this.la.yf(!b)},get:function(){return this.la.widgets[0].hidden},enumerable:!0},display:{set:function(b){b===P.display.visible||b===P.display.VP?this.la.yf(!0):b!==P.display.hidden&&b!==P.display.WP||this.la.yf(!1)},get:function(){return this.la.widgets[0].hidden},enumerable:!0},userName:{set:function(b){this.la.userName=b;this.la.Ju()},get:function(){return this.la.userName},enumerable:!0},type:{get:function(){switch(this.la.type){case "Tx":return"text";
case "Btn":return this.la.flags.get("PushButton")?"button":this.la.flags.get("Radio")?"radiobutton":"checkbox";case "Ch":return this.la.flags.get("Combo")?"combobox":"listbox";case "Sig":return"signature"}return null},enumerable:!0},currentValueIndices:{get:function(){for(var b=this.la.Lg(),a=this.la.value,c=0;c<b.length;++c)if(b[c].value===a)return c;return-1},enumerable:!0}});A.prototype={get:function(b){b=this.YB(b);b=this.nC[b];return _.isUndefined(b)?null:b},set:function(b){this.nC[this.YB(b)]=
b}};B.mr=function(b){return b?0!==b.A?["RGB",b.R/255,b.G/255,b.B/255]:["T"]:["T"]};B.NA=function(b){var c=b.Pb().Nk(),e={getField:function(b){return(b=c.xb(b))?new B.wo(b):null},submitForm:function(c,e,d,g){_.isUndefined(e)&&(e=!0);(new a.Actions.Xj({url:c,format:e?"fdf":"xfdf",includeEmpty:!!d,fields:g||[]})).onTriggered(null,null,b)},resetForm:function(c){(new a.Actions.Sj({fields:c})).onTriggered(null,null,b)},calculateNow:function(){c.mp(null)},getNthFieldName:function(b){var a,e=0;c.Tm(function(c){e===
b&&(a=c.name);++e});return a}};Object.defineProperties(e,{calculate:{set:function(b){c.Xn=!!b},get:function(){return c.Xn},enumerable:!0},numPages:{get:function(){return b.Gb()},enumerable:!0},pageNum:{get:function(){return b.Xm()-1},set:function(a){b.xe(a+1)},enumerable:!0},numFields:{get:function(){var b=0;c.Tm(function(){++b});return b},enumerable:!0}});return e};y.prototype={Fm:function(){},Mn:function(){},Uc:function(){this.Dr.forEach(function(b){b()})},uA:function(b){return b},zA:function(b){return b},
lv:function(b){return b},nI:function(b){return b},oI:function(b){return b},mI:function(b){return b},lI:function(b){return b},ho:function(b){var a=null;if(_.isArray(b))a=this.lI(b);else if(_.isNull(b))a=null;else switch(typeof b){case "object":a=this.zA(b);break;case "function":a=this.lv(b);break;case "number":a=this.nI(b);break;case "string":a=this.oI(b);break;case "boolean":a=this.mI(b);break;case "undefined":a=void 0;break;default:console.warn("unrecognised type: "+typeof b)}return a},wrap:function(b,
a){var c=this.mC[b];if(c){var e=c.get(a);if(!_.isNull(e))return e}e=this.bl(b,a);e=this.ho(e);c&&c.set(e);return e},bl:function(b,a){var c=this.mC[b];if(c){var e=c.get(a);if(!_.isNull(e))return e}if(e=this.FK[b])return e=e(a),c&&c.set(e),e;console.warn(b+" is not a valid normalisable PDFJS type",a);return{}},mT:function(b){0<this.Mo?this.Dr.push(b):b()},CS:function(){this.Mo+=1},UM:function(){--this.Mo;if(0===this.Mo){var b=this.Dr;this.Dr=[];b.forEach(function(b){b()})}},sN:function(){return this.zA($.extend({},
P))}};B.PT=P;var L=eval;x.prototype=$.extend(Object.create(y.prototype),{fp:function(b){b=this.bl("Doc",b);for(var c=Object.keys(b),e=0;e<c.length;++e){var d=c[e];Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(b,d))}},Fm:function(b){return function(a){J=a;L("with(_PDFTRON_JS_API){"+b+"\n}");J=null}},Mn:function(b,c,e){a.event=c;this.hk||(this.fp(e),this.hk=!0);var d=O;O=e;try{b(this.wrap("Event",c),this.wrap("Doc",e))}catch(g){console.warn("PDFJS error encountered: "+g+" "+b.aq)}O=d}});
(function(){y.call(this);this.qh=continuum.VU();this.hk=!1;for(var b=Object.keys(P),a=0;a<b.length;++a)this.qh.global.TA(b[a],this.ho(P[b[a]]))}).prototype=$.extend(Object.create(y.prototype),{Fm:function(b){return continuum.WU(b)},fp:function(b){b=this.bl("Doc",b);for(var a=Object.keys(b),c=0;c<a.length;++c)this.qh.global.TA(a[c],this.ho(b[a[c]]))},Mn:function(b,a,c){this.hk||(this.fp(c),this.hk=!0);a=this.bl("Event",a);c=this.ho(a);this.qh.global.TA("event",c);J=a;this.qh.evaluate(b);J=null},uA:function(b){var a=
this;if(_.isObject(b)){if(b.pL)return b.pL.map(function(b){return a.uA(b)});console.warn("object argument: ",b)}return b},lv:function(b){var a=this;return continuum.qx(function(){var c=Array.prototype.map.call(arguments,function(b){return a.uA(b)});return a.ho(b.apply(null,c))})},nI:function(b){return this.qh.evaluate(JSON.stringify(b))},oI:function(b){return this.qh.evaluate(JSON.stringify(b))},mI:function(b){return this.qh.evaluate(JSON.stringify(b))},lI:function(b){var a=this.qh.evaluate("new Array()");
console.warn("array:",a);return b},zA:function(b){for(var a=this.qh.evaluate("Object.create(null)"),c=Object.keys(b),e=c.length,d=0;d<e;++d){var g=c[d],f=Object.getOwnPropertyDescriptor(b,g),h={Enumerable:f.enumerable,Writeable:f.writeable};_.isUndefined(f.value)||(h.Value=this.ho(f.value));_.isUndefined(f.set)||(h.Set=this.lv(f.set));_.isUndefined(f.get)||(h.Get=this.lv(f.get));a.LT(g,h)}return a}});var D=!0;a.o.rM=function(){D=!1};E.prototype=$.extend(Object.create(y.prototype),{Fm:function(b){if(D)try{var a=
this.cp.__add_action(b);a.aq=b;return a}catch(c){console.warn("Failed to compile PDFJS script")}},fp:function(b){b=this.bl("Doc",b);for(var a=Object.keys(b),c=0;c<a.length;++c){var e=a[c];Object.defineProperty(this.cp,e,Object.getOwnPropertyDescriptor(b,e))}},Uc:function(){y.prototype.Uc.call(this);this.So&&this.So.remove()},Mn:function(b,a,c){if(D){this.hk||(this.fp(c),this.hk=!0);var e=O;O=c;a=this.bl("Event",a);this.cp.event=a;c=J;J=a;try{b()}catch(d){console.warn("PDFJS error encountered: ",d,
b&&b.aq)}J=c;O=e}}});B.IT=x;B.ZL=function(){return new E}})(window);(function(a){if(a&&a.Worker){var d=a.Worker;a.ii=a.ii||[];a.ii.RH||(a.ii.RH=function(){for(var e=a.ii.length-1;0<=e;e--)a.ii[e].terminate(),delete a.ii[e]});a.Worker.isFake||(a.Worker=function(e){e=new d(e);a.ii.push(e);return e},a.XI=function(a){return a instanceof d},a.Worker.isFake=!0)}})(window);window.addEventListener("unload",function(){window.ii&&window.ii.RH()});
(function(a){a.Annotations=a.Annotations||{};var d=a.Annotations,e=d.ua||{};d.Annotation=function(){this.Subject="Annotation";this.qB=1;this.Yv=this.$v=this.bw=this.aw=0;this.iB=void 0;this.NoRotate=this.NoZoom=this.ZT=this.YT=!1;this.Printable=!0;this.zi=new d.Color(0,0,0);this.yB=void 0;this.kw=new Date;this.XB=e.zO();this.rw=!0;this.im=this.aC=this.lk=!1;this.cC=this.Gw=!0;this.wm=[];this.hf=this.wg=null};d.Annotation.prototype={elementName:"annotation",selectionModel:d.nr,hF:!1,TE:function(){return null},
draw:function(){},render:function(){},hv:function(){},kj:function(){return!1},AF:function(){return!1},Yk:function(){return!this.Hidden&&!this.NoView&&!this.Mh()},aS:function(a){var b=new d.Rect(a.x1,a.y1,a.x2,a.y2);0>b.za()&&(a=b.x1,b.x1=b.x2,b.x2=a);0>b.va()&&(a=b.y1,b.y1=b.y2,b.y2=a);this.X=b.x1;this.Y=b.y1;this.Width=b.za();this.Height=b.va()},xj:function(a){var b=this.pe();a=new d.Rect(a.x1,a.y1,a.x2,a.y2);0>a.za()&&(a.x1=b.x1,a.x2=b.x2);0>a.va()&&(a.y1=b.y1,a.y2=b.y2);this.X=a.x1;this.Y=a.y1;
this.Width=a.za();this.Height=a.va()},adjustRect:function(){},resize:function(a){this.xj(a)},mn:function(){return this.X},qS:function(a){this.X=parseFloat(a)},nn:function(){return this.Y},rS:function(a){this.Y=parseFloat(a)},za:function(){return this.Width},AH:function(a){this.Width=parseFloat(a)},va:function(){return this.Height},Hq:function(a){this.Height=parseFloat(a)},pe:function(){return new d.Rect(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},vc:function(){return this.PageNumber},
Hb:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},rH:function(a){this.PageNumber=parseInt(a,10)},an:function(){return this.mn()},XE:function(){return this.an()+this.Width},jn:function(){return this.nn()},tE:function(){return this.jn()+this.Height},lN:function(){return this.Custom},tR:function(a){this.Custom=a},Jk:function(){return this.rQ},Sn:function(a){this.rQ=a;this.qb()},Qw:function(a){if(a.Id)for(var b=0;b<this.wm.length;++b)if(this.wm[b].Id===a.Id)return;this.wm.push(a)},
lM:function(a){a=this.wm.indexOf(a);-1<a&&this.wm.splice(a,1)},Dt:function(){return this.wm},Mh:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},XQ:function(){return this.Gw},qb:function(){this.isImporting||(this.kw=new Date);this.rw||(this.lk=!0)},rN:function(){var a=[];this.Invisible&&a.push("invisible");this.Hidden&&a.push("hidden");this.Printable&&a.push("print");this.NoZoom&&a.push("nozoom");this.NoRotate&&a.push("norotate");this.NoView&&a.push("noview");this.ReadOnly&&
a.push("readonly");this.Locked&&a.push("locked");this.ToggleNoView&&a.push("togglenoview");this.LockedContents&&a.push("lockedcontents");return 0<a.length?a.join(","):null},DR:function(a){this.AK=a},zN:function(){return this.AK},serialize:function(c,b){var e=d.ba,f=this.pe();this.vu&&this.vu.isEqual(f)?f=this.wu:(f.OM(),this.wu&&(delete this.wu,delete this.vu),f=e.Rz(f,b));var f={page:this.Hb(),rect:f},k=e.eg(this.Color);null!==k&&(f.color=k);(k=this.rN())&&(f.flags=k);!this.FO&&this.Id&&(f.name=
this.Id);this.Author&&(f.title=this.Author);this.Subject&&(f.subject=this.Subject);(k=this.Rotation)&&0!==k&&(f.rotation=k);if(k=this.DateModified){var h;this.pz&&(k.getTime()===this.jG?h=this.pz:(delete this.pz,delete this.jG));h||(h=e.rA(k));f.date=h}for(var l in f)c.setAttribute(l,f[l]);l=this.Jk();l===this.hG?(this.kG&&(h=document.createElementNS("","contents-richtext"),e=document.createElementNS("",e.OQ),c.eE=this.kG,h.appendChild(e),c.appendChild(h)),this.rz&&(h=document.createElementNS("",
"contents"),h.textContent=this.rz,c.appendChild(h))):(delete this.hG,delete this.rz,h=document.createElementNS("","contents"),h.textContent=l,c.appendChild(h));(e=this.appearances)&&a.We.pI(new a.bB(c),e);return c},wh:function(a){return(a=a.nodeName)&&this.elementName?a.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(c,b){var e=d.ba,f=c.getAttribute("page"),f=parseInt(f,10);this.PageNumber=f+1;this.wu=f=c.getAttribute("rect")||"0,0,100,100";f=e.zx(f,b);f.normalize();this.xj(f);
f=c.getAttribute("name");this.FO=!f;this.Id=f;this.Author=c.getAttribute("title");this.Subject=c.getAttribute("subject");f=(c.getAttribute("flags")||"").split(",");this.Invisible=-1!==f.indexOf("invisible");this.Hidden=-1!==f.indexOf("hidden");this.Printable=-1!==f.indexOf("print");this.NoZoom=-1!==f.indexOf("nozoom");this.NoRotate=-1!==f.indexOf("norotate");this.NoView=-1!==f.indexOf("noview");this.ReadOnly=-1!==f.indexOf("readonly");this.Locked=-1!==f.indexOf("locked");this.ToggleNoView=-1!==f.indexOf("togglenoview");
this.LockedContents=-1!==f.indexOf("lockedcontents");f=e.Vi(c.getAttribute("color"));this.Color=null!==f?f:new d.Color(0,0,0,0);(f=c.getAttribute("rotation"))&&(this.Rotation=f);(f=c.getAttribute("date"))?(this.pz=f,e=e.yx(f),this.jG=e.getTime(),this.DateModified=e):this.DateModified=null;var e=c.getElementsByTagName("contents-richtext"),f="",k=c.getElementsByTagName("contents"),h=c.getElementsByTagName("apref"),l;if(0<k.length)this.rz=f=k[0].textContent;else if(0<e.length)if(l=e[0].getElementsByTagName("body"),
0<l.length)if(k=l[0].getElementsByTagName("span"),0<k.length)for(l=0;l<k.length;++l)f+=k[l].textContent;else f=l[0].textContent;else f=e[0].textContent;0<e.length&&(this.kG=e[0].cQ);for(l=0;l<h.length;++l)a.We.aB.UK(new a.Ee(h[l]),this);this.hG=f;this.Sn(f)},zc:function(a,b){var e=a.getAttribute(b);_.isUndefined(e)||_.isNull(e)||(this[b]=e)},hc:function(a,b,e){var d=this[b];_.isUndefined(d)||_.isNull(d)||d===e||a.setAttribute(b,d)},Aj:function(){return!1},cv:function(){this.wu&&!this.vu&&(this.vu=
this.pe())}};d.Annotation.prototype=$.extend(Object.create(a.utils.eventHandler),d.Annotation.prototype);Object.defineProperties(d.Annotation.prototype,{X:{get:function(){return this.aw},set:function(a){this.aw=parseFloat(a);this.qb()}},Y:{get:function(){return this.bw},set:function(a){this.bw=parseFloat(a);this.qb()}},Width:{get:function(){return this.$v},set:function(a){this.$v=parseFloat(a);this.qb()}},Height:{get:function(){return this.Yv},set:function(a){this.Yv=parseFloat(a);this.qb()}},NoMove:{get:function(){return this.oB},
set:function(a){this.oB=!0===a||"true"===a}},NoResize:{get:function(){return this.pB},set:function(a){this.pB=!0===a||"true"===a}},PageNumber:{get:function(){return this.qB},set:function(a){this.qB=parseInt(a,10)}},DateModified:{get:function(){return this.kw},set:function(a){this.kw=e.BE(a)}},Id:{get:function(){return this.XB},set:function(a){this.XB=a}},Author:{get:function(){return this.yB},set:function(a){this.yB=a}},IsAdded:{get:function(){return this.rw},set:function(a){this.rw=a}},IsModified:{get:function(){return this.lk},
set:function(a){this.lk=a}},IsDeleted:{get:function(){return this.aC},set:function(a){this.aC=a}},Filtered:{get:function(){return this.im},set:function(a){this.im=a}},Custom:{get:function(){return this.iB},set:function(a){this.iB=a}},Listable:{get:function(){return this.cC},set:function(a){this.cC=!!a}},Color:{get:function(){return this.zi},set:function(a){a instanceof d.Color&&(this.zi=a,this.qb())}}})})(window);
(function(a){var d=a.Annotations||{};d.mo=function(a){this.No=new d.Color;this.sk=this.ik=this.zm=0;this.Ad=null;this.set(a)};d.mo.prototype={set:function(a){a instanceof d.mo?(this.No=new d.Color(a.No),this.zm=a.zm,this.ik=a.ik,this.sk=a.sk,this.Ad=a.Ad):_.isArray(a)?3===a.length||4===a.length?(_.isUndefined(a[0])||(this.ik=Number(a[0])),_.isUndefined(a[1])||(this.sk=Number(a[1])),_.isUndefined(a[2])||(this.zm=Number(a[2])),4===a.length&&_.isArray(a[3])&&console.warn("dashed borders are currently unsupported")):
console.warn("Invalid border specification ",a," should be 3 or 4 elements long"):_.isObject(a)&&(_.isArray(a.border)&&this.set(a.border),_.isUndefined(a.color)||(this.No=new d.Color(a.color)),_.isUndefined(a.width)||(this.zm=Number(a.width)),_.isUndefined(a.cornerRadius)?_.isArray(a.cornerRadius)&&(this.ik=a.cornerRadius[0]||0,this.sk=a.cornerRadius[1]||0):this.sk=this.ik=Number(a.cornerRadius),_.isString(a.style)&&(this.Ad=a.style))},serialize:function(a){var c=d.ba;this.gK&&a.setAttribute("width",
this.gK);this.Ad&&a.setAttribute("style",this.Ad);var b=this.color;a.setAttribute("BC",[b.R/255,b.G/255,b.B/255].map(c.toFixed).join(","))},deserialize:function(a){var c=d.ba,b={};c.getAttribute(a,"width")?b.width=parseInt(c.getAttribute(a,"width"),10):b.width=1;c.getAttribute(a,"style")&&(b.style=c.getAttribute(a,"style"),"beveled"===b.style&&(b.style="bevelled"));c.getAttribute(a,"BC")&&(b.color=c.getAttribute(a,"BC").split(",").map(Number));this.set(b)},qA:function(){var a=_.isNull(this.Ad)?"solid":
this.Ad,c=this.zm,b=this.ik.toFixed(6)+"px "+this.sk.toFixed(6)+"px",d={};"underline"===a?(d["border-bottom-style"]="solid",d["border-top-style"]="hidden",d["border-left-style"]="hidden",d["border-right-style"]="hidden"):(a={solid:"solid",bevelled:"outset",inset:"inset"}[a],_.isUndefined(a)&&(a="solid"),d["border-style"]=a);d["border-color"]=this.No.toString();d["border-width"]=c;d["border-top-left-radius"]=b;d["border-top-right-radius"]=b;d["border-bottom-left-radius"]=b;d["border-bottom-right-radius"]=
b;return d}};Object.defineProperties(d.mo.prototype,{color:{get:function(){return this.No},set:function(a){this.set({color:a})}},width:{get:function(){return this.zm},set:function(a){this.set({width:a})}},style:{get:function(){return this.Ad},set:function(a){this.set({style:a})}},cornerRadius:{get:function(){return[this.ik,this.sk]},set:function(a){this.set({cornerRadius:a})}}})})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.tg=function(a){this.fk=this.oc="";this._size=0;this.Jr=new d.Color([0,0,0]);this.rk=new d.Color([0,0,0]);this.os="Type1";this.Bi=0;this.lC=4;this.jC=12;this.set(a)};d.tg.prototype={set:function(a){_.isObject(a)?(a.name&&(this.oc=String(a.name),this.fk=d.ba.vq(this.oc),this.jw=d.ba.tG(this.oc),this.FB=d.ba.sG(this.oc)),a.size&&(this._size=Number(a.size)),a.fillColor&&(this.Jr=new d.Color(a.fillColor)),a.strokeColor&&(this.rk=new d.Color(a.strokeColor)),
a.type&&(this.os=a.type)):_.isString(a)&&(this.oc=a,this.fk=d.ba.vq(this.oc),this.jw=d.ba.tG(this.oc),this.FB=d.ba.sG(this.oc))},VM:function(a,b,d){if(0===this._size){var f=b.Jt(1);if(0===a.replace(/\s/g,"").length)return this.Bi=Math.min(f/2,this.jC);var k=20;d?(k=f*e.Lj,b.element?(b=b.element[0].cloneNode(!0),f=document.getElementsByTagName("body")[0],f.appendChild(b),k=e.hE(a,b.children[0],k)/e.Lj,f.removeChild(b)):k/=2):(b=.95*b.Cy(1),f*=.95,a=e.measureText(a,k,this.fk?this.fk:void 0,this.jw),
k*=Math.min(b/a.width,f/a.height));return this.Bi=Math.max(this.lC,Math.min(k,this.jC))}},deserialize:function(a,b){var e=d.ba;if(e.getAttribute(a,"FontName")){var f=e.getAttribute(a,"FontName");this.oc=f;this.fk=d.ba.vq(f)}if(e.getAttribute(a,"FontSize")){var f=parseFloat(e.getAttribute(a,"FontSize")),e=b.aa({x:0,y:0}),k=b.aa({x:f,y:0}),f=e.x-k.x,e=e.y-k.y;this._size=Math.sqrt(f*f+e*e)}},Uk:function(){return this.Jr.Uk()&&this.rk.Uk()},qA:function(a){var b={};""!==this.fk&&(b["font-family"]=this.fk,
b["font-weight"]=this.jw,b["font-style"]=this.FB);b["font-size"]=0===this._size&&0!==this.Bi?String(this.Bi*a)+"px":String(this._size*a)+"px";b.color=this.Jr.toString();3>parseFloat(b["font-size"])&&(b["font-size"]="3px");return b}};Object.defineProperties(d.tg.prototype,{name:{get:function(){return this.oc},set:function(a){this.set({name:a})}},size:{get:function(){return this._size},set:function(a){this.set({size:a})}},type:{get:function(){return this.os}},strokeColor:{get:function(){return this.rk},
set:function(a){this.set({strokeColor:a})}},fillColor:{get:function(){return this.Jr},set:function(a){this.set({fillColor:a})}},calculatedSize:{get:function(){return 0===this._size?this.Bi:this._size}}})})(window);
(function(a){var d=a.Annotations||{};d.HTMLAnnotation=function(e){d.Annotation.call(this);a.Actions.dh.call(this,e);this.rk=new d.Color(0,0,0,1);this.Er=new d.Color;this.Fr=new d.mo;this.Or=!1;this.Hw=0;this.ke=this.If=null;this.on("contentRemoved",function(){this.ke=this.If=null;this.ew=!1});this.ns=!0;_.isObject(e)&&(_.isUndefined(e.border)||this.Fr.set(e.border),_.isUndefined(e.backgroundColor)||(this.Er=new d.Color(e.backgroundColor)),_.isUndefined(e.color)||(this.rk=new d.Color(e.color)),_.isUndefined(e.rect)||
(this.rect=new d.Rect(e.rect)));var c=this.Rp(),b=this;Object.keys(c).forEach(function(a){var e=c[a];$(b).on(e.internal_name,function(c){b.ye(a,e.getEvent(b,c))})})};d.HTMLAnnotation.prototype={Wi:"",Cy:function(a){return(this.za()-(this.ns?2*this.border.width:0))*a},Jt:function(a){return(this.va()-(this.ns?2*this.border.width:0))*a},JH:function(a){this.ns=!!a},serialize:function(){this.Hidden=this.hidden;d.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(){d.Annotation.prototype.deserialize.apply(this,
arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},Rp:function(){return{}},uh:function(){},Pe:function(e){var c=this.Hw,b=a.utils.getRotationOffsets(c,this.za(),this.va()),d=b.dx*e,b=b.dy*e;return $.extend({left:this.X*e,top:this.Y*e,width:this.Cy(e),height:this.Jt(e),position:"absolute",padding:"0",margin:"0","background-color":this.Er.toString(),"z-index":"35",display:this.Or?"none":"",transform:"translate("+d+"px,"+b+"px) rotate("+-c+"deg)","transform-origin":"top left","-webkit-transform":"translate("+
d+"px,"+b+"px) rotate("+-c+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+d+"px,"+b+"px) rotate("+-c+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+d+"px,"+b+"px) rotate("+-c+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.ns?this.Fr.qA(e):{})},tc:function(a){if(!a)throw Error("no zoom?");return{position:"absolute","font-size":"inherit","font-family":"inherit","font-weight":"inherit","font-style":"inherit",color:"inherit",
width:this.Cy(a),height:this.Jt(a),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},kp:function(a,c){for(var b in c){var d=c[b];"number"===typeof d&&(d+="px");a.style[b]=d}},yf:function(a){this.Or=!a;this.If&&(this.If[0].style.display=this.Or?"none":"")},createInnerElement:function(){console.warn("missing inner element");return null},KE:function(){return this.ke},EE:function(){return this.If},render:function(a,c,b,d){if(!this.If){var f=document.createElement("div");
f.className=this.Wi;this.If=$(f)}var f=d?$(this.If[0].cloneNode()):this.If,k=this.Pe(b,c),h=JSON.stringify(k);h!==f.Yy&&(f.css(k),f.Yy=h);if(this.ke=this.ke||this.createInnerElement()){var l=d?$(this.ke[0].cloneNode(!0)):this.ke;l!==this.ke&&(this.refresh&&this.refresh(),l[0].value=this.ke[0].value,this.ke[0].checked&&(l[0].checked=!0));document.activeElement===l[0]&&l.trigger("focusout");b=this.tc(b);h=JSON.stringify(b);h!==l.Yy&&(this.kp(l[0],b),l.Yy=h);this.ew||(this.uh(c),this.ew=!0)}if(this.If[0].parentNode!==
a[0])for(a[0].appendChild(f[0]),a=0;a<this.ke.length;++a)c=0===a?l[0]:d?this.ke[a].cloneNode(!0):this.ke[a],f[0].appendChild(c)},hv:function(){this.If&&(this.If.remove(),this.ew=!1)}};d.HTMLAnnotation.prototype=$.extend(Object.create(d.Annotation.prototype),d.HTMLAnnotation.prototype,a.Actions.dh.prototype);Object.defineProperties(d.HTMLAnnotation.prototype,{rect:{get:function(){return this.pe()},set:function(a){this.xj(a)}},element:{get:function(){return this.EE()}},innerElement:{get:function(){return this.KE()}},
hidden:{get:function(){return this.Or},set:function(a){this.yf(!a)}},StrokeColor:{get:function(){return this.rk},set:function(a){this.rk=new d.Color(a)}},border:{get:function(){return this.Fr},set:function(a){this.Fr.set(a)}},backgroundColor:{get:function(){return this.Er},set:function(a){this.Er=new d.Color(a)}},actions:{get:function(){return this.Hk()}},rotation:{get:function(){return this.Hw},set:function(a){this.Hw=Number(a)}}})})(window);
(function(a){var d=a.Annotations||{};d.fd=function(a){d.HTMLAnnotation.call(this,a);this.Listable=!1};d.fd.prototype=Object.create(d.HTMLAnnotation.prototype);d.fd.prototype.elementName="link";d.fd.prototype.createInnerElement=function(){var a=document.createElement("span");a.className="link";a.setAttribute("tabindex",0);return $(a)};d.fd.prototype.uh=function(){d.HTMLAnnotation.prototype.uh.apply(this,arguments);var a=this;this.innerElement.on("tap",function(){a.trigger("mouseup")})};d.fd.prototype.AF=
function(){return!0};d.fd.prototype.Rp=function(){var e=a.Annotations.O.sb.Events;return $.extend(d.HTMLAnnotation.prototype.Rp.call(this),{U:{triggers:"tap",internal_name:"mouseup",getEvent:function(){return e.fd.create("Mouse Up")}}})};d.fd.prototype.Pe=function(a,c){var b=d.HTMLAnnotation.prototype.Pe.apply(this,arguments),g={};if(this.StrokeThickness&&this.StrokeColor){var f=this.StrokeStyle,k="border";"underline"===f&&(k="border-bottom");"solid"!==f&&"dashed"!==f&&"inset"!==f&&(f="solid");var h=
c.u.uc(this.Hb());g[k]=d.ua.Cs(h,this.StrokeThickness)*a+"px "+f+" "+this.StrokeColor.toHexString()}return $.extend(b,g)};d.fd.prototype.deserialize=function(a,c,b){d.HTMLAnnotation.prototype.deserialize.call(this,a,c,b);var g=d.ba.Vi(a.getAttribute("color"));g&&(this.StrokeColor=g);g=a.getAttribute("width");"undefined"!==typeof g&&null!==g&&(this.StrokeThickness=parseFloat(g));g=a.getAttribute("style");"undefined"!==typeof g&&null!==g&&(this.StrokeStyle=g);this.HC(a,c,b)};d.fd.prototype.serialize=
function(a,c){d.HTMLAnnotation.prototype.serialize.call(this,a,c);this.StrokeColor&&a.setAttribute("color",this.StrokeColor.toHexString());"undefined"!==typeof this.StrokeThickness&&null!==this.StrokeThickness&&a.setAttribute("width",this.StrokeThickness);this.StrokeStyle&&a.setAttribute("style",this.StrokeStyle);this.dR(a,c);return a}})(window);
(function(a){var d=a.Annotations||{};d.Oj=function(){d.Annotation.call(this);this._isOpen=!1;this.Id=null;this.NoRotate=this.NoZoom=this.Printable=!0;this.DateModified=null};d.Oj.prototype={elementName:"popup",isOpen:function(){return this._isOpen},qH:function(a){this._isOpen=a},serialize:function(a){a=d.Annotation.prototype.serialize.apply(this,arguments);this.isOpen()&&a.setAttribute("open","yes");return a},deserialize:function(a){this.Printable=!1;d.Annotation.prototype.deserialize.apply(this,
arguments);var c=a.getAttribute("open");this.qH(c&&"yes"===c)}};d.Oj.prototype=$.extend(new d.Annotation,d.Oj.prototype)})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.WidgetAnnotation=function(a,b){d.HTMLAnnotation.call(this,b);if(!a)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Fa=a;this.jm=null;a.fL(this,b?b.index:void 0);this.IsAdded=!1;this.KT=new Date;this.rC="Left-justified";this.Listable=!1;this.wB="";this.dw={};this.zB={Normal:"",Rollover:"",Down:""};this.Hr=!1;this.Zb=new d.xi({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});
this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(b);var e=this;this.on("commit",_.bind(this.nx,this));this.on("change",function(b,a){e.kH();e.fg(a);e.trigger("commit")});this.on("blur",function(){e.fieldFlags.get("ReadOnly")||e.zb(e.Fa.value);e.refresh()});this.on("focus",function(){e.fieldFlags.get("ReadOnly")||e.fg(e.Fa.value);e.refresh()})};d.WidgetAnnotation.prototype={elementName:"widget",yl:null,wh:function(a){if(!d.Annotation.prototype.wh.call(this,a)||!this.yl)return!1;a=
d.ba.getAttribute(a,"FT");return this.yl===a},Fh:function(){for(var a="",b=Object.keys(this.appearances),e=0;e<b.length;++e){var d=b[e];if("Off"!==d){a=d;break}}return a},Yf:function(a){this.fg(a)},kH:function(){this.Hr=!0},set:function(a){if(_.isObject(a)){_.isUndefined(a.value)||(this.value=String(a.value));_.isUndefined(a.flags)||(this.Zb.set(a.flags),this.Zb.get("Hidden")&&this.yf(!1),this.Zb.get("NoView")&&this.yf(!1));if(!_.isUndefined(a.captions)){var b=a.captions,e=this.zB;Object.keys(b).forEach(function(a){e[a]=
b[a]})}_.isUndefined(a.page)||(this.PageNumber=a.page);_.isUndefined(a.quadding)||(this.quadding=a.quadding);_.isUndefined(a.appearances)||(this.dw=a.appearances);_.isUndefined(a.appearance)||(this.appearance=a.appearance);_.isUndefined(a.rotation)||(this.rotation=a.rotation);_.isUndefined(a.font)||(this.font=a.font)}},Pe:function(a){var b=d.HTMLAnnotation.prototype.Pe.apply(this,arguments),b=$.extend(b,this.font.qA(a));this.fieldFlags.get("Required")&&(b.border=1.5*a+"px solid red");return b},tc:function(){var a=
d.HTMLAnnotation.prototype.tc.apply(this,arguments);return $.extend(a,{"text-align":{"Left-justified":"left",Centered:"center","Right-justified":"right"}[this.quadding]})},Lk:function(){var a=d.WidgetAnnotation.getCustomStyles;return a&&a(this)},QC:function(){function a(b){b.scale&&1!==b.scale&&b.preventDefault();b.stopPropagation()}var b=this.ke[0];b.addEventListener("touchstart",a,{xq:!1});b.addEventListener("touchmove",a,{xq:!1});b.addEventListener("touchend",a,{xq:!1});b.addEventListener("mousedown",
a,{xq:!1});b.addEventListener("mousemove",a,{xq:!1});b.addEventListener("mouseup",a,{xq:!1})},kj:function(){return!0},Va:function(){return this._value},zb:function(c){c=a.Annotations.O.sb.Events.ea.create("Format",this.Fa,{value:c});this.Fa.ye("F",c);this.fg(c.value)},yf:function(a){this.Zb.set("Hidden",!a);d.HTMLAnnotation.prototype.yf.call(this,a)},render:function(a,b,g,f){if(!f){e.Lj=g;var k=!1;this.innerElement&&this.element||(k=!0)}d.HTMLAnnotation.prototype.render.apply(this,arguments);k&&!f&&
(this.element.attr("id",this.Fa.name),this.refresh())},fg:function(a){this._value=a;this.refresh()},refresh:function(){var a=this.fieldFlags.get("Multiline");this.font.VM(this._value?String(this._value):"",this,a);if(a=this.element){a[0].setAttribute("id",this.Fa.name);var b=this.Pe(e.Lj);this.kp(a[0],b);if(a=this.innerElement)this.Fa&&this.Fa.userName&&a[0].setAttribute("title",this.Fa.userName),b=this.tc(e.Lj),this.kp(a[0],b)}},Ih:function(){return null},deserialize:function(a,b,e){d.HTMLAnnotation.prototype.deserialize.call(this,
a,b);var f=d.ba;this.Fa.xH(f.getAttribute(a,"FT"));f.getAttribute(a,"creationdate")?this.DateCreated=f.yx(f.getAttribute(a,"creationdate")):this.DateCreated=null;this.border.deserialize(a);this.fieldFlags.deserialize(a);this.font.deserialize(a,b);var k=f.Wm(a,"V","value");this.Yf(k);this.Fa.Yf(k);this.defaultValue=f.Wm(a,"DV","defaultvalue");k=f.Wm(a,"defaultappearance","defaultappearance");k=f.rG(k);f.getAttribute(a,"color")?this.StrokeColor=f.getAttribute(a,"color").split(","):k.color&&(this.StrokeColor=
k.color);f.getAttribute(a,"BG")&&(this.backgroundColor=f.getAttribute(a,"BG").split(","));this.rotation=f=(f=f.getAttribute(a,"rotation"))?parseInt(f,10):0;if(90===f||270===f)f=this.Width,this.Width=this.Height,this.Height=f;this.HC(a,b,e)},serialize:function(){},xb:function(){return this.Fa},nH:function(a){this.Fa=a;this.fg(this.Fa.value)},wf:function(a){d.HTMLAnnotation.prototype.wf.call(this,a);this.Fa&&this.Fa.wf(a)},XK:function(a,b){this.Fa.uk(a,b)},uk:function(a,b){-1!==["K","V","F","C"].indexOf(a)?
this.XK(a,b):d.HTMLAnnotation.prototype.uk.call(this,a,b)},nx:function(){this.Fa.trigger("commit",this.Va(),this)},Rp:function(){var c=a.Annotations.O.sb.Events,b=this;return $.extend(d.HTMLAnnotation.prototype.Rp.call(this),{E:{triggers:"mouseenter",internal_name:"mouseenter",getEvent:function(){return c.ea.create("Mouse Enter",b.xb())}},X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return c.ea.create("Mouse Leave",b.xb())}},D:{triggers:"mousedown",internal_name:"mousedown",
getEvent:function(){return c.ea.create("Mouse Down",b.xb())}},U:{triggers:a.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return c.ea.create("Mouse Up",b.xb())}},Bl:{triggers:"focusout",internal_name:"blur",getEvent:function(){var a=b.xb();return c.ea.create("Blur",a,{value:a.value})}},Fo:{triggers:"focusin",internal_name:"focus",getEvent:function(){return c.ea.create("Focus",b.xb())}}})},BO:function(){return!!this.jm},uh:function(){d.HTMLAnnotation.prototype.uh.apply(this,
arguments);var c=this,b=this.innerElement;b&&(b.on("focusout",function(){c.Hr&&(c.Hr=!1,c.trigger("commit"));c.trigger("blur")}),b.on("focusin",function(){c.trigger("focus")}),b.on("mouseenter",function(){c.trigger("mouseenter")}),b.on("mouseleave",function(){c.trigger("mouseleave")}),b.on("mousedown",function(){c.trigger("mousedown")}),b.on(c.fI?"click":a.utils.mouseUpEventBug?"touchend":"mouseup",function(){c.trigger("mouseup")}))}};d.WidgetAnnotation.prototype=$.extend(Object.create(d.HTMLAnnotation.prototype),
d.WidgetAnnotation.prototype);Object.defineProperties(d.WidgetAnnotation.prototype,{fieldName:{get:function(){return this.Fa.name}},value:{get:function(){return this.Va()},set:function(a){this.zb(a)}},defaultValue:{get:function(){return this.Fa.defaultValue},set:function(a){this.Fa.defaultValue=a}},fieldFlags:{get:function(){return this.Fa.flags}},flags:{get:function(){return this.Zb}},font:{get:function(){return this.jm||this.Fa.font},set:function(c){this.jm=new a.Annotations.tg(c)}},fieldActions:{get:function(){return this.Fa.actions}},
appearance:{get:function(){return this.wB},set:function(a){this.dw[a]?this.wB=a:console.log("Unknown appearance: "+a)}},quadding:{get:function(){return this.rC},set:function(a){this.rC=a}},appearances:{get:function(){return this.dw}},captions:{get:function(){return this.zB}}})})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.jc=function(a,b){d.WidgetAnnotation.call(this,a,b)};d.jc.prototype={yl:"Btn",Fs:null,wh:function(a){if(d.WidgetAnnotation.prototype.wh.call(this,a)){var b=new d.xi({mask:["PushButton","Radio"]}),e="C";b.deserialize(a);b.get("PushButton")?e="P":b.get("Radio")&&(e="R");return e===this.Fs}return!1}};d.jc.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.jc.prototype);d.Pj=function(a,b){d.jc.call(this,a,b)};d.Pj.prototype={Fs:"P",Wi:"pButton",
tc:function(){return $.extend(d.jc.prototype.tc.apply(this,arguments),{"background-color":"transparent"},this.Lk())},deserialize:function(a,b,e){var f=d.ba;d.jc.prototype.deserialize.call(this,a,b,e);(a=f.getAttribute(a,"ButtonLabel"))&&(this.captions.Normal=a)},Ih:function(){return null},createInnerElement:function(){var a=document.createElement("button");a.setAttribute("tabindex",0);$(a).append(this.captions.Normal);this.fieldFlags.get("ReadOnly")&&(a.disabled=!0);return $(a)}};d.Pj.prototype=$.extend(!0,
Object.create(d.jc.prototype),d.Pj.prototype);d.li=function(a,b){d.jc.call(this,a,b);this.JH(!1);var e=this;this.fI=!0;this.on("click",function(){"Off"===this.Va()?e.trigger("change",e.Fh()):e.trigger("change","Off")})};d.li.prototype={Fs:"C",Wi:"checkBox",refresh:function(){d.WidgetAnnotation.prototype.refresh.call(this);var a=this.innerElement;a&&(a.prop("checked",this.Va()===this.Fh()),a.css(this.tc(e.Lj)))},fg:function(a){a===this.Fh()?(this.appearance=a,d.jc.prototype.fg.call(this,a)):(this.appearance=
"Off",d.jc.prototype.fg.call(this,"Off"))},tc:function(){var a=d.jc.prototype.tc.apply(this,arguments);a.left=Math.round(a.left);a.top=Math.round(a.top);return $.extend(a,{border:"none",margin:0},this.Lk())},Ih:function(){var a=this.innerElement;if(a)return a.prop("checked")?this.Fh():"Off"},createInnerElement:function(){var a=document.createElement("input");a.type="checkbox";a.setAttribute("tabindex",0);this.fieldFlags.get("ReadOnly")&&(a.disabled=!0);var b=this,a=$(a);a.on("click",function(){b.trigger("click")});
return a},deserialize:function(a,b,e){var f=d.ba.getAttribute(a,"N");f&&(this.appearances.Off={},this.appearances[f]={});d.jc.prototype.deserialize.call(this,a,b,e)}};d.li.prototype=$.extend(!0,Object.create(d.jc.prototype),d.li.prototype);Object.defineProperties(d.li.prototype,{buttonName:{set:function(a){this.hK=a},get:function(){return this.hK}}});d.Qj=function(a,b){d.jc.call(this,a,b);this.JH(!1);var e=this;this.fI=!0;this.on("click",function(){"Off"===this.Va()?e.trigger("change",e.Fh()):e.trigger("change",
"Off")})};d.Qj.prototype={Fs:"R",Wi:"radioButton",Ih:function(){return this.Fh()},refresh:function(){var a=this.innerElement;a&&(a.prop("checked",this.Fa.Va()===this.Ih()),a.css(this.tc(e.Lj)))},tc:function(){var a=d.jc.prototype.tc.apply(this,arguments);a.left=Math.round(a.left);a.top=Math.round(a.top);return $.extend(a,{border:"none",margin:0},this.Lk())},fg:function(a){"Off"!==a&&-1!==Object.keys(this.appearances).indexOf(a)?(this.appearance=a,d.jc.prototype.fg.call(this,a)):(this.appearance="Off",
d.jc.prototype.fg.call(this,"Off"))},createInnerElement:function(){var a=document.createElement("input");a.type="radio";a.setAttribute("tabindex",0);this.fieldFlags.get("ReadOnly")&&(a.disabled=!0);var b=this;$(a).on("click",function(){b.trigger("click")});return $(a)},deserialize:function(a,b,e){var f=d.ba.getAttribute(a,"N");f&&(this.appearances.Off={},this.appearances[f]={});d.jc.prototype.deserialize.call(this,a,b,e)}};d.Qj.prototype=$.extend(!0,Object.create(d.jc.prototype),d.Qj.prototype)})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{},c,b;d.ra=function(){d.Annotation.call(this);this.Ff=new d.Color(0,0,0,0);this._opacity=this.Ai=1;this.GB=new Date;this.fs=null};d.ra.prototype={Ac:function(b,a){null!==this.Opacity&&(b.globalAlpha=this.Opacity);null!==this.FillColor&&(b.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(b.strokeStyle=this.StrokeColor.toString());b.lineWidth=0===this.StrokeThickness?.001:this.Zi(a)},uS:function(){var a=this.X+this.za()+2*this.StrokeThickness+
100,e=this.Y+this.va()+2*this.StrokeThickness+100;c=c||document.createElement("canvas").getContext("2d");c.canvas.width=a;c.canvas.height=e;b=b||document.createElement("canvas").getContext("2d");b.canvas.width=a;b.canvas.height=e},DM:function(a,e){this.uS();this.Ac(c,e);c.globalAlpha=1;this.Dh(c);c.stroke();this.Ac(b,e);b.globalAlpha=1;this.Dh(b);b.fill();c.globalCompositeOperation="source-out";c.drawImage(b.canvas,0,0);this.Ac(a,e);a.globalCompositeOperation="source-over";a.drawImage(c.canvas,0,
0);this.Dh(a);a.stroke()},Ex:function(b,a){b.beginPath();1!==this.Opacity&&null!==this.Opacity?this.DM(b,a):(this.Ac(b,a),this.Dh(b),b.fill(),b.stroke())},Dh:function(){},TE:function(){return this.fs},tH:function(b){this.fs=b},Zi:function(b){return d.ua.Cs(b,this.StrokeThickness)},serialize:function(b,a){var c=d.Annotation.prototype.serialize.apply(this,arguments),e=d.ba,l={},m=e.eg(this.FillColor);null!==m&&(l["interior-color"]=m);_.isUndefined(this.StrokeThickness)||_.isNull(this.StrokeThickness)||
(m=this.StrokeThickness,1!==m&&(l.width=m));_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||1===this.Opacity||(l.opacity=this.Opacity);(m=this.fringe)&&!m.GF()&&(l.fringe=d.ba.Qz(this.fringe,a));if(m=this.DateCreated){var n;this.oz&&(m.getTime()===this.iG?n=this.oz:(delete this.oz,delete this.iG));n||(n=e.rA(m));l.creationdate=n}this.hc(c,"style","solid");this.hc(c,"dashes","3");this.hc(c,"IT");this.hc(c,"inreplyto");this.hc(c,"replyType");for(var q in l)c.setAttribute(q,l[q]);!this.fs||this instanceof
d.Na||(e=document.createElementNS("","popup"),e=this.fs.serialize(e,a),c.appendChild(e));return c},deserialize:function(b,a,c){d.Annotation.prototype.deserialize.apply(this,arguments);var e=d.ba,l=b.getAttribute("opacity");this.Opacity="undefined"!==typeof l&&null!==l?parseFloat(l):1;l=b.getAttribute("width");if(null!==this.StrokeThickness||"undefined"!==typeof l&&null!==l)this.Ai=parseFloat(l||"1");this.zc(b,"style");this.zc(b,"dashes");this.zc(b,"IT");this.zc(b,"inreplyto");this.zc(b,"replyType");
this.qz=l=b.getAttribute("fringe");"undefined"!==typeof l&&null!==l&&(this.fringe=e.FD(l,a));l=e.Vi(b.getAttribute("interior-color"));null!==l?this.FillColor=l:null!==this.FillColor&&(this.FillColor=new d.Color(0,0,0,0));(l=b.getAttribute("creationdate"))?(this.oz=l,e=e.yx(l),this.iG=e.getTime(),this.DateCreated=e):this.DateCreated=null;e=b.getElementsByTagName("popup");0<e.length&&(l=new d.Oj,l.deserialize(e[0],a,c),this.tH(l))},selectionModel:d.na,hF:!0};d.ra.prototype=$.extend(!0,new d.Annotation,
d.ra.prototype);Object.defineProperties(d.ra.prototype,{FillColor:{get:function(){return this.Ff},set:function(b){b instanceof d.Color&&(this.Ff=b,this.qb())}},StrokeColor:{get:function(){return this.zi},set:function(b){b instanceof d.Color&&(this.zi=b,this.qb())}},StrokeThickness:{get:function(){return this.Ai},set:function(b){this.Ai=parseFloat(b);this.qb();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(b){this._opacity=parseFloat(b);this.qb()}},DateCreated:{get:function(){return this.GB},
set:function(b){this.GB=e.BE(b)}}})})(window);
(function(a){var d=a.Annotations||{};d.qg=function(e,c){var b=this;b.on("change",function(c,e){var d=a.Annotations.O.sb.Events.ea.create("Keystroke",b.Fa,{value:e,change:"",willCommit:!1,selStart:-1,selEnd:-1});b.Fa.ye("K",d)});d.WidgetAnnotation.call(this,e,c)};d.qg.FORCE_SELECT=!1;d.qg.prototype={yl:"Ch",Wi:"choice",uh:function(){d.WidgetAnnotation.prototype.uh.apply(this,arguments);this.QC()},wh:function(a){if(d.WidgetAnnotation.prototype.wh.call(this,a)){var c=new d.xi({mask:["Combo"]});c.deserialize(a);
if(c.get("Combo"))return!0}return!1},deserialize:function(a,c,b){d.WidgetAnnotation.prototype.deserialize.call(this,a,c,b);c=d.ba;c.getAttribute(a,"Opt")&&(a=c.getAttribute(a,"Opt"),this.Fa.options=a.split(",").map(function(b){return{value:b,displayValue:b}}),this.xb().Yf(this.Va()),this.Yf(this.xb().Va()))},Pe:function(){return $.extend(d.WidgetAnnotation.prototype.Pe.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide","z-index":"36"})},tc:function(a){return $.extend(d.WidgetAnnotation.prototype.tc.apply(this,
arguments),{resize:"none","min-height":"",height:this.Jt(a)},this.Lk())},refresh:function(){d.WidgetAnnotation.prototype.refresh.apply(this,arguments);var a=this.innerElement,c=this.Va();a&&a.val(c)},Ih:function(){var a=this.innerElement;if(a)return a.val()},createInnerElement:function(){function e(){c(50,k.length);h.off("mousedown",null,e);h.off("touchend",null,e)}function c(b,a){for(var c=document.createDocumentFragment(),e=b;e<a;++e){var d=k[e],f=document.createElement("OPTION");f.text=_.isUndefined(d.displayValue)?
d.value:d.displayValue;f.value=d.value;c.appendChild(f)}g.appendChild(c)}var b,g,f=this;!f.fieldFlags.get("Edit")||a.utils.isSafari||9===a.utils.ie||d.qg.FORCE_SELECT?g=b=document.createElement("select"):(b=document.createElement("input"),b.setAttribute("list",f.fieldName+"_list"),$(b).on("focus",function(){this.value=""}),g=document.createElement("datalist"),g.id=f.fieldName+"_list");f.fieldFlags.get("ReadOnly")&&(b.disabled=!0);var k=f.options,h=g===b?$(b):$([b,g]);50<k.length?(c(0,50),h.on("mousedown",
e),h.on("touchend",e)):c(0,k.length);h.on("change",function(){f.trigger("change",[f.Ih()])});return h}};d.qg.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.qg.prototype);Object.defineProperties(d.qg.prototype,{options:{get:function(){return this.Fa.options}}})})(window);
(function(a){var d=a.Annotations||{};d.oi=function(a,c){d.WidgetAnnotation.call(this,a,c)};d.oi.prototype={yl:"Ch",Wi:"list",refresh:function(){d.WidgetAnnotation.prototype.refresh.apply(this,arguments);var a=this.innerElement;a&&(a[0].value=this.Va())},wh:function(a){if(d.WidgetAnnotation.prototype.wh.call(this,a)){var c=new d.xi({mask:"Combo"});c.deserialize(a);if(!c.get("Combo"))return!0}return!1},deserialize:function(a,c,b){d.WidgetAnnotation.prototype.deserialize.call(this,a,c,b);c=d.ba;c.getAttribute(a,
"Opt")&&(a=c.getAttribute(a,"Opt"),this.Fa.options=a.split(",").map(function(b){return{value:b,displayValue:b}}),this.xb().Yf(this.Va()),this.Yf(this.xb().Va()))},Pe:function(){return $.extend(d.WidgetAnnotation.prototype.Pe.apply(this,arguments),{"overflow-y":"auto","overflow-x":"hidden"})},Ih:function(){var a=this.innerElement;return a?a.val():null},tc:function(){return $.extend(d.WidgetAnnotation.prototype.tc.apply(this,arguments),{"overflow-y":"scroll","overflow-x":"hidden"},this.Lk())},createInnerElement:function(){var a=
document.createElement("select");a.name=this.fieldName.replace(/\.|\s/g,"_");a.setAttribute("size",this.options.length);this.options.forEach(function(b){var c=_.isUndefined(b.displayValue)?b.value:b.displayValue,d=document.createElement("option");d.value=b.value;d.innerHTML=c;a.appendChild(d)});this.fieldFlags.get("ReadOnly")&&(a.disabled=!0);this.fieldFlags.get("MultiSelect")&&(a.multiple=!0);var c=this;$(a).on("change",function(){c.trigger("change",[c.Ih()])});return $(a)}};d.oi.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),
d.oi.prototype);Object.defineProperties(d.oi.prototype,{options:{get:function(){return this.Fa.options}}})})(window);
(function(a){var d=a.Annotations||{};d.Vj=function(a,c){d.WidgetAnnotation.call(this,a,c)};d.Vj.prototype={yl:"Sig",Wi:"signature",deserialize:function(a,c,b){d.WidgetAnnotation.prototype.deserialize.call(this,a,c,b);a=a.getElementsByTagName("imagedata");0<a.length&&(this.appearances._DEFAULT={Normal:a[0].textContent},this.appearance="_DEFAULT")},tc:function(){var e=d.WidgetAnnotation.prototype.tc.apply(this,arguments),c=e.width,b=e.height,g=this.rotation;if(90===g||270===g)var f=c,c=b,b=f;var k=
a.utils.getRotationOffsets((360-g)%360,c,b),f=k.dx,k=k.dy;return $.extend(e,{transform:"translate("+f+"px,"+k+"px) rotate("+g+"deg)","transform-origin":"top left","-webkit-transform":"translate("+f+"px,"+k+"px) rotate("+g+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+f+"px,"+k+"px) rotate("+g+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+f+"px,"+k+"px) rotate("+g+"deg)","-moz-transform-origin":"top left",width:c,height:b},this.Lk())},createInnerElement:function(){var a=
new Image,c=this.appearances[this.appearance];c&&(c=c.Normal,a.src=c&&c.data||"");return $(a)}};d.Vj.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.Vj.prototype)})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.$j=function(a,b){d.WidgetAnnotation.call(this,a,b);this.fieldFlags.Ap(["Multiline","DoNotScroll","Password"]);this.Hr=!1;this.ef=this.Fa.maxLen};d.$j.prototype={yl:"Tx",Wi:"text",uh:function(){d.WidgetAnnotation.prototype.uh.apply(this,arguments);this.QC()},refresh:function(a){d.WidgetAnnotation.prototype.refresh.call(this);var b=this.innerElement;if(b)if(this.fieldFlags.get("ReadOnly"))b[0].innerHTML=this.value;else{var e,f;a&&(e=this.innerElement[0].selectionStart,
f=this.innerElement[0].selectionEnd);this.innerElement[0].value=this.value||"";a&&this.innerElement[0].setSelectionRange(e,f)}},Pe:function(){return d.WidgetAnnotation.prototype.Pe.apply(this,arguments)},tc:function(){var a=d.WidgetAnnotation.prototype.tc.apply(this,arguments),b={"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"};if(this.fieldFlags.get("Comb")){var g=d.WidgetAnnotation.prototype.Pe.apply(this,
arguments),g=e.kO("1",g["font-size"]+" "+g["font-family"]),f=a.width/this.ef;b["margin-left"]=.2*f+"px";b["letter-spacing"]=f-g+"px"}return $.extend(a,b,this.Lk())},kp:function(a,b){d.WidgetAnnotation.prototype.kp.apply(this,arguments);if(this.Ty()&&b["font-size"]&&a.value){var e=a.style.overflowY;a.style.overflowY="hidden";a.offsetHeight;a.style.overflowY=e}},Ty:function(){return 0===this.font.size},hP:function(){return this.Ty()&&this.font.Bi===this.font.lC},Ih:function(){var a=this.innerElement;
if(a)return this.fieldFlags.get("ReadOnly")?a.text():a.val()},xN:function(a,b){if(a!==b){for(var e=0;a.charAt(e)===b.charAt(e);)e++;for(var d=0;a.charAt(a.length-1-d)===b.charAt(b.length-1-d)&&d+e<a.length&&d+e<b.length;)d++;var k,h=0;a.length!==e+d&&(h=a.length-d-e,k="");b.length!==e+d&&(k=b.slice(e,b.length-d));return{result:k,start:e,end:e+h}}},createInnerElement:function(){function c(){setTimeout(function(){f.refresh(!0)},0)}function b(a){return f.Ty()&&(!f.hP()||a)}function d(a,b){a.preventDefault();
b.value=f.Va();b.style.overflowY="hidden";b.offsetHeight;b.style.overflowY="auto"}var f=this,k=this.fieldFlags,h=k.get("Multiline"),l=k.get("ReadOnly"),m=k.get("DoNotScroll"),n;l?(n=document.createElement("div"),n.className="text"):(h?n=document.createElement("textarea"):(n=document.createElement("input"),n.type="text"),0<this.ef&&n.setAttribute("maxlength",this.ef));e.GM(n,function(k){var l=0,v=0,p=k.change,u=f.Va()||"";if(!k.zF){v=f.xN(u,p);if(!v)return;k.change=v.result;l=v.start;v=v.end}p=a.Annotations.O.sb.Events;
l=p.ea.create("Keystroke",f.xb(),{value:k.zF?"":u,change:k.change,selStart:l,selEnd:v,willCommit:!1});f.Fa.ye("K",l);l.rc?(l=p.Ym(l),u=null!==f._value&&l.length<f._value.length,v=!0,m?h?b(u)?c():n.scrollHeight-1>=Math.ceil($(n).innerHeight())&&(v=!1):u?(v=!0,b(u)&&c()):b(u)?c():v=e.measureText(l||" ",n.parentNode.style.fontSize,n.parentNode.style.fontFamily,n.parentNode.style.fontWeight).width<$(n).width():b(u)&&c(),0<f.ef&&(v=v&&l.length<=f.ef),v?(f._value=l,document.activeElement===n?f.kH():f.trigger("commit")):
d(k,n)):d(k,n)},!h);return $(n)}};d.$j.prototype=$.extend(Object.create(d.WidgetAnnotation.prototype),d.$j.prototype)})(window);
(function(a){var d=a.Annotations||{};d.xi=function(a){this.sh={};this.rm=null;this.ap=0;_.isObject(a)&&_.isArray(a.mask)&&this.Ap(a.mask)};d.xi.prototype={mi:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.sh={}},Ap:function(a){_.isNull(this.rm)&&(this.rm={});for(var c=a.length,b=0;b<c;++b){var d=a[b];this.rm[d]=this.mi[d]||0}},iM:function(a){var c=
[],b=this.rm||this.mi;Object.keys(b).forEach(function(d){0!==(a&b[d])&&(a&=~b[d],c.push(d))});return{result:c,WS:a}},get:function(a){return!!this.sh[a]},RS:function(){var a=0,c;for(c in this.sh)this.sh.hasOwnProperty(c)&&!0===this.sh[c]&&(a|=this.mi[c]);return a|this.ap},toArray:function(){var a=this;return Object.keys(this.sh).filter(function(c){return a.sh[c]})},deserialize:function(a){a=d.ba.getAttribute(a,"Ff");this.set(parseInt(a,10))},serialize:function(a){a.setAttribute("Ff",String(this.RS()))},
set:function(a,c){if(_.isArray(a))for(var b=a.length,d=0;d<b;++d)this.set(a[d]);else _.isNumber(a)?(b=this.iM(a),this.ap|=b.WS,this.set(b.result)):_.isString(a)&&(b=!0,_.isUndefined(c)||(b=!!c),this.rm?_.isUndefined(this.rm[a])?this.ap|=this.mi[a]||0:this.sh[a]=b:this.sh[a]=b)}}})(window);
(function(a){var d=a.Annotations||{};d.qo=function(){d.ra.call(this);this["_xsi:type"]="Caret";this.Subject=d.ua.kd("caret");this.StrokeThickness=0;this.Ff=null};d.qo.prototype={elementName:"caret",draw:function(e,c){this.Ac(e,c);var b=this.Width,g=this.Height,f=Number(this.Rotation);if(90===f||270===f)f=b,b=g,g=f;e.translate(this.X,this.Y);e.rotate(-this.Rotation*Math.PI/180);f=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);e.translate(-f.dx,-f.dy);e.translate(-this.X,
-this.Y);e.beginPath();e.fillStyle=this.StrokeColor.toString();b=new d.Rect(this.X,this.Y,this.X+b,this.Y+g);f=(b.x1+b.x2)/2;g=b.y1+3*g/4;e.moveTo(f,b.y1);e.quadraticCurveTo(f,g,b.x1,b.y2);e.lineTo(b.x2,b.y2);e.quadraticCurveTo(f,g,f,b.y1);e.closePath();e.fill();e.stroke()},selectionModel:d.na,deserialize:function(a){d.ra.prototype.deserialize.apply(this,arguments);var c=Number(this.Rotation);if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c;this.StrokeThickness=0;this.zc(a,"symbol")},
serialize:function(a){var c=Number(this.Rotation),b;if(90===c||270===c)b=this.Width,this.Width=this.Height,this.Height=b;d.ra.prototype.serialize.apply(this,arguments);if(90===c||270===c)b=this.Width,this.Width=this.Height,this.Height=b;this.hc(a,"symbol");a.removeAttribute("width");return a}};d.qo.prototype=$.extend(new d.ra,d.qo.prototype)})(window);
(function(a){var d=a.Annotations||{};d.Jl=function(){d.ra.call(this);this["_xsi:type"]="Ellipse";this.Subject=d.ua.kd("ellipse");var a=this.getRectPadding();this.fringe=new d.Rect(a,a,a,a)};d.Jl.prototype={elementName:"circle",draw:function(a,c){this.Ex(a,c)},Dh:function(a){var c=this.X+this.fringe.x1,b=this.Y+this.fringe.y1,d=this.za()-this.fringe.x1-this.fringe.x2,f=this.va()-this.fringe.y1-this.fringe.y2,k=Math.min(d,f);a.lineWidth>=k&&(a.lineWidth=k-1);a.lineWidth*=2;k=d/f;isNaN(k)||Infinity===
k||(a.save(),a.translate(c+(1-k)*d/2,b),a.scale(k,1),a.beginPath(),a.arc(.5*d,.5*f,Math.max(.5*f,0),0,2*Math.PI,!1),a.closePath(),a.restore(),a.clip())},getRectPadding:function(){return 0},selectionModel:d.na};d.Jl.prototype=$.extend(new d.ra,d.Jl.prototype)})(window);
(function(a){var d=a.Annotations||{};d.FreeHandAnnotation=function(){d.ra.call(this);this.Ga=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Xa={x:0,y:0};this.ub={x:0,y:0};this.Sr=!1;this["_xsi:type"]="Free Hand";this.Subject=d.ua.kd("freeHand");this.xg=this.Ff=null};d.FreeHandAnnotation.opacityCap=.7;d.FreeHandAnnotation.Sc={InkHighlight:"InkHighlight"};d.FreeHandAnnotation.prototype={elementName:"ink",shouldSimplifyPath:!1,ac:function(a,c,b){"undefined"===
typeof b&&(b=0);if(b===this.Ga.length)this.Ga.push([]);else if(b>this.Ga.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,a);this.RightMost=Math.max(this.RightMost,a);this.TopMost=Math.min(this.TopMost,c);this.BottomMost=Math.max(this.BottomMost,c);var g=this.getRectPadding();this.aw=this.LeftMost-g;this.bw=this.TopMost-g;this.$v=this.RightMost-this.LeftMost+2*g;this.Yv=this.BottomMost-this.TopMost+2*g;this.Ga[b].push(new d.Point(a,
c))},xf:function(a,c,b,d){"undefined"===typeof d&&(d=0);var f;this.Ga.length>d?(f=this.Ga[d],f.length>a?(f[a].x=c,f[a].y=b,this.adjustRect()):f.length===a&&this.ac(c,b,d)):this.Ga.length===d?this.ac(c,b,d):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},Hh:function(a,c){"undefined"===typeof c&&(c=0);return this.Ga&&this.Ga.length>c&&this.Ga[c].length>a?this.Ga[c][a]:null},Fn:function(a){"undefined"===typeof a&&(a=0);var c=null;this.Ga.length>a&&(c=this.Ga[a].pop(),this.adjustRect());
return c},getPath:function(a){"undefined"===typeof a&&(a=0);return this.Ga.length>a?this.Ga[a]:null},setPath:function(a,c){"undefined"===typeof c&&(c=0);this.Ga.length<c?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.Ga.length>c?this.Ga[c]=a:this.Ga.length===c&&this.Ga.push(a);this.adjustRect()},FM:function(){this.Ga=[]},finish:function(){this.Sr||(this.qb(),this.Sr=!0)},resize:function(a){var c=a.x1,b=a.y1,d=a.za(),f=a.va();a=b-this.Y;if(!(0===c-this.X&&0===a&&d===this.Width&&
f===this.Height||1>d||1>f)){var k=a=1;"undefined"!==typeof d&&"undefined"!==typeof f&&(a=f/this.Height,k=d/this.Width,this.Width=d,this.Height=f);for(d=0;d<this.Ga.length;d++)for(f=0;f<this.Ga[d].length;f++)this.Ga[d][f].x=(this.Ga[d][f].x-this.X)*k+c,this.Ga[d][f].y=(this.Ga[d][f].y-this.Y)*a+b;this.X=c;this.Y=b}},draw:function(a,c){this.Ac(a,c);this.xg===d.FreeHandAnnotation.Sc.InkHighlight&&a.globalAlpha>d.FreeHandAnnotation.opacityCap&&(a.globalAlpha=d.FreeHandAnnotation.opacityCap);a.beginPath();
for(var b=this.Ok(),g=0;g<b.length;g++)this.Dh(a,b[g]);a.lineCap="round";a.lineJoin="round";a.stroke()},Ok:function(){return this.Ga},yS:function(a,c){if(this.shouldSimplifyPath)for(var b=0;b<this.Ga.length;b++){var d=window.simplify(this.getPath(b),a,c);this.setPath(d,b)}},Dh:function(a,c){var b="undefined"===typeof c?0:c.length;if(3<=b){a.moveTo(c[0].x,c[0].y);for(b=1;b<c.length-2;b++)a.quadraticCurveTo(c[b].x,c[b].y,(c[b].x+c[b+1].x)/2,(c[b].y+c[b+1].y)/2);b+1<c.length&&a.quadraticCurveTo(c[b].x,
c[b].y,c[b+1].x,c[b+1].y)}else 2===b&&(a.moveTo(c[0].x,c[0].y),a.lineTo(c[1].x,c[1].y))},rotate:function(e,c){this.Ga.forEach(function(b){for(var d=0;d<b.length;++d)b[d]=a.Sd.Math.aR(b[d],e,c)});this.adjustRect()},adjustRect:function(){if(0!==this.Ga.length){this.Xa={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.ub={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var a,c;for(a=0;a<this.Ga.length;a++)for(c=0;c<this.Ga[a].length;c++)if(null!==this.Ga[a][c]){var b=this.Ga[a][c].x,d=this.Ga[a][c].y;b>this.ub.x&&
(this.ub.x=b);d>this.ub.y&&(this.ub.y=d);b<this.Xa.x&&(this.Xa.x=b);d<this.Xa.y&&(this.Xa.y=d)}a=this.getRectPadding();this.X=this.Xa.x-a;this.Y=this.Xa.y-a;this.Width=Math.max(0,this.ub.x-this.Xa.x)+2*a;this.Height=Math.max(0,this.ub.y-this.Xa.y)+2*a;this.cv()}},getRectPadding:function(){return this.StrokeThickness},serialize:function(a,c){for(var b=d.ra.prototype.serialize.apply(this,arguments),g=document.createElementNS("","inklist"),f=this.Ok(),k=0;k<f.length;k++)if(!(1>f[k].length)){var h=d.ba.Rn(f[k],
c),l=document.createElementNS("","gesture");l.textContent=h;g.appendChild(l)}b.appendChild(g);this.xg&&(b.setAttribute("IT",this.xg),this.xg===d.FreeHandAnnotation.Sc.InkHighlight&&0!==this.Opacity&&this.Opacity>d.FreeHandAnnotation.opacityCap&&b.setAttribute("opacity",d.FreeHandAnnotation.opacityCap));return b},deserialize:function(a,c){d.ra.prototype.deserialize.apply(this,arguments);var b=this;b.Ga=[];a.querySelectorAll("inklist gesture").forEach(function(a){a=d.ba.Ak(a.textContent,c);a=b.shouldSimplifyPath?
window.simplify(a,.5):a;b.Ga.push(a)});this.adjustRect();this.xg=a.getAttribute("IT");this.Ff=null},selectionModel:d.na};d.FreeHandAnnotation.prototype=$.extend(new d.ra,d.FreeHandAnnotation.prototype);Object.defineProperties(d.FreeHandAnnotation.prototype,{Intent:{get:function(){return this.xg},set:function(a){this.xg=a;this.qb()}}})})(window);
(function(a){var d=a.Annotations||{};d.Qd=function(){d.ra.call(this);this.ka=[];this.Xa={x:0,y:0};this.ub={x:0,y:0}};d.Qd.prototype={ac:function(a,c){var b=this.getRectPadding();this.ka.push(new d.Point(a,c));1===this.ka.length?(this.Xa={x:a,y:c},this.ub={x:a,y:c},this.X=a-b,this.Y=c-b):(a>this.ub.x&&(this.Width=a-this.Xa.x+2*b,this.ub.x=a),c>this.ub.y&&(this.Height=c-this.Xa.y+2*b,this.ub.y=c),a<this.Xa.x&&(this.Width=this.ub.x-a+2*b,this.X=a-b,this.Xa.x=a),c<this.Xa.y&&(this.Height=this.ub.y-c+
2*b,this.Y=c-b,this.Xa.y=c))},xf:function(a,c,b){this.ka&&this.ka.length>a?(this.ka[a].x=c,this.ka[a].y=b,this.adjustRect()):this.ka&&this.ka.length===a&&this.ac(c,b)},Hh:function(a){return this.ka&&this.ka.length>a?this.ka[a]:null},Fn:function(){var a=this.ka.pop();this.adjustRect();return a},getPath:function(){return this.ka},setPath:function(a){this.ka=a;this.adjustRect()},getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.ka.length){this.Xa={x:Number.MAX_VALUE,
y:Number.MAX_VALUE};this.ub={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var a=0;a<this.ka.length;a++)if(null!==this.ka[a]){var c=this.ka[a].x,b=this.ka[a].y;c>this.ub.x&&(this.ub.x=c);b>this.ub.y&&(this.ub.y=b);c<this.Xa.x&&(this.Xa.x=c);b<this.Xa.y&&(this.Xa.y=b)}a=this.getRectPadding();this.X=this.Xa.x-a;this.Y=this.Xa.y-a;this.Width=Math.max(0,this.ub.x-this.Xa.x)+2*a;this.Height=Math.max(0,this.ub.y-this.Xa.y)+2*a;this.cv()}},selectionModel:d.Sl};d.Qd.prototype=$.extend(new d.ra,d.Qd.prototype)})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.Na=function(a){d.Qd.call(this);this.ka=[];this.Xa={x:0,y:0};this.ub={x:0,y:0};this.Ze=null;this["_xsi:type"]="FreeText";this.StrokeThickness=1;this.Tn(a);this.Yt="left";this.vB=new d.Color(255,0,0);this.kB="Verdana";this.lB="9pt";this.uB="left";this.sB=0;this.cm=2;this.Subject=a!==d.Na.Sc.FreeTextCallout?d.ua.kd("freetext"):d.ua.kd("callout")};d.Na.EXPORT_CALCULATED_FONT_SIZE=!0;d.Na.Sc={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};
d.Na.prototype={elementName:"freetext",ej:function(){return this.intent},Tn:function(a){this.intent=a||d.Na.Sc.FreeText;a!==d.Na.Sc.FreeTextCallout?this.selectionModel=d.xo:(this.yj("OpenArrow"),this.selectionModel=d.br)},yj:function(a){this.Ji=a},fj:function(){return this.Ji},ac:function(a,b){5>this.ka.length&&d.Qd.prototype.ac.call(this,a,b)},adjustRect:function(){this.ej()===d.Na.Sc.FreeTextCallout&&d.Qd.prototype.adjustRect.apply(this,arguments)},resize:function(a){if(this.ej()===d.Na.Sc.FreeTextCallout){var b=
a.y1-this.Y,e=a.za()/this.Width,f=a.va()/this.Height;if(0!==a.x1-this.X||0!==b||1!==e||1!==f){var k=this;this.ka.forEach(function(b){b.x=(b.x-k.X)*e+a.x1;b.y=(b.y-k.Y)*f+a.y1});this.adjustRect()}}else this.xj(a),b=this.getRectPadding(),this.Vn(new d.Rect(b,b,b,b))},getRectPadding:function(){return this.ej()===d.Na.Sc.FreeTextCallout?this.StrokeThickness/2:0},Vn:function(a){var b=0;this.ej()===d.Na.Sc.FreeTextCallout&&(b+=this.cm+1);this.ka[b]=new d.Point(this.X+a.x1,this.Y+a.y2);this.ka[b+1]=new d.Point(this.X+
this.Width-a.x2,this.Y+this.Height-a.y1)},hy:function(){var a=this.ka.slice(-2),b=a[0],a=a[1];return new d.Rect(b.x-this.X,this.Y+this.Height-a.y,this.X+this.Width-a.x,b.y-this.Y)},cy:function(){return this.FontSize.slice(-2)||"px"},by:function(){var a=parseFloat(this.FontSize),b=this.cy(a);0===a&&this.gB&&d.Na.EXPORT_CALCULATED_FONT_SIZE&&(a=this.gB,b="px");"px"===b&&(a*=.75);return a},tT:function(a,b,e,d,k,h,l){for(var m,n=d,q=a.measureText(".").width||1,q=2*Math.ceil(k/q),r=b.split("\n"),v=0;v<
r.length;v++){for(var p=r[v].split(" "),u="",w=0;w<p.length;w++){b=p[w];m=a.measureText(b);if(m.width>k){for(var z=1,C=q,A;z<=C;)if(A=Math.floor((C+z)/2),m=a.measureText(b.slice(0,A),a),m.width<k)z=A+1;else if(m.width>k)C=A-1;else break;b=b.slice(0,Math.max(1,C))}p[w]!==b&&(p.splice(w+1,0,p[w].substr(b.length)),p[w]=b);b=u+p[w];m=a.measureText(b);if(m.width>k&&0<w){a.fillText(u,e,d);u=p[w]+" ";if(d-n>=h)return;d+=l}else u=b+" "}a.fillText(u.slice(0,-1),e,d);if(d-n>=h)break;d+=l}},XO:function(){this.Ze=
document.createElement("textarea");this.Ze.className="freetext";this.Ze.style.visibility="hidden";this.Ze.style.position="absolute";this.Ze.style.top="-9001px";document.getElementsByTagName("body")[0].appendChild(this.Ze)},IE:function(a){return{pQ:a+5+.55*(a-9),css:1+5/a}},draw:function(a,b){this.Ze||this.XO();var g,f=!1;this.Ac(a,b);if(this.ej()===d.Na.Sc.FreeTextCallout){a.lineJoin="miter";f=this.Zi(b);0===f&&(f=a.lineWidth=1);for(var k=Math.min(this.cm+1,this.ka.length),h=0;h<k;h++)g=this.ka[h],
0===h?(a.beginPath(),a.moveTo(g.x,g.y)):a.lineTo(g.x,g.y);1<this.ka.length&&e.Cx(a,this.ka[0],this.ka[1],f);f=this.ka.length===this.cm+3}else f=2===this.ka.length;if(f){f=this.ka.slice(-2);g=f[0];var l=f[1],f=g.x,k=g.y,h=l.x-g.x,m=l.y-g.y;a.save();0<this.StrokeThickness&&(a.beginPath(),a.lineWidth*=2,a.rect(f,k,h,m),a.clip(),a.stroke());a.beginPath();a.rect(f+a.lineWidth/2,k+a.lineWidth/2,h-a.lineWidth,m-a.lineWidth);a.closePath();a.fill();a.restore();g=this.Jk();if("undefined"!==typeof g){a.textBaseline=
"top";a.fillStyle=this.TextColor.toString();var n=a.lineWidth,l=0+n;a.save();a.beginPath();a.rect(f+n,k+n,Math.max(h-2*n,0),Math.max(m-2*n));a.clip();a.textAlign=this.TextAlign;if(this.Rotation){a.translate(f,k);a.rotate(-(Math.PI/180*this.Rotation));a.translate(-f,-k);if(90===this.Rotation||270===this.Rotation)n=h,h=m,m=n;90===this.Rotation?a.translate(-h,0):270===this.Rotation?a.translate(0,-m):180===this.Rotation&&a.translate(-h,-m)}var n=h-2*l,m=Math.round(m-2*l),q=d.ua.Cs(b,parseFloat(this.FontSize)),
r=this.cy();"pt"===r&&(q*=.75);if(0===q){this.Ze.style.width=n+"px";this.Ze.style.height=m+"px";this.Ze.style.fontFamily=this.Font;g=g.replace(/\s+$/g,"");this.Ze.value=g;var v=this,q=e.hE(g,this.Ze,m,function(a){return v.IE(a).css}),r="px";this.gB=q}var p=this.IE(q).pQ,u=f+l;"center"===this.TextAlign?u=f+h/2:"right"===this.TextAlign&&(u=f+h-l);a.font=q+r+" "+this.Font;this.tT(a,g,u,k+l,n,m,p);a.restore()}}},serialize:function(a,b){var e=d.ra.prototype.serialize.apply(this,arguments),f=this.getPath(),
k={},h=d.ba.eg(this.FillColor);null!==h?k.color=h:e.removeAttribute("color");e.removeAttribute("interior-color");var h=this.by(),l,m=this.hy();this.nz&&this.nz.isEqual(m)?l=this.qz:(this.qz&&(delete this.qz,delete this.nz),m.GF()||(l=d.ba.Qz(m,b)));l&&e.setAttribute("fringe",l);this.originalTextAlignCalculated!==this.TextAlign||this.originalTextColorCalculated!==d.ba.eg(this.TextColor)||this.originalStrokeColorCalculated!==d.ba.eg(this.StrokeColor)||this.originalFontSizeCalculated!==this.FontSize||
this.originalFontCalculated!==this.Font?(m=this.StrokeColor.QS()+" "+d.ba.kR(this.Font,h),l=d.ba.jR(this)):(m=this.originalDefaultAppearance,l=this.originalDefaultStyle);var n=document.createElementNS("","defaultappearance");n.textContent=m;e.appendChild(n);m=document.createElementNS("","defaultstyle");m.textContent=l;e.appendChild(m);this.Yt&&"left"!==this.Yt&&(k.justification=this.Yt);l=d.ba.eg(this.TextColor);null!==l&&e.setAttribute("TextColor",l);e.setAttribute("FontSize",h);h=this.ej();h===
d.Na.Sc.FreeTextCallout&&(f=d.ba.Rn(f.slice(0,-2),b,",",","),k.callout=f,k.head=this.fj(),e.setAttribute("IT",h));for(var q in k)a.setAttribute(q,k[q]);return e},deserialize:function(a,b){this.TextColor=new d.Color(0,0,0);var e=d.ba;d.ra.prototype.deserialize.apply(this,arguments);null!==e.Vi(a.getAttribute("color"))?this.FillColor=this.StrokeColor:this.FillColor=new d.Color(0,0,0,0);var f=e.Wm(a,"defaultappearance","defaultappearance"),k=e.Wm(a,"defaultstyle","defaultstyle"),h=e.rG(f);h.color&&(this.StrokeColor=
e.Vi(h.color));h.font&&(this.Font=h.font.name,this.FontSize=h.font.size);h=e.jQ(k);h.font&&(this.Font=h.font.name,this.FontSize=h.font.size);h.textAlign&&(this.TextAlign=h.textAlign);h.color&&(this.TextColor=e.Vi(h.color));this.originalStrokeColorCalculated=e.eg(this.StrokeColor);this.originalTextAlignCalculated=this.TextAlign;this.originalTextColorCalculated=h.color?h.color:e.eg(this.TextColor);this.originalFontSizeCalculated=this.FontSize;this.originalFontCalculated=this.Font;this.originalDefaultStyle=
a;this.originalDefaultAppearance=f;this.originalDefaultStyle=k;if((f=a.getAttribute("IT")||a.getAttribute("it"))&&f===d.Na.Sc.FreeTextCallout){if(this.Tn(d.Na.Sc.FreeTextCallout),this.yj(a.getAttribute("head")||"OpenArrow"),k=a.getAttribute("callout"))for(f=e.Ak(k,b),3>f.length&&(k=e.Ak(k,b,",",","),4>k.length&&(f=k,this.cm=f.length-1)),k=this.getPath(),h=0;h<f.length;h++)k[h]=new d.Point(parseFloat(f[h].x),parseFloat(f[h].y))}else this.Tn(d.Na.Sc.FreeText);this.fringe?this.Vn(this.fringe):this.Vn(new d.Rect(0,
0,0,0));if(f=a.getAttribute("justification"))this.Yt=f;e=e.Vi(a.getAttribute("TextColor"));null!==e&&(this.TextColor=e);e=a.getAttribute("FontSize");_.isUndefined(e)||_.isNull(e)||(this.FontSize=e+"pt");(e=a.getAttribute("rotation"))&&(this.Rotation=parseInt(e,10));this.adjustRect();this.nz=this.hy()},selectionModel:d.xo};d.Na.prototype=$.extend(new d.Qd,d.Na.prototype);Object.defineProperties(d.Na.prototype,{CalloutLineCount:{get:function(){return this.cm},set:function(a){this.cm=a;this.qb()}},TextColor:{get:function(){return this.vB},
set:function(a){this.vB=a;this.qb()}},FontSize:{get:function(){return this.lB},set:function(a){this.lB=a;this.qb()}},Font:{get:function(){return this.kB},set:function(a){this.kB=a;this.qb()}},TextAlign:{get:function(){return this.uB},set:function(a){this.uB=a;this.qb()}},Rotation:{get:function(){return this.sB},set:function(a){this.sB=a;this.qb()}}})})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.ge=function(){d.ra.call(this);this["_xsi:type"]="Line";this.Subject=d.ua.kd("line");this.Ji=this.hm=this.End=this.Start=this.Ff=null};d.ge.prototype={elementName:"line",resize:function(a){var b=a.x1;a=a.y1;var e=b-this.X,d=a-this.Y;if(0!==e||0!==d)this.Start.x+=e,this.Start.y+=d,this.End.x+=e,this.End.y+=d,this.X=b,this.Y=a},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){var a=this.getRectPadding();this.X=Math.min(this.Start.x,
this.End.x)-a;this.Y=Math.min(this.Start.y,this.End.y)-a;this.Width=Math.abs(this.Start.x-this.End.x)+2*a;this.Height=Math.abs(this.Start.y-this.End.y)+2*a;this.cv()}},getRectPadding:function(){return this.StrokeThickness},aA:function(a,b){this.Start=new d.Point(a,b)},iO:function(){return this.Start},setEndPoint:function(a,b){this.End=new d.Point(a,b)},oN:function(){return this.End},yj:function(a){this.Ji=a},fj:function(){return this.Ji||"None"},Gq:function(a){this.hm=a},Hp:function(){return this.hm||
"None"},draw:function(a,b){this.Ac(a,b);if(this.Start&&this.End){a.beginPath();a.moveTo(this.Start.x,this.Start.y);a.lineTo(this.End.x,this.End.y);var d=!1;_.isNull(this.Ji)||"None"===this.Ji||(e.Cx(a,this.Start,this.End,this.Zi(b)),d=!0);_.isNull(this.hm)||"None"===this.hm||(e.Cx(a,this.End,this.Start,this.Zi(b)),d=!0);d||a.stroke()}else a.beginPath(),a.moveTo(0,0),a.lineTo(this.za(),this.va()),a.stroke()},serialize:function(a,b){a=d.ra.prototype.serialize.apply(this,arguments);var e=new d.Point(this.End.x,
this.End.y),f=d.ba;a.setAttribute("start",f.Vu(new d.Point(this.Start.x,this.Start.y),b));a.setAttribute("end",f.Vu(e,b));"None"!==this.fj()&&a.setAttribute("head",this.fj());"None"!==this.Hp()&&a.setAttribute("tail",this.Hp());this.hc(a,"leaderLength");this.hc(a,"leaderExtend");this.hc(a,"leader-offset");this.hc(a,"caption");this.hc(a,"caption-style");this.hc(a,"caption-offset-h");this.hc(a,"caption-offset-v");return a},deserialize:function(a,b){d.ra.prototype.deserialize.apply(this,arguments);var e=
d.ba,f=e.GD(a.getAttribute("start"),b);null!==f?this.aA(f.x,f.y):this.aA(this.X,this.Y);e=e.GD(a.getAttribute("end"),b);null!==e?this.setEndPoint(e.x,e.y):this.setEndPoint(this.X+this.Width,this.Y+this.Height);this.yj(a.getAttribute("head")||"None");this.Gq(a.getAttribute("tail")||"None");this.zc(a,"leaderLength");this.zc(a,"leaderExtend");this.zc(a,"leader-offset");this.zc(a,"caption");this.zc(a,"caption-style");this.zc(a,"caption-offset-h");this.zc(a,"caption-offset-v");this.adjustRect()},selectionModel:d.zo};
d.ge.prototype=$.extend(new d.ra,d.ge.prototype)})(window);
(function(a){var d=a.Annotations||{};d.si=function(){d.ra.call(this);this.ka=[];this.Sr=!1;this.Ad="solid";this.jk=2;this["_xsi:type"]="Polygon";this.Subject=d.ua.kd("polygon");this.Xa={x:0,y:0};this.ub={x:0,y:0}};d.si.prototype={elementName:"polygon",resize:function(a){var c=a.x1;a=a.y1;var b=c-this.X,d=a-this.Y;if(0!==b||0!==d){for(var f=0;f<this.ka.length;f++)this.ka[f].x+=b,this.ka[f].y+=d;this.X=c;this.Y=a}},finish:function(){a.Sd.Math.yG(this.ka)&&(this.ka[this.ka.length]={x:this.ka[0].x,y:this.ka[0].y});
this.adjustRect()},draw:function(a,c){this.Ex(a,c)},Dh:function(a){if("cloudy"===this.Style)d.ua.PD(this,a,this.getPath());else for(var c=0;c<this.ka.length;c++){var b=this.ka[c];0===c?(a.beginPath(),a.moveTo(b.x,b.y)):a.lineTo(b.x,b.y)}1<this.ka.length&&(a.closePath(),a.lineJoin="round")},Tn:function(a){this.Intent=a},ej:function(){return this.Intent},serialize:function(a,c){var b=d.ra.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(b.setAttribute("style",this.Style),b.setAttribute("intensity",
this.Intensity));var g=this.getPath();if(g&&0<g.length){var f=document.createElementNS("","vertices");f.textContent=d.ba.Rn(g,c);b.appendChild(f)}return b},deserialize:function(a,c){d.ra.prototype.deserialize.apply(this,arguments);var b=a.getElementsByTagName("vertices");0<b.length&&(this.ka=d.ba.Ak(b[0].textContent,c));this.Ad=a.getAttribute("style");this.jk=a.getAttribute("intensity");this.xg=a.getAttribute("IT");this.adjustRect()},selectionModel:d.Kv};d.si.prototype=$.extend(new d.Qd,d.si.prototype);
Object.defineProperties(d.si.prototype,{Intensity:{get:function(){return this.jk},set:function(a){this.jk=a;this.qb()}},Style:{get:function(){return this.Ad},set:function(a){this.Ad=a;this.qb()}},Intent:{get:function(){return this.xg},set:function(a){this.xg=a;this.qb()}}})})(window);
(function(a){var d=a.Annotations||{};d.Tl=function(){d.ra.call(this);this.ka=[];this.Sr=!1;this["_xsi:type"]="Polyline";this.Subject=d.ua.kd("polyline");this.Xa={x:0,y:0};this.ub={x:0,y:0};this.Ff=null};d.Tl.prototype={elementName:"polyline",resize:function(a){var c=a.x1;a=a.y1;var b=c-this.X,d=a-this.Y;if(0!==b||0!==d){for(var f=0;f<this.ka.length;f++)this.ka[f].x+=b,this.ka[f].y+=d;this.X=c;this.Y=a}},finish:function(){this.adjustRect()},draw:function(a,c){this.Ac(a,c);for(var b=0;b<this.ka.length;b++){var d=
this.ka[b];0===b?(a.beginPath(),a.moveTo(d.x,d.y)):a.lineTo(d.x,d.y)}1<this.ka.length&&(a.lineJoin="round",a.stroke())},yj:function(a){this.Ji=a},fj:function(){return this.Ji||"None"},Gq:function(a){this.hm=a},Hp:function(){return this.hm||"None"},serialize:function(a,c){var b=d.ra.prototype.serialize.apply(this,arguments),g=this.getPath();if(g&&0<g.length){var f=document.createElementNS("","vertices");f.textContent=d.ba.Rn(g,c);b.appendChild(f)}b.setAttribute("head",this.fj());b.setAttribute("tail",
this.Hp());return b},deserialize:function(a,c){d.ra.prototype.deserialize.apply(this,arguments);var b=a.getElementsByTagName("vertices");0<b.length&&(this.ka=d.ba.Ak(b[0].textContent,c));this.yj(a.getAttribute("head")||"None");this.Gq(a.getAttribute("tail")||"None");this.adjustRect()},selectionModel:d.Sl};d.Tl.prototype=$.extend(new d.Qd,d.Tl.prototype)})(window);
(function(a){var d=a.Annotations||{};d.Rj=function(){d.ra.call(this);this["_xsi:type"]="Rectangle";this.Subject=d.ua.kd("rectangle");var a=this.getRectPadding();this.fringe=new d.Rect(a,a,a,a);this.jk=2;this.Ad="solid"};d.Rj.prototype={elementName:"square",draw:function(a,c){this.Ex(a,c)},Dh:function(a){var c=this.pe();c.x1+=this.fringe.x1;c.y1+=this.fringe.y1;c.x2-=this.fringe.x2;c.y2-=this.fringe.y2;"cloudy"===this.Style?(d.ua.PD(this,a,[new d.Point(c.x1,c.y1),new d.Point(c.x2,c.y1),new d.Point(c.x2,
c.y2),new d.Point(c.x1,c.y2),new d.Point(c.x1,c.y1)]),a.closePath(),a.lineJoin="round"):(a.lineWidth*=2,a.beginPath(),a.moveTo(c.x1,c.y1),a.lineTo(c.x2,c.y1),a.lineTo(c.x2,c.y2),a.lineTo(c.x1,c.y2),a.closePath(),a.clip())},getRectPadding:function(){return 0},serialize:function(){var a=d.ra.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(a.setAttribute("style",this.Style),a.setAttribute("intensity",this.Intensity));return a},deserialize:function(a){d.ra.prototype.deserialize.apply(this,
arguments);this.Ad=a.getAttribute("style");this.jk=a.getAttribute("intensity")}};d.Rj.prototype=$.extend(new d.ra,d.Rj.prototype);Object.defineProperties(d.Rj.prototype,{Intensity:{get:function(){return this.jk},set:function(a){this.jk=a;this.qb()}},Style:{get:function(){return this.Ad},set:function(a){this.Ad=a;this.qb()}}})})(window);
(function(a){var d=a.Annotations||{};d.Wj=function(){d.ra.call(this);this["_xsi:type"]="Stamp";this.Subject=d.ua.kd("stamp");this.Icon="Draft";this.Ai=this.zi=this.Ff=null;this.kM="bold italic "+this.SH+"px Verdana"};d.Wj.prototype={elementName:"stamp",padding:20,SH:30,tx:10,draw:function(d,c){this.Ac(d,c);d.translate(this.X,this.Y);d.rotate(-this.Rotation*Math.PI/180);var b=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);d.translate(-b.dx,-b.dy);if(this.image){var b=this.Width,
g=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||270===Number(this.Rotation)))var f=b,b=g,g=f;d.drawImage(this.image,0,0,b,g)}else if("SHAccepted"===this.Icon)d.lineWidth=.2*Math.min(this.Width,this.Height),d.strokeStyle="#426922",d.beginPath(),d.moveTo(.05*this.Width,.5*this.Height),d.lineTo(.4*this.Width,.85*this.Height),d.lineTo(.95*this.Width,.05*this.Height),d.stroke();else if("SBRejected"===this.Icon)d.lineWidth=.2*Math.min(this.Width,this.Height),d.strokeStyle="#8F110F",d.beginPath(),
d.moveTo(.05*this.Width,.05*this.Height),d.lineTo(.95*this.Width,.95*this.Height),d.moveTo(.95*this.Width,.05*this.Height),d.lineTo(.05*this.Width,.95*this.Height),d.stroke();else{b=this.jN();d.fillStyle=b.fill;d.strokeStyle=b.fu;d.lineWidth=1;g=this.tx;if(this.za()<=2*this.tx||this.va()<=2*this.tx)g=Math.min(this.za()/2,this.va()/2);this.BM(d,0,0,this.za(),this.va(),g);d.font=this.kM;d.fillStyle=b.fu;b=this.NH.toUpperCase();g=d.measureText(b).width+2*this.padding;d.save();g=this.za()/g;f=this.va()/
(1.5*this.SH);d.scale(g,f);d.textBaseline="middle";d.textAlign="center";d.fillText(b,this.za()/(2*g),this.va()/(2*f));d.restore()}},oO:function(){var a=this.Icon;if(this.Oc[a])return this.Oc[a];if(0===a.indexOf("SB")||0===a.indexOf("SH")){var c=this.Oc[a.substring(2)];if(c)return c}return a},jN:function(){var a=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),c={fu:"rgba(145, 15, 5, "+a+")",fill:"rgba(242, 230, 227, "+.7*a+")"},b={fu:"rgba(65, 106, 28, "+a+")",fill:"rgba(215, 226, 207, "+.7*
a+")"},a={fu:"rgba(24, 37, 100, "+a+")",fill:"rgba(224, 235, 246, "+.7*a+")"};switch(this.NH){case this.Oc.Approved:case this.Oc.Completed:case this.Oc.Final:return b;case this.Oc.Asis:case this.Oc.Confidential:case this.Oc.Departmental:case this.Oc.Draft:case this.Oc.Experimental:case this.Oc.ForComment:case this.Oc.ForPublicRelease:case this.Oc.NotForPublicRelease:case this.Oc.Sold:case this.Oc.TopSecret:return a;case this.Oc.Expired:case this.Oc.NotApproved:case this.Oc.Void:return c;default:return a}},
Oc:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},BM:function(a,c,b,d,f,k){a.beginPath();a.moveTo(c+k,b);
a.lineTo(c+d-k,b);a.quadraticCurveTo(c+d,b,c+d,b+k);a.lineTo(c+d,b+f-k);a.quadraticCurveTo(c+d,b+f,c+d-k,b+f);a.lineTo(c+k,b+f);a.quadraticCurveTo(c,b+f,c,b+f-k);a.lineTo(c,b+k);a.quadraticCurveTo(c,b,c+k,b);a.closePath();a.fill();a.stroke()},serialize:function(){var a=d.ra.prototype.serialize.apply(this,arguments);this.gG&&this.Icon===this.gG||a.setAttribute("icon",this.Icon);if(this.image){var c=document.createElementNS("","imagedata");c.textContent=this.image.src.split("%0A").join("");a.appendChild(c)}return a},
deserialize:function(a){d.ra.prototype.deserialize.apply(this,arguments);var c=a.getAttribute("icon");c?this.Icon=c:this.Subject&&(this.Icon=this.Subject);c||(this.gG=this.Icon);c=a.getElementsByTagName("imagedata");0<c.length&&(this.ImageData=c[0].textContent)}};d.Wj.prototype=$.extend(new d.ra,d.Wj.prototype,a.utils.eventHandler);Object.defineProperties(d.Wj.prototype,{Icon:{get:function(){return this.eK},set:function(a){this.eK=a;this.NH=this.oO();this.qb()}},ImageData:{get:function(){return this.image.src},
set:function(a){this.image||(this.image=new Image);if(this.image.src!==a){this.Gw=!1;this.image.src=a;var c=this;this.image.onload=function(){c.Gw=!0;c.trigger("resourcesLoaded")};this.qb()}}}})})(window);
(function(a){var d=a.Annotations||{};d.jh=function(){d.ra.call(this);this["_xsi:type"]="Sticky";this.Subject=d.ua.kd("stickyNote");this.Height=this.Width=20;this.NoRotate=this.NoZoom=this.NoResize=!0;this.Ff=this.Ai=null;this.zi=new d.Color(255,255,0);this.Icon="Comment";this.mB=null};d.jh.prototype={SIZE:31,elementName:"text",draw:function(d,c,b){if(!this.Mh()){var g=this.SIZE,f=this.SIZE;c=g<f?g:f;var k=.75*c,h=.48*c,l=.29*c,m=.19*c,n=c-m;d.strokeStyle="rgb(0, 0, 0)";d.fillStyle=this.StrokeColor.toString();
d.globalAlpha=0===this.Opacity?0:this.Opacity||1;b=b||0;d.rotate(-b*Math.PI/180);b=a.utils.getRotationOffsets((360-b)%360,g,f);d.translate(-b.dx,-b.dy);d.beginPath();d.moveTo(7,2);d.lineTo(c-5-2,2);d.quadraticCurveTo(c-2,2,c-2,7);d.lineTo(c-2,k-5);d.quadraticCurveTo(c-2,k,c-5-2,k);d.lineTo(h,k);d.lineTo(l,c-2);d.lineTo(l,k);d.lineTo(7,k);d.quadraticCurveTo(2,k,2,k-5);d.lineTo(2,7);d.quadraticCurveTo(2,2,7,2);d.fill();d.moveTo(m,.25*c);d.lineTo(n,.25*c);d.moveTo(m,.41*c);d.lineTo(n,.41*c);d.moveTo(m,
.57*c);d.lineTo(.68*c,.57*c);d.stroke()}},serialize:function(){var a=d.ra.prototype.serialize.apply(this,arguments),c={};this.Icon&&(c.icon=this.Icon);null!==this.InReplyTo&&(c.inreplyto=this.InReplyTo);for(var b in c)a.setAttribute(b,c[b]);this.hc(a,"state");this.hc(a,"statemodel");return a},deserialize:function(a){d.ra.prototype.deserialize.apply(this,arguments);this.Ff=null;this.Icon=a.getAttribute("icon");var c=a.getAttribute("inreplyto");c&&(this.InReplyTo=c);this.zc(a,"state");this.zc(a,"statemodel");
this.NoRotate=this.NoZoom=!0;this.Height=this.Width=20;this.cv()},selectionModel:d.Jo};d.jh.prototype=$.extend(!0,new d.ra,d.jh.prototype);Object.defineProperties(d.jh.prototype,{InReplyTo:{get:function(){return this.mB},set:function(a){this.mB=a;this.qb()}}})})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.Db=function(){d.ra.call(this);this.Ff=null;this.zi=new d.Color(255,0,0);this.Ai=null;this.oB=!0;this.pB=!1;this.gb=[];this.Hf=!1;this.SurroundingTexts=this.TextIndices=null;this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};d.Db.prototype={$z:function(a){if(!a||"undefined"===typeof a.length||0===a.length)throw Error("Argument quads requires an array of at least one element");this.gb=a;for(var b=Infinity,d=Infinity,e=0,k=0,h=0;h<this.gb.length;h++)a=
this.gb[h],b=Math.min(b,a.x1,a.x2,a.x3,a.x4),d=Math.min(d,a.y1,a.y2,a.y3,a.y4),e=Math.max(e,a.x1,a.x2,a.x3,a.x4),k=Math.max(k,a.y1,a.y2,a.y3,a.y4);this.X=b;this.Y=d;this.Width=e-b;this.Height=k-d},Oe:function(){return this.gb},serialize:function(c,b){var g=d.ra.prototype.serialize.apply(this,arguments),f,k=[];for(f=0;f<this.Quads.length;f++){var h=this.Quads[f];k.push(new d.Point(h.x4,h.y4));k.push(new d.Point(h.x3,h.y3));k.push(new d.Point(h.x1,h.y1));k.push(new d.Point(h.x2,h.y2))}0<this.Quads.length&&
(f=d.ba.Rn(k,b,",",","),g.setAttribute("coords",f));this.hc(c,"inreplyto");this.hc(c,"replyType");if(e.Bp){k={};this.TextIndices?k.selidxs=d.ba.mR(this.TextIndices):a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no idxs to serialize.");if(this.SurroundingTexts)for(h=d.ba.lR(this.SurroundingTexts),f=0;f<h.length;f++)k["surrtxts_"+f+"_0"]=h[f][0],k["surrtxts_"+f+"_1"]=h[f][1];else a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no surrtxts to serialize.");
for(var l in k)g.setAttribute(l,k[l])}return g},deserialize:function(c,b,g){d.ra.prototype.deserialize.apply(this,arguments);this.gb=[];this.zc(c,"inreplyto");this.zc(c,"replyType");for(var f=c.getAttribute("coords"),f=d.ba.Ak(f,b,",",","),k=0;k+3<f.length;k+=4){if(a.Sd.Math.zP(f[k],f[k+3],f[k+1],f[k+2])){var h=f[k+2];f[k+2]=f[k+3];f[k+3]=h}this.gb.push(new d.bb(f[k+3].x,f[k+3].y,f[k+2].x,f[k+2].y,f[k+1].x,f[k+1].y,f[k].x,f[k].y))}g?d.ua.oM(this,c,g):(this instanceof d.Db&&a.utils.warn("annot_extra_selectors",
"Annotations.TextMarkupAnnotation.deserialize: no annotManager provided; could not attempt to deserialize extra selector data."),this.Hf=!1);var l=function(b){var c=!1,e;if(this.hf&&this.gb.length===this.hf.length)for(c=!0,k=0;k<this.gb.length;k++)for(e=0;8>e;e++)if(5<=Math.abs(this.gb[k].Ux()[e]-this.hf[k][e])){c=!1;k=this.gb.length;break}var f=!1;if(this.wg&&this.gb.length===this.wg.length)for(f=!0,k=0;k<this.gb.length;k++)for(e=0;8>e;e++)if(5<=Math.abs(this.gb[k].Ux()[e]-this.wg[k][e])){f=!1;k=
this.gb.length;break}c||a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with surrtxt selector.");f||a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with index-based selector.");e=null!==this.wg&&(0<this.wg.length||0===this.gb.length&&0===this.wg.length);var g=null!==this.hf&&(0<this.hf.length||0===this.gb.length&&0===this.hf.length),h=[],l=Array(8);
if(e&&g)if(c||f)a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(k=0;k<this.hf.length;k++){for(e=0;8>e;e++)l[e]=Math.round(this.hf[k][e]);h.push(new d.bb(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7]))}this.gb=h}else if(e)if(f)a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(k=0;k<this.wg.length;k++){for(e=0;8>e;e++)l[e]=Math.round(this.wg[k][e]);h.push(new d.bb(l[0],
l[1],l[2],l[3],l[4],l[5],l[6],l[7]))}this.gb=h}else if(g)if(c)a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(k=0;k<this.hf.length;k++){for(e=0;8>e;e++)l[e]=Math.round(this.hf[k][e]);h.push(new d.bb(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7]))}this.gb=h}else a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");f=c=9007199254740991;for(k=l=h=0;k<this.gb.length;k++)e=
this.gb[k].Ux(),e[0]<c&&(c=e[0]),e[7]<f&&(f=e[7]),e[2]>h&&(h=e[2]),e[3]>l&&(l=e[3]);this.aS(new d.Rect(c,f,h,l));b.Xb(this);this.trigger("extraSelectorsUsedForAdjustments");this.Oo=!0}.bind(this);if(e.Bp&&this.Hf&&g)if(this.sC)l(g);else this.one("quadsCalculatedFromExtraSelectors",function(){l(g)});else a.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: NOT taking extra selectors path.")},Aj:function(){return!0},selectionModel:d.Zj};d.Db.prototype=$.extend(new d.ra,
d.Db.prototype);Object.defineProperties(d.Db.prototype,{Quads:{get:function(){return this.gb},set:function(a){this.$z(a)}}})})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.kh=function(){d.Db.call(this);this.zi=new d.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=d.ua.kd("highlight");this.Opacity=1};d.kh.opacityCap=.3;d.kh.prototype={elementName:"highlight",draw:function(a,b){var g=function(){this.Ac(a,b);if(_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||this.Opacity>d.kh.opacityCap)a.globalAlpha=d.kh.opacityCap;a.fillStyle=this.StrokeColor.toString();for(var e,g=0;g<this.Quads.length;g++)e=this.Quads[g],
a.beginPath(),a.moveTo(e.x1,e.y1),a.lineTo(e.x2,e.y2),a.lineTo(e.x3,e.y3),a.lineTo(e.x4,e.y4),a.closePath(),a.fill()}.bind(this);if(e.Bp&&this.Hf)if(this.Oo)g();else this.one("extraSelectorsUsedForAdjustments",function(){g()});else g()}};d.kh.prototype=$.extend(new d.Db,d.kh.prototype)})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.Zl=function(){d.Db.call(this);this["_xsi:type"]="Squiggly";this.Subject=d.ua.kd("squiggly")};d.Zl.prototype={elementName:"squiggly",draw:function(a,b){var d=function(){var d,e,g,l,m,n,q;this.Ac(a,b);for(var r=0;r<this.gb.length;r++){e=this.gb[r];d=Math.sqrt((e.x1-e.x2)*(e.x1-e.x2)+(e.y1-e.y2)*(e.y1-e.y2));var v=5/3,p=d/10;a.save();a.translate(e.x1,e.y1-1.25);a.rotate(Math.atan2(e.y2-e.y1,e.x2-e.x1));e=Math.abs(e.y1-e.y4);a.beginPath();a.rect(0,-e,
d,e+1.25+1);a.clip();a.beginPath();for(var u=0;u<2*p;u+=2)q=5*u,m=5*u+v/2,n=v,g=5*(u+1)-v/2,l=v,d=5*(u+1),e=0,a.moveTo(q,0),a.bezierCurveTo(m,n,g,l,d,e),m=5*(u+1)+v/2,n=-v,g=5*(u+2)-v/2,l=-v,d=5*(u+2),e=0,a.bezierCurveTo(m,n,g,l,d,e);a.stroke();a.restore()}}.bind(this);if(e.Bp&&this.Hf)if(this.Oo)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};d.Zl.prototype=$.extend(new d.Db,d.Zl.prototype)})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.$l=function(){d.Db.call(this);this["_xsi:type"]="Strikeout";this.Subject=d.ua.kd("strikeout")};d.$l.prototype={elementName:"strikeout",draw:function(a,b){var d=function(){this.Ac(a,b);for(var d,e=0;e<this.gb.length;e++){d=this.gb[e];var g=(d.x1+d.x4)/2,l=(d.y1+d.y4)/2,m=(d.x2+d.x3)/2;d=(d.y2+d.y3)/2;a.beginPath();a.moveTo(g,l);a.lineTo(m,d);a.stroke()}}.bind(this);if(e.Bp&&this.Hf)if(this.Oo)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});
else d()}};d.$l.prototype=$.extend(new d.Db,d.$l.prototype)})(window);
(function(a){var d=a.Annotations||{},e=d.ua||{};d.am=function(){d.Db.call(this);this["_xsi:type"]="Underline";this.Subject=d.ua.kd("underline")};d.am.prototype={elementName:"underline",draw:function(a,b){var d=function(){this.Ac(a,b);for(var d,e=0;e<this.gb.length;e++)d=this.gb[e],a.beginPath(),a.moveTo(d.x1,d.y1),a.lineTo(d.x2,d.y2),a.closePath(),a.stroke()}.bind(this);if(e.Bp&&this.Hf)if(this.Oo)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};d.am.prototype=$.extend(new d.Db,
d.am.prototype)})(window);
(function(a){var d=a.Annotations||{};d.ur=function(){d.Db.call(this);this["_xsi:type"]="Redact";this.Subject=d.ua.kd("redact");this.Opacity=1};d.ur.prototype={elementName:"redact",draw:function(){},serialize:function(){var a=d.Db.prototype.serialize.apply(this,arguments);this.hc(a,"overlay-text");this.hc(a,"overlay-text-repeat");this.hc(a,"justification");this.hc(a,"defaultappearance");return a},deserialize:function(a){d.Db.prototype.deserialize.apply(this,arguments);this.zc(a,"overlay-text");this.zc(a,
"overlay-text-repeat");this.zc(a,"justification");this.defaultappearance=d.ba.Wm(a,"defaultappearance","defaultappearance")}};d.ur.prototype=$.extend(new d.Db,d.ur.prototype)})(window);
(function(a){function d(){}function e(b){this.size=b;this.Cd=Array(this.size);for(b=0;b<this.size;b++)this.Cd[b]={Gg:a.o.Ma.ek(1,1,1),sz:a.o.Ma.ek(1,1,1),bx:null,dl:[],Ot:!1}}function c(a){var b=a.width;a.width=1;a.width=b}var b={wr:"ViewportCanvas",Jv:"PageCanvas"};e.prototype={vt:function(a,b,c){b=c&&1<b?0===a?0:Math.floor((a+1)/b):Math.floor(a/b);c=null;for(var d=0;d<this.size;d++){if(this.Cd[d].bx===b)return-1===this.Cd[d].dl.indexOf(a)&&this.Cd[d].dl.push(a),this.Cd[d].Ot=!0,this.Cd[d];this.Cd[d].Ot||
(c=this.Cd[d])}return c?(c.bx=b,c.dl.push(a),c.Ot=!0,c):null},Gn:function(a){for(var b=0;b<this.size;b++){var c=this.Cd[b].dl,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.eD(this.Cd[b]);break}}},yq:function(){for(var a=0;a<this.size;a++)this.eD(this.Cd[a])},eD:function(a){a.bx=null;a.Ot=!1;$(a.Gg).removeAttr("style").removeClass();$(a.sz).removeAttr("style").removeClass();c(a.Gg);a.Gg.getContext("2d").clearRect(0,0,a.Gg.width,a.Gg.height);a.dl=[]},IS:function(a,b,c){a=this.vt(a,
c,this.Ut);_.isNull(b)&&(b=a.sz);a.sz=a.Gg;a.Gg=b}};d.prototype={Bj:!1,iH:function(){},init:function(){var b=a.innerWidth,c=a.innerHeight;this.Cd=new e(3);this.Ds=new e(3);this.Xg=this.ek(b,c,1);this.uq=1},bv:function(a,b){this.uq=a;this.Ut=b},jx:function(){this.Xg.getAttribute("style");this.Xg.removeAttribute("style")},Tu:function(a,b){this.Cd.IS(a,b,this.uq)},Gn:function(a){this.Cd.Gn(a);this.Ds.Gn(a)},yq:function(){this.Cd.yq();this.Ds.yq()},Zo:function(b,c,d){var e=$(b);c=Math.floor(c);d=Math.floor(d);
var f=""===b.style.height||1<Math.abs(parseInt(b.style.height,10)-d);if(""===b.style.width||1<Math.abs(parseInt(b.style.width,10)-c)||f){var f=a.utils.getCanvasMultiplier(),g=Math.floor(d*f);b.setAttribute("width",Math.floor(c*f));b.setAttribute("height",g);e.css("width",c);e.css("height",d)}},ek:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.Zo(d,a,b);return"undefined"===typeof d.getContext("2d")?null:d},oK:function(a,b,c,d){var e=1,f=null,g=a;if(1>=
a*c||1>=b*c)f=this.ek(1,1,1);if(4E6>a*b)return this.ek(a,b,c);var v=a/b;64E6<a*b&&(b=Math.sqrt(64E6/v),e=v*b/a,a=v*b);v=null;for("undefined"===typeof d&&(d=.25);null===f;){var v=this.ek(Math.ceil(a*e),Math.ceil(b*e),c,v),p=v.getContext("2d");p.fillStyle="white";p.fillRect(v.width-1,v.height-1,1,1);p=!(1>window.devicePixelRatio)&&(v.width<parseFloat(v.style.width)||v.height<parseFloat(v.style.height));if(null!==v&&0<this.tK(v)&&!p)f=v;else if(e-=d,0>=e)return console.error("No canvas could be created"),
null}1>e&&(a="scale("+g/parseFloat(f.style.width)+")",$(f).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(f).css("position","absolute");f.getContext("2d").clearRect(f.width-1,f.height-1,1,1);return f},tK:function(a){return a.getContext("2d").getImageData(a.width-1,a.height-1,1,1).data[3]},
hx:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},HE:function(b,c,d,e,f,g){if(b!==this.Xg)throw Error("Canvas drawing error");var r=this.Cd.vt(c,this.uq,this.Ut);b=r.Gg;this.Zo(b,parseFloat(this.Xg.style.width),parseFloat(this.Xg.style.height));r=r.dl.sort(function(a,b){return a-b});c<=r[0]&&(b.width=b.width);c=a.utils.getCanvasMultiplier();d=a.ud(d,e,g,f,!0,c);e=b.getContext("2d");e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,
d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,g.width,g.height);e.restore();e.drawImage(this.Xg,0,0);this.jx();return b},Wn:function(b,c,d,e,g,q,r){if(r)return f.Wn.apply(f,arguments);this.Zo(this.Xg,a.innerWidth,a.innerHeight);var v=a.utils.getCanvasMultiplier(),v=a.ud(c,d,b,e,!0,v),p=this.Xg.getContext("2d");p.restore();p.save();p.transform(v.m_a,v.m_b,v.m_c,v.m_d,v.m_h,v.m_v);a.utils.canvasClipBug||(p.beginPath(),p.rect(0,0,b.width,b.height),p.clip());return{canvas:this.Xg,ctx:p,t:v}},jp:function(a,
b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},zK:function(a,b,c){a=this.Ds.vt(a,this.uq,this.Ut).Gg;this.Zo(a,b,c);return a},bj:function(b,c,d,e,f,g,r){b=$("#pageContainer"+b).parent().find(".auxiliary")[0];if(_.isUndefined(b))return null;g=b.getContext("2d");g.restore();g.save();var v=a.utils.getCanvasMultiplier();if(1===r||3===r)c={width:c.height,height:c.width};d=a.ud(d,(e+r||0)%4,c,f,!0,
v);g.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);a.utils.canvasClipBug||(g.beginPath(),g.rect(0,0,c.width,c.height),g.clip());return b},Bs:function(b,d,e,f){var g=document.getElementById("pageContainer"+b);if(!g)return null;g=$(g).parent();if(0<g.find(".auxiliary").length)d=this.Ds.vt(b,this.uq,this.Ut),f=d.dl.sort(function(a,b){return a-b}),b<=f[0]&&c(d.Gg);else{var q=a.innerWidth,r=this.zK(b,q,a.innerHeight);b=$(r);b.addClass("auxiliary");b.css({"z-index":"30",position:"absolute",display:""});
g.append(r);b=r.getContext("2d");e*=parseFloat(r.style.width)/q;q=a.utils.getCanvasMultiplier();d=a.ud(e,f,d,null,!0,q);b.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);return g[0]}},cF:function(a){return $("#pageContainer"+a).parent()},Gy:function(a){return $("#pageWidgetContainer"+a)}};var g=new d,f=new d;$.extend(f,{Bj:!0,iH:function(a){this.Bj=1<a},init:function(){},bv:function(){},jx:function(){},Tu:function(){},Gn:function(){},yq:function(){},hx:function(a){if(!a)throw Error("Canvas not defined");
var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},HE:function(a){return a},Wn:function(b,c,d,e,f,g){var r=!1;if(d===a.o.Sa.Me||d===a.o.Sa.Pf)r=!0;(e=!_.isUndefined(g))?(f=(r?g.y2-g.y1:g.x2-g.x1)*c,r=(r?g.x2-g.x1:g.y2-g.y1)*c):(f=r?b.height*c:b.width*c,r=r?b.width*c:b.height*c);var v,r=this.ek(f,r,c);v=parseFloat(r.style.width);var p=a.utils.getCanvasMultiplier();b=a.ud(v/f*c,d,e?g:b,{x:0,y:0},!0,p);c=r.getContext("2d");a.Px||(r.style.backgroundColor=
"white");c.transform(b.m_a,b.m_b,b.m_c,b.m_d,b.m_h,b.m_v);return{canvas:r,ctx:c,t:b}},jp:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.vW,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},TB:function(a){return{width:a.x2-a.x1,height:a.y2-a.y1}},vC:function(b,c){var d=!1;if(c===a.o.Sa.Me||c===a.o.Sa.Pf)d=!0;return{width:d?
b.height:b.width,height:d?b.width:b.height}},bj:function(b,c,d,e,g,f,r){b=$("#pageContainer"+b).find(".auxiliary");if(0<b.length){if(f){var v=b[0].getContext("2d");v.restore();v.save();var p=a.utils.getCanvasMultiplier(),u=this.vC(this.TB(f),e),w=Math.round(u.width*d),u=Math.round(u.height*d),z=parseFloat(b.css("width")),C=parseFloat(b.css("height"));b.css({left:g.x,top:g.y});(1<Math.abs(z-w)||1<Math.abs(C-u))&&b.attr({width:w*p,height:u*p}).css({width:w,height:u});if(f&&r){g=c.width;w=c.height;if(1===
r||3===r)g=c.height,w=c.width;c=a.ud(1,r,{width:g,height:w},null,!1).inverse();f=a.utils.normalizeRect(c.aa({x:f.x1,y:f.y1}),c.aa({x:f.x2,y:f.y2}))}d=a.ud(d,(e+(r||0))%4,f,null,!0,p);v.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}return b[0]}return null},Bs:function(b,c,d,e,g){b=document.getElementById("pageContainer"+b);if(!b)return null;b=$(b);if(!(0<b.find(".auxiliary").length)){var f;g?(f=this.TB(g),g=f.width,f=f.height):(g=c.width,f=c.height);f=this.vC({width:g,height:f},e);g=f.width*d;
f=this.oK(g,f.height*d,d,.2);var r=$(f);r.addClass("auxiliary");r.css({"z-index":"30",position:"absolute"});b.prepend(f);b=f.getContext("2d");b.clearRect(0,0,f.width,f.height);c=a.ud(parseFloat(f.style.width)/g*d,e,c);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},cF:function(a){return $("#pageContainer"+a)},Gy:function(a){return $("#pageWidgetContainer"+a)}});a.o.PJ=function(c){if(c===b.wr)a.o.Ma=g;else if(c===b.Jv)a.o.Ma=f;else throw Error("Invalid Canvas Manager type");a.o.tD=c;a.o.Ma.init()};
a.o.Il=b;a.o.tD=b.Jv;a.o.Ma=f;a.o.Ma.init()})(window);
(function(a){function d(b,d,f,k){for(var h=d.password||d.p,l=d.type.toUpperCase(),m=e.length,n,q=0;q<m;q++)e[q].done&&(n=e[q]);!n&&4>m&&(n={done:!1,worker:new Worker(a.o.gj()+"DecryptWorker.js"),callback:k},e[m]=n,n.worker.addEventListener("message",function(a){if(a.data.error)throw d.error&&d.error(a.data.error),Error(a.data.error);n.callback(a.data);0<c.length?(a=c[0],c.shift(),n.done=!1,n.callback=a.callback,n.worker.postMessage({data:a.data,password:a.password,partName:a.hl,type:l})):(n.callback=
null,n.done=!0)}));n?(n.done=!1,n.callback=k,n.worker.postMessage({data:b,password:h,partName:f,type:l})):c.push({data:b,password:h,hl:f,type:l,callback:k})}var e=[],c=[];a.o=a.o||{};a.o.eh=a.o.eh||{};a.o.eh.decrypt=function(b,c,e,k){b=a.cj(b);d(b,c,e,k)};a.o.eh.BD=function(b,c,d){b=a.cj(b);var e=c.password||c.p;switch(c.type.toUpperCase()){case "AES":b=a.AD(b,e,d);break;default:b=a.AD(b,e,d)}if(b.error)throw c.error&&c.error(b.error),Error(b.error);return b}})(window);
(function(a){a.AD=function(a,e,c){for(var b=[],g=0;16>g;++g){b[g]=g;g<e.length&&(b[g]|=e.charCodeAt(g));var f=c.length+g-16;0<=f&&(b[g]|=c.charCodeAt(f))}e=[];for(c=0;16>c;++c)e.push(a.charCodeAt(c));a=a.slice(16);b=forge.aes.startDecrypting(b,e);b.update(forge.util.createBuffer(a));return b.finish()?b.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(a){var d,e,c={},b=a.o;b.zW=function(a){a.indexOf("/")!==a.length-1&&(a+="/");e=a};b.OE=function(){return e||b.gj()+"office/"};b.Xx=function(){return c.Ww};b.AG=function(e,f,k){_.isUndefined(k)&&(k={});b.nf().ou&&e===b.Xx()||(k.workerId="office_pnacl_module",k.pnaclWorkerPath=window.o.OE()+(a.dv?"WebOfficeWorkerSubzero.nmf":"WebOfficeWorker.nmf"),k.emsWorkerPath=window.o.OE()+"OfficeWorker.js",k.yA=c,d=b.CG(e,f,k))};b.TQ=function(a){d=Promise.resolve(a);b.Jq({office:null})};b.xF=function(){};
b.qF=function(c,e,k){d||b.nf().ou||b.AG(c,e);b.rt()||b.oH(k);k=k||b.rt();if(!b.nf().ou){var h;c=Promise.all([b.LE(k),d]).then(function(c){var d=c[0],e=c[1];if(null===d)throw c=Error("A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com."),c.userMessage="A license key for WebViewer is required. You can get a demo license key by downloading the trial from pdftron.com.",c;return new Promise(function(c,f){b.qL(function(){f(new a.ak("The worker has encountered an error",
a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});h=new b.kJ(e,b.YN(),{l:d});h.xA.then(function(){c(h)},function(a){f(a)})})});b.Jq({office:c})}return b.nf().ou}})("undefined"===typeof window?this:window);
(function(a){a.GetPageMatrix=a.ud;a.CoreControls=function(){};a.CoreControls.setWorkerPath=a.o.pS;a.CoreControls.getWorkerPath=a.o.gj;a.CoreControls.setPDFWorkerPath=a.o.PR;a.CoreControls.getPDFWorkerPath=a.o.gy;a.CoreControls.setPDFResourcePath=a.o.OR;a.CoreControls.getPDFResourcePath=a.o.Bt;a.CoreControls.setPDFAsmPath=a.o.NR;a.CoreControls.getPDFAsmPath=a.o.JN;a.CoreControls.setResourcesPath=a.o.cS;a.CoreControls.getResourcesPath=a.o.Pk;a.CoreControls.setAdvancedImageScaling=a.o.oR;a.CoreControls.setProgressiveTime=
a.o.ZR;a.CoreControls.preloadPDFWorker=a.o.BG;a.CoreControls.initPDFWorkerTransports=a.o.Pt;a.CoreControls.getDefaultBackendType=a.o.Yx;a.CoreControls.getDefaultPdfBackendType=a.o.Yx;a.CoreControls.getCurrentPDFBackendType=a.o.AE;a.CoreControls.getCurrentOfficeBackendType=a.o.Xx;a.CoreControls.resetWorker=a.o.UQ;a.CoreControls.resetOfficeWorker=a.o.TQ;a.CoreControls.isDemoMode=a.o.xF;a.CoreControls.setEmscriptenHeapSize=a.o.vR;a.CoreControls.setCustomFontURL=a.o.Wu;a.CoreControls.disableEmbeddedJavaScript=
a.o.rM;a.CoreControls.enableSubzero=a.o.IM;a.CoreControls.isSubzeroEnabled=a.o.EF;a.CoreControls.enableFullPDF=a.o.HM;a.CoreControls.isFullPDFEnabled=a.o.Yp;a.CoreControls.preloadOfficeWorker=a.o.AG;a.CoreControls.initOfficeWorkerTransports=a.o.qF;a.CoreControls.setWorkerTransportPromise=a.o.Jq;a.CoreControls.BlackBoxAnnotationManager=a.o.lo;a.CoreControls.BlackBoxAnnotationManager.prototype.initiateCollaboration=a.o.lo.prototype.$O;a.CoreControls.BlackBoxAnnotationManager.prototype.disableCollaboration=
a.o.lo.prototype.KD;a.CoreControls.BlackBoxAnnotationManager.prototype.preloadAnnotations=a.o.lo.prototype.tQ;a.CoreControls.BlackBoxAnnotationManager.prototype.getBlackboxUsername=a.o.lo.prototype.eN;a.XODText=XODText;a.XODText.ResultCode=XODText.Yb;a.XODText.ResultCode.e_done=XODText.Yb.Ck;a.XODText.ResultCode.e_page=XODText.Yb.bt;a.XODText.ResultCode.e_found=XODText.Yb.xp;a.XODText.Quad=XODText.bb;a.XODText.Quad.prototype.getPoints=XODText.bb.prototype.Ng;a.XODText.Quad.prototype.getNormalizedPoints=
XODText.bb.prototype.HN;a.XODText.Matrix2D=XODText.Ea;a.XODText.Matrix2D.prototype.initMatrix=XODText.Ea.prototype.tn;a.XODText.Matrix2D.prototype.initCoordinates=XODText.Ea.prototype.Pa;a.XODText.Matrix2D.prototype.mult=XODText.Ea.prototype.aa;a.XODText.Point2D=XODText.vd;a.CoreControls.Encryption=a.o.eh;a.CoreControls.Encryption.decrypt=a.o.eh.decrypt;a.CoreControls.Encryption.decryptSynchronous=a.o.eh.BD;a.CoreControls.PartRetrievers=function(){};a.CoreControls.PartRetrievers.PartRetriever=a.o.V.Xe;
a.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=a.o.V.Xe.prototype.wR;a.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=a.o.V.Xe.prototype.rl;a.CoreControls.PartRetrievers.PartRetriever.prototype.setWithCredentials=a.o.V.Xe.prototype.fA;a.CoreControls.PartRetrievers.CacheHinting=a.o.V.ki;a.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=a.o.V.ki.lr;a.CoreControls.PartRetrievers.CacheHinting.CACHE=a.o.V.ki.GA;a.CoreControls.PartRetrievers.CacheHinting.NO_HINT=
a.o.V.ki.cJ;a.CoreControls.PartRetrievers.LocalPartRetriever=a.o.V.ZI;a.CoreControls.PartRetrievers.HttpPartRetriever=a.o.V.Kj;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=a.o.V.Xe.prototype.ml;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=a.o.V.Xe.prototype.request;a.CoreControls.PartRetrievers.ExternalHttpPartRetriever=a.o.V.Cv;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever=a.o.V.hr;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=
a.o.V.hr.prototype.rl;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=a.o.V.hr.prototype.getFileData;a.CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever=a.o.V.wI;a.CoreControls.PartRetrievers.LocalPdfPartRetriever=a.o.V.$I;a.CoreControls.PartRetrievers.StreamingPartRetriever=a.o.V.ZA;a.CoreControls.PartRetrievers.RangeStreamingPartRetriever=a.o.V.zJ;a.CoreControls.PartRetrievers.BlackBoxPartRetriever=a.o.V.$q;a.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setCustomHeaders=
a.o.V.$q.prototype.rl;a.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.getFileData=a.o.V.$q.prototype.getFileData;a.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setWithCredentials=a.o.V.$q.prototype.fA;a.CoreControls.PartRetrievers.WebDBPartRetriever=a.o.V.Ko;a.CoreControls.PartRetrievers.AndroidContentPartRetriever=a.o.V.vI;a.CoreControls.PartRetrievers.AzurePartRetriever=a.o.V.zI;a.CoreControls.PartRetrievers.IOSPartRetriever=a.o.V.yo;a.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=
a.o.V.yo.yz;a.CoreControls.PartRetrievers.IOSPartRetriever.partFail=a.o.V.yo.xz;a.CoreControls.PartRetrievers.WinRTPartRetriever=a.o.V.Lo;a.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=a.o.V.Lo.yz;a.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=a.o.V.Lo.xz;a.CoreControls.CanvasMode=a.o.Il;a.CoreControls.CanvasMode.ViewportCanvas=a.o.Il.wr;a.CoreControls.CanvasMode.PageCanvas=a.o.Il.Jv;a.CoreControls.SetCanvasMode=a.o.PJ;a.CoreControls.Bookmark=a.o.Te;a.CoreControls.Bookmark.prototype.getName=
a.o.Te.prototype.getName;a.CoreControls.Bookmark.prototype.getVPos=a.o.Te.prototype.rO;a.CoreControls.Bookmark.prototype.getHPos=a.o.Te.prototype.uN;a.CoreControls.Bookmark.prototype.getPageNumber=a.o.Te.prototype.vc;a.CoreControls.Bookmark.prototype.getURL=a.o.Te.prototype.qO;a.CoreControls.Bookmark.prototype.getParent=a.o.Te.prototype.getParent;a.CoreControls.Bookmark.prototype.getChildren=a.o.Te.prototype.xE;a.CoreControls.Bookmark.prototype.isValid=a.o.Te.prototype.isValid;a.CoreControls.Document=
a.o.Document;a.CoreControls.Document.prototype.getMetadata=a.o.Document.prototype.getMetadata;a.CoreControls.Document.prototype.getBookmarks=a.o.Document.prototype.Ik;a.CoreControls.Document.prototype.getLayers=a.o.Document.prototype.wV;a.CoreControls.Document.prototype.getLinks=a.o.Document.prototype.bn;a.CoreControls.Document.prototype.loadThumbnailAsync=a.o.Document.prototype.nj;a.CoreControls.Document.prototype.includesThumbnails=a.o.Document.prototype.ij;a.CoreControls.Document.prototype.loadPageText=
a.o.Document.prototype.cz;a.CoreControls.Document.prototype.refreshTextData=a.o.Document.prototype.HQ;a.CoreControls.Document.prototype.getTextPosition=a.o.Document.prototype.wy;a.CoreControls.Document.prototype.extractXFDF=a.o.Document.prototype.Gk;a.CoreControls.Document.prototype.loadCanvasAsync=a.o.Document.prototype.Sg;a.CoreControls.Document.prototype.pauseLoadCanvas=a.o.Document.prototype.Cu;a.CoreControls.Document.prototype.resumeLoadCanvas=a.o.Document.prototype.Su;a.CoreControls.Document.prototype.cancelLoadCanvas=
a.o.Document.prototype.xh;a.CoreControls.Document.prototype.cancelLoadThumbnail=a.o.Document.prototype.Qi;a.CoreControls.Document.prototype.unloadCanvasResources=a.o.Document.prototype.ao;a.CoreControls.Document.prototype.getPageInfo=a.o.Document.prototype.Yc;a.CoreControls.Document.prototype.getPageMatrix=a.o.Document.prototype.uc;a.CoreControls.Document.prototype.getPageCount=a.o.Document.prototype.Gb;a.CoreControls.Document.prototype.getPDFCoordinates=a.o.Document.prototype.At;a.CoreControls.Document.prototype.getXODCoordinates=
a.o.Document.prototype.Lt;a.CoreControls.Document.prototype.getViewerCoordinates=a.o.Document.prototype.Dy;a.CoreControls.Document.prototype.loadAsync=a.o.Document.prototype.bg;a.CoreControls.Document.prototype.unloadResources=a.o.Document.prototype.qd;a.CoreControls.Document.prototype.initOfflineDB=a.o.Document.prototype.Sk;a.CoreControls.Document.prototype.storeOffline=a.o.Document.prototype.Zn;a.CoreControls.Document.prototype.isDownloaded=a.o.Document.prototype.jj;a.CoreControls.Document.prototype.getOfflineModeEnabled=
a.o.Document.prototype.dn;a.CoreControls.Document.prototype.setOfflineModeEnabled=a.o.Document.prototype.Un;a.CoreControls.Document.prototype.cancelOfflineModeDownload=a.o.Document.prototype.Cm;a.CoreControls.Document.prototype.getPrintablePDF=a.o.Document.prototype.gn;a.CoreControls.Document.prototype.getDownloadLink=a.o.Document.prototype.Gp;a.CoreControls.Document.prototype.getFileData=a.o.Document.prototype.getFileData;a.CoreControls.Document.prototype.onJSCompletion=a.o.Document.prototype.ZP;
a.CoreControls.Document.prototype.insertPages=a.o.Document.prototype.un;a.CoreControls.Document.prototype.getPDFDoc=a.o.Document.prototype.en;a.CoreControls.Document.prototype.getLayersArray=a.o.Document.prototype.$m;a.CoreControls.Document.prototype.setLayersArray=a.o.Document.prototype.Yu;a.CoreControls.Document.prototype.setOverprintPreviewMode=a.o.Document.prototype.$u;a.CoreControls.Document.prototype.extractPDFNetLayersContext=a.o.Document.prototype.Qm;a.CoreControls.Document.prototype.insertBlankPages=
a.o.Document.prototype.Up;a.CoreControls.Document.prototype.removePages=a.o.Document.prototype.Hn;a.CoreControls.Document.prototype.movePages=a.o.Document.prototype.kq;a.CoreControls.Document.prototype.rotatePages=a.o.Document.prototype.Ln;a.CoreControls.Document.prototype.extractPages=a.o.Document.prototype.Rm;a.CoreControls.Document.prototype.cropPages=a.o.Document.prototype.Hm;a.CoreControls.Document.prototype.print=a.o.Document.prototype.print;a.CoreControls.Document.prototype.documentCompletePromise=
a.o.Document.prototype.ec;a.CoreControls.Document.prototype.setWatermark=a.o.Document.prototype.tl;a.CoreControls.Document.prototype.requirePage=a.o.Document.prototype.nl;a.CoreControls.Document.prototype.supportsExtraSelectorPositioning=a.o.Document.prototype.Aj;a.CoreControls.Document.prototype.getOfficeDocInfo=a.o.Document.prototype.xV;a.CoreControls.Document.prototype.getOfficeResources=a.o.Document.prototype.yV;a.CoreControls.Document.prototype.enableColorSeparations=a.o.Document.prototype.dt;
a.CoreControls.Document.prototype.getColorSeparations=a.o.Document.prototype.qt;a.CoreControls.Document.prototype.enableSeparation=a.o.Document.prototype.et;a.CoreControls.PageRotation=a.o.Sa;a.CoreControls.PageRotation.e_0=a.o.Sa.Eh;a.CoreControls.PageRotation.e_90=a.o.Sa.Me;a.CoreControls.PageRotation.e_180=a.o.Sa.wp;a.CoreControls.PageRotation.e_270=a.o.Sa.Pf;a.CoreControls.OverprintPreviewMode=a.o.Bo;a.CoreControls.OverprintPreviewMode.OFF=a.o.Bo.eJ;a.CoreControls.OverprintPreviewMode.ON=a.o.Bo.gJ;
a.CoreControls.OverprintPreviewMode.PDFX_ON=a.o.Bo.xJ;a.CoreControls.SaveOptions=a.o.Uj;a.CoreControls.SaveOptions.INCREMENTAL=a.o.Uj.TI;a.CoreControls.SaveOptions.REMOVE_UNUSED=a.o.Uj.yJ;a.CoreControls.SaveOptions.HEX_STRINGS=a.o.Uj.NI;a.CoreControls.SaveOptions.OMIT_XREF=a.o.Uj.fJ;a.CoreControls.SaveOptions.LINEARIZED=a.o.Uj.YI;a.CoreControls.SaveOptions.COMPATIBILITY=a.o.Uj.AI;a.CoreControls.DocumentViewer=a.o.W;a.CoreControls.DocumentViewer.prototype.loadAsync=a.o.W.prototype.bg;a.CoreControls.DocumentViewer.prototype.dispose=
a.o.W.prototype.Uc;a.CoreControls.DocumentViewer.prototype.FitMode=function(){};a.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=a.o.W.prototype.sg.Fv;a.CoreControls.DocumentViewer.prototype.FitMode.FitPage=a.o.W.prototype.sg.LA;a.CoreControls.DocumentViewer.prototype.FitMode.Zoom=a.o.W.prototype.sg.Zoom;a.CoreControls.DocumentViewer.prototype.displayLastPage=a.o.W.prototype.xM;a.CoreControls.DocumentViewer.prototype.displayFirstPage=a.o.W.prototype.wM;a.CoreControls.DocumentViewer.prototype.setCurrentPage=
a.o.W.prototype.xe;a.CoreControls.DocumentViewer.prototype.getCurrentPage=a.o.W.prototype.Xm;a.CoreControls.DocumentViewer.prototype.setRightToLeftPages=a.o.W.prototype.dS;a.CoreControls.DocumentViewer.prototype.getRightToLeftPages=a.o.W.prototype.sy;a.CoreControls.DocumentViewer.prototype.getZoom=a.o.W.prototype.Og;a.CoreControls.DocumentViewer.prototype.getPageCount=a.o.W.prototype.Gb;a.CoreControls.DocumentViewer.prototype.setFitMode=a.o.W.prototype.Vz;a.CoreControls.DocumentViewer.prototype.getFitMode=
a.o.W.prototype.qN;a.CoreControls.DocumentViewer.prototype.zoomTo=a.o.W.prototype.DA;a.CoreControls.DocumentViewer.prototype.zoomToMouse=a.o.W.prototype.ET;a.CoreControls.DocumentViewer.prototype.setToolMode=a.o.W.prototype.bA;a.CoreControls.DocumentViewer.prototype.getToolMode=a.o.W.prototype.It;a.CoreControls.DocumentViewer.prototype.getToolModeMap=a.o.W.prototype.mO;a.CoreControls.DocumentViewer.prototype.getTool=a.o.W.prototype.By;a.CoreControls.DocumentViewer.prototype.rotateClockwise=a.o.W.prototype.ZQ;
a.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=a.o.W.prototype.$Q;a.CoreControls.DocumentViewer.prototype.textSearchInit=a.o.W.prototype.oA;a.CoreControls.DocumentViewer.prototype.SearchMode=function(){};a.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=XODText.eb.TD;a.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.eb.XD;a.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.eb.Gx;a.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=
XODText.eb.VD;a.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.eb.UD;a.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.eb.SD;a.CoreControls.DocumentViewer.prototype.SearchMode.e_wild_card=XODText.eb.YD;a.CoreControls.DocumentViewer.prototype.SearchMode.e_regex=XODText.eb.WD;a.CoreControls.DocumentViewer.prototype.displayBookmark=a.o.W.prototype.vM;a.CoreControls.DocumentViewer.prototype.getDocument=a.o.W.prototype.getDocument;a.CoreControls.DocumentViewer.prototype.getSelectedText=
a.o.W.prototype.Ht;a.CoreControls.DocumentViewer.prototype.getSelectedTextQuads=a.o.W.prototype.uy;a.CoreControls.DocumentViewer.prototype.setTextHighlightColor=a.o.W.prototype.lS;a.CoreControls.DocumentViewer.prototype.setSearchHighlightColors=a.o.W.prototype.fS;a.CoreControls.DocumentViewer.prototype.displaySearchResult=a.o.W.prototype.Bx;a.CoreControls.DocumentViewer.prototype.displayAdditionalSearchResult=a.o.W.prototype.uM;a.CoreControls.DocumentViewer.prototype.setActiveSearchResult=a.o.W.prototype.nR;
a.CoreControls.DocumentViewer.prototype.clearSearchResults=a.o.W.prototype.ML;a.CoreControls.DocumentViewer.prototype.getColorSeparationsAtPoint=a.o.W.prototype.iN;a.CoreControls.DocumentViewer.prototype.scrollViewUpdated=a.o.W.prototype.iR;a.CoreControls.DocumentViewer.prototype.closeDocument=a.o.W.prototype.iD;a.CoreControls.DocumentViewer.prototype.setOptions=a.o.W.prototype.be;a.CoreControls.DocumentViewer.prototype.recalculateLayout=a.o.W.prototype.IG;a.CoreControls.DocumentViewer.prototype.refreshAll=
a.o.W.prototype.FQ;a.CoreControls.DocumentViewer.prototype.refreshPage=a.o.W.prototype.GQ;a.CoreControls.DocumentViewer.prototype.printCurrentDocument=a.o.W.prototype.pW;a.CoreControls.DocumentViewer.prototype.getRenderingPipeline=a.o.W.prototype.hn;a.CoreControls.DocumentViewer.prototype.setWatermark=a.o.W.prototype.tl;a.CoreControls.DocumentViewer.prototype.getWatermark=a.o.W.prototype.bF;a.CoreControls.DocumentViewer.prototype.getViewer=a.o.W.prototype.Lc;a.CoreControls.DocumentViewer.prototype.getViewerElement=
a.o.W.prototype.aF;a.CoreControls.DocumentViewer.prototype.setViewerElement=a.o.W.prototype.zH;a.CoreControls.DocumentViewer.prototype.getScrollView=a.o.W.prototype.Qb;a.CoreControls.DocumentViewer.prototype.getScrollViewElement=a.o.W.prototype.Et;a.CoreControls.DocumentViewer.prototype.setScrollViewElement=a.o.W.prototype.wH;a.CoreControls.RenderingPipeline=a.o.Wl;a.CoreControls.RenderingPipeline.PipelineManager=a.o.Wl.Go;a.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=
a.o.Wl.Go.prototype.Ez;a.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=a.o.Wl.Go.prototype.tf;a.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=a.o.Wl.Go.prototype.EO;a.CoreControls.SetCachingLevel=a.o.Pv;a.CoreControls.SetPreRenderLevel=a.o.WA;a.CoreControls.DocumentViewer.prototype.getMargin=a.o.W.prototype.xt;a.CoreControls.DocumentViewer.prototype.setMargin=a.o.W.prototype.KR;a.CoreControls.DocumentViewer.prototype.updateView=a.o.W.prototype.xl;a.CoreControls.DocumentViewer.prototype.updateVisiblePages=
a.o.W.prototype.co;a.CoreControls.DocumentViewer.prototype.stopPageRender=a.o.W.prototype.Yn;a.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=a.o.W.prototype.bv;a.CoreControls.DocumentViewer.prototype.returnCanvas=a.o.W.prototype.Tu;a.CoreControls.DocumentViewer.prototype.drawSelection=a.o.W.prototype.CM;a.CoreControls.DocumentViewer.prototype.clearSelection=a.o.W.prototype.sp;a.CoreControls.DocumentViewer.prototype.removeContent=a.o.W.prototype.Yh;a.CoreControls.DocumentViewer.prototype.select=
a.o.W.prototype.select;a.CoreControls.DocumentViewer.prototype.getPageHeight=a.o.W.prototype.md;a.CoreControls.DocumentViewer.prototype.getPageWidth=a.o.W.prototype.nd;a.CoreControls.DocumentViewer.prototype.setPageZoom=a.o.W.prototype.av;a.CoreControls.DocumentViewer.prototype.getPageZoom=a.o.W.prototype.fc;a.CoreControls.DocumentViewer.prototype.getRotation=a.o.W.prototype.qe;a.CoreControls.DocumentViewer.prototype.setRotation=a.o.W.prototype.eS;a.CoreControls.DocumentViewer.prototype.getCompleteRotation=
a.o.W.prototype.Ne;a.CoreControls.DocumentViewer.prototype.getPageRotations=a.o.W.prototype.QN;a.CoreControls.DocumentViewer.prototype.setPageRotations=a.o.W.prototype.RR;a.CoreControls.DocumentViewer.prototype.getAnnotationManager=a.o.W.prototype.Pb;a.CoreControls.DocumentViewer.prototype.setAnnotationImportOptions=a.o.W.prototype.pR;a.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=a.o.W.prototype.ER;a.CoreControls.DocumentViewer.prototype.setPagesUpdatedInternalAnnotationsTransform=
a.o.W.prototype.WR;a.CoreControls.DocumentViewer.prototype.setPageVisibilityCallback=a.o.W.prototype.VR;a.CoreControls.DocumentViewer.prototype.getDisplayModeManager=a.o.W.prototype.Mk;a.CoreControls.DocumentViewer.prototype.setViewportRenderMode=a.o.W.prototype.eA;a.CoreControls.DocumentViewer.prototype.getViewportRegionRect=a.o.W.prototype.sO;a.CoreControls.DocumentViewer.prototype.setRenderBatchSize=a.o.W.prototype.vH;a.CoreControls.DisplayMode=a.o.sd;a.CoreControls.DisplayMode.prototype.setParameters=
a.o.sd.prototype.XR;a.CoreControls.DisplayMode.prototype.isContinuous=a.o.sd.prototype.Uy;a.CoreControls.DisplayMode.prototype.windowToPage=a.o.sd.prototype.Cj;a.CoreControls.DisplayMode.prototype.windowToPageNoRotate=a.o.sd.prototype.rT;a.CoreControls.DisplayMode.prototype.pageToWindow=a.o.sd.prototype.sf;a.CoreControls.DisplayMode.prototype.pageToWindowNoRotate=a.o.sd.prototype.eQ;a.CoreControls.DisplayMode.prototype.getSelectedPages=a.o.sd.prototype.Gt;a.CoreControls.DisplayMode.prototype.getVisiblePages=
a.o.sd.prototype.Fd;a.CoreControls.DisplayMode.prototype.getPageTransform=a.o.sd.prototype.Pp;a.CoreControls.DisplayMode.prototype.getPageOffset=a.o.sd.prototype.jy;a.CoreControls.DisplayMode.prototype.createPageSections=a.o.sd.prototype.UU;a.CoreControls.DisplayMode.prototype.setCustomFunctions=a.o.sd.prototype.uR;a.CoreControls.DisplayModes=a.o.Pd;a.CoreControls.DisplayModes.Single=a.o.Pd.XA;a.CoreControls.DisplayModes.Continuous=a.o.Pd.so;a.CoreControls.DisplayModes.Facing=a.o.Pd.JA;a.CoreControls.DisplayModes.FacingContinuous=
a.o.Pd.Ev;a.CoreControls.DisplayModes.Cover=a.o.Pd.dr;a.CoreControls.DisplayModes.CoverFacing=a.o.Pd.er;a.CoreControls.DisplayModes.Custom=a.o.Pd.rg;a.CoreControls.DisplayModeManager=a.o.vo;a.CoreControls.DisplayModeManager.prototype.setDisplayMode=a.o.vo.prototype.lH;a.CoreControls.DisplayModeManager.prototype.getDisplayMode=a.o.vo.prototype.sc;a.CoreControls.AnnotationManager=a.o.ha;a.CoreControls.AnnotationManager.prototype.addAnnotation=a.o.ha.prototype.Dg;a.CoreControls.AnnotationManager.prototype.addAnnotations=
a.o.ha.prototype.Li;a.CoreControls.AnnotationManager.prototype.deleteAnnotation=a.o.ha.prototype.Im;a.CoreControls.AnnotationManager.prototype.deleteAnnotations=a.o.ha.prototype.vx;a.CoreControls.AnnotationManager.prototype.selectAnnotation=a.o.ha.prototype.On;a.CoreControls.AnnotationManager.prototype.selectAnnotations=a.o.ha.prototype.Oz;a.CoreControls.AnnotationManager.prototype.deselectAnnotation=a.o.ha.prototype.tp;a.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=a.o.ha.prototype.Ed;
a.CoreControls.AnnotationManager.prototype.isAnnotationSelected=a.o.ha.prototype.Tk;a.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=a.o.ha.prototype.Xd;a.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=a.o.ha.prototype.$S;a.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=a.o.ha.prototype.nQ;a.CoreControls.AnnotationManager.prototype.getAnnotationCopy=a.o.ha.prototype.Tx;a.CoreControls.AnnotationManager.prototype.drawAnnotations=a.o.ha.prototype.Wc;
a.CoreControls.AnnotationManager.prototype.redrawAnnotation=a.o.ha.prototype.Xb;a.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=a.o.ha.prototype.Lm;a.CoreControls.AnnotationManager.prototype.updateAnnotation=a.o.ha.prototype.cI;a.CoreControls.AnnotationManager.prototype.jumpToAnnotation=a.o.ha.prototype.wP;a.CoreControls.AnnotationManager.prototype.hasAnnotation=a.o.ha.prototype.Qk;a.CoreControls.AnnotationManager.prototype.getAnnotationsList=a.o.ha.prototype.aj;a.CoreControls.AnnotationManager.prototype.setNoteContents=
a.o.ha.prototype.Yz;a.CoreControls.AnnotationManager.prototype.getCurrentUser=a.o.ha.prototype.Kk;a.CoreControls.AnnotationManager.prototype.setCurrentUser=a.o.ha.prototype.Uz;a.CoreControls.AnnotationManager.prototype.getIsAdminUser=a.o.ha.prototype.AN;a.CoreControls.AnnotationManager.prototype.setIsAdminUser=a.o.ha.prototype.FR;a.CoreControls.AnnotationManager.prototype.setReadOnly=a.o.ha.prototype.$R;a.CoreControls.AnnotationManager.prototype.getReadOnly=a.o.ha.prototype.VE;a.CoreControls.AnnotationManager.prototype.canModify=
a.o.ha.prototype.Bd;a.CoreControls.AnnotationManager.prototype.canModifyContents=a.o.ha.prototype.Zw;a.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=a.o.ha.prototype.YR;a.CoreControls.AnnotationManager.prototype.setSubmitFormActionCallback=a.o.ha.prototype.jS;a.CoreControls.AnnotationManager.prototype.getAnnotCommand=a.o.ha.prototype.pt;a.CoreControls.AnnotationManager.prototype.importAnnotCommand=a.o.ha.prototype.sn;a.CoreControls.AnnotationManager.prototype.exportAnnotations=
a.o.ha.prototype.cE;a.CoreControls.AnnotationManager.prototype.importAnnotations=a.o.ha.prototype.QO;a.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=a.o.ha.prototype.My;a.CoreControls.AnnotationManager.prototype.setMarkupOff=a.o.ha.prototype.Xz;a.CoreControls.AnnotationManager.prototype.getMarkupOff=a.o.ha.prototype.cn;a.CoreControls.AnnotationManager.prototype.toggleAnnotations=a.o.ha.prototype.SS;a.CoreControls.AnnotationManager.prototype.getUseFilter=a.o.ha.prototype.Kt;a.CoreControls.AnnotationManager.prototype.setUseFilter=
a.o.ha.prototype.cA;a.CoreControls.AnnotationManager.prototype.filterAnnotations=a.o.ha.prototype.TM;a.CoreControls.AnnotationManager.prototype.useFreeTextEditing=a.o.ha.prototype.jT;a.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=a.o.ha.prototype.sM;a.CoreControls.AnnotationManager.prototype.registerAnnotationType=a.o.ha.prototype.IQ;a.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=a.o.ha.prototype.nM;a.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=
a.o.ha.prototype.cO;a.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=a.o.ha.prototype.cN;a.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=a.o.ha.prototype.Vm;a.CoreControls.AnnotationManager.prototype.getAnnotationById=a.o.ha.prototype.$i;a.CoreControls.AnnotationManager.prototype.getRootAnnotation=a.o.ha.prototype.Qp;a.CoreControls.AnnotationManager.prototype.createAnnotationReply=a.o.ha.prototype.XL;a.CoreControls.AnnotationManager.prototype.hideAnnotation=a.o.ha.prototype.KO;
a.CoreControls.AnnotationManager.prototype.hideAnnotations=a.o.ha.prototype.lF;a.CoreControls.AnnotationManager.prototype.showAnnotation=a.o.ha.prototype.wS;a.CoreControls.AnnotationManager.prototype.showAnnotations=a.o.ha.prototype.IH;a.CoreControls.AnnotationManager.prototype.setRedrawThrottle=a.o.ha.prototype.bS;a.CoreControls.AnnotationManager.prototype.getFieldManager=a.o.ha.prototype.Nk;a.CoreControls.AnnotationManager.prototype.getEditBoxManager=a.o.ha.prototype.Zx;a.CoreControls.AnnotationManager.prototype.setAnnotationStyles=
a.o.ha.prototype.qR;a.Actions=a.Actions;a.Actions.GoTo=a.Actions.Ue;a.Actions.GoTo.Dest=a.Actions.Ue.uo;a.Actions.GoToR=a.Actions.Ml;a.Actions.URI=a.Actions.wi;a.Actions.Named=a.Actions.Rl;a.Actions.JavaScript=a.Actions.Ol;a.Actions.ResetForm=a.Actions.Sj;a.Actions.SubmitForm=a.Actions.Xj;a.Actions.Hide=a.Actions.Nl;a.Annotations=a.Annotations;a.Annotations.Color=a.Annotations.Color;a.Annotations.Color.prototype.toHexString=a.Annotations.Color.prototype.toHexString;a.Annotations.Forms=a.Annotations.O;
a.Annotations.Forms.FieldManager=a.Annotations.O.Jj;a.Annotations.Forms.FieldManager.prototype.getField=a.Annotations.O.Jj.prototype.xb;a.Annotations.Forms.FieldManager.prototype.addField=a.Annotations.O.Jj.prototype.us;a.Annotations.Forms.FieldManager.prototype.forEachField=a.Annotations.O.Jj.prototype.Tm;a.Annotations.Forms.Field=a.Annotations.O.ea;a.Annotations.Forms.Field.prototype.getValue=a.Annotations.O.ea.prototype.Va;a.Annotations.Forms.Field.prototype.setValue=a.Annotations.O.ea.prototype.zb;
a.Annotations.Forms.Field.prototype.setVisible=a.Annotations.O.ea.prototype.yf;a.Annotations.Forms.Field.prototype.on=a.Annotations.O.ea.prototype.on;a.Annotations.Forms.Field.prototype.off=a.Annotations.O.ea.prototype.off;a.Annotations.Forms.Field.prototype.trigger=a.Annotations.O.ea.prototype.trigger;a.Annotations.HTMLAnnotation=a.Annotations.HTMLAnnotation;a.Annotations.HTMLAnnotation.prototype.addAction=a.Annotations.HTMLAnnotation.prototype.uk;a.Annotations.HTMLAnnotation.prototype.getActions=
a.Annotations.HTMLAnnotation.prototype.Hk;a.Annotations.HTMLAnnotation.prototype.triggerAction=a.Annotations.HTMLAnnotation.prototype.ye;a.Annotations.HTMLAnnotation.prototype.getInnerElement=a.Annotations.HTMLAnnotation.prototype.KE;a.Annotations.HTMLAnnotation.prototype.getElement=a.Annotations.HTMLAnnotation.prototype.EE;a.Annotations.WidgetAnnotation=a.Annotations.WidgetAnnotation;a.Annotations.WidgetAnnotation.prototype.setValue=a.Annotations.WidgetAnnotation.prototype.zb;a.Annotations.WidgetAnnotation.prototype.getValue=
a.Annotations.WidgetAnnotation.prototype.Va;a.Annotations.WidgetAnnotation.prototype.addAction=a.Annotations.WidgetAnnotation.prototype.uk;a.Annotations.WidgetAnnotation.prototype.getField=a.Annotations.WidgetAnnotation.prototype.xb;a.Annotations.WidgetAnnotation.prototype.setField=a.Annotations.WidgetAnnotation.prototype.nH;a.Annotations.WidgetAnnotation.prototype.on=a.Annotations.WidgetAnnotation.prototype.on;a.Annotations.WidgetAnnotation.prototype.off=a.Annotations.WidgetAnnotation.prototype.off;
a.Annotations.WidgetAnnotation.prototype.trigger=a.Annotations.WidgetAnnotation.prototype.trigger;a.Annotations.TextWidgetAnnotation=a.Annotations.$j;a.Annotations.ChoiceWidgetAnnotation=a.Annotations.qg;a.Annotations.ListWidgetAnnotation=a.Annotations.oi;a.Annotations.ButtonWidgetAnnotation=a.Annotations.jc;a.Annotations.PushButtonWidgetAnnotation=a.Annotations.Pj;a.Annotations.CheckButtonWidgetAnnotation=a.Annotations.li;a.Annotations.RadioButtonWidgetAnnotation=a.Annotations.Qj;a.Annotations.SignatureWidgetAnnotation=
a.Annotations.Vj;a.Annotations.Annotation=a.Annotations.Annotation;a.Annotations.Annotation.prototype.getPageNumber=a.Annotations.Annotation.prototype.vc;a.Annotations.Annotation.prototype.setPageNumber=a.Annotations.Annotation.prototype.rH;a.Annotations.Annotation.prototype.getX=a.Annotations.Annotation.prototype.mn;a.Annotations.Annotation.prototype.setX=a.Annotations.Annotation.prototype.qS;a.Annotations.Annotation.prototype.getY=a.Annotations.Annotation.prototype.nn;a.Annotations.Annotation.prototype.setY=
a.Annotations.Annotation.prototype.rS;a.Annotations.Annotation.prototype.getTop=a.Annotations.Annotation.prototype.jn;a.Annotations.Annotation.prototype.getBottom=a.Annotations.Annotation.prototype.tE;a.Annotations.Annotation.prototype.getLeft=a.Annotations.Annotation.prototype.an;a.Annotations.Annotation.prototype.getRight=a.Annotations.Annotation.prototype.XE;a.Annotations.Annotation.prototype.getWidth=a.Annotations.Annotation.prototype.za;a.Annotations.Annotation.prototype.setWidth=a.Annotations.Annotation.prototype.AH;
a.Annotations.Annotation.prototype.getHeight=a.Annotations.Annotation.prototype.va;a.Annotations.Annotation.prototype.setHeight=a.Annotations.Annotation.prototype.Hq;a.Annotations.Annotation.prototype.getCustom=a.Annotations.Annotation.prototype.lN;a.Annotations.Annotation.prototype.setCustom=a.Annotations.Annotation.prototype.tR;a.Annotations.Annotation.prototype.draw=a.Annotations.Annotation.prototype.draw;a.Annotations.Annotation.prototype.serialize=a.Annotations.Annotation.prototype.serialize;
a.Annotations.Annotation.prototype.deserialize=a.Annotations.Annotation.prototype.deserialize;a.Annotations.Annotation.prototype.setRect=a.Annotations.Annotation.prototype.xj;a.Annotations.Annotation.prototype.getRect=a.Annotations.Annotation.prototype.pe;a.Annotations.Annotation.prototype.getRectPadding=a.Annotations.Annotation.prototype.getRectPadding;a.Annotations.Annotation.prototype.adjustRect=a.Annotations.Annotation.prototype.adjustRect;a.Annotations.Annotation.prototype.setContents=a.Annotations.Annotation.prototype.Sn;
a.Annotations.Annotation.prototype.getContents=a.Annotations.Annotation.prototype.Jk;a.Annotations.Annotation.prototype.isReply=a.Annotations.Annotation.prototype.Mh;a.Annotations.Annotation.prototype.getReplies=a.Annotations.Annotation.prototype.Dt;a.Annotations.Annotation.prototype.isWidget=a.Annotations.Annotation.prototype.kj;a.Annotations.Annotation.prototype.isVisible=a.Annotations.Annotation.prototype.Yk;a.Annotations.Annotation.prototype.getInternal=a.Annotations.Annotation.prototype.zN;a.Annotations.Annotation.prototype.selectionModel=
a.Annotations.Annotation.prototype.selectionModel;a.Annotations.Annotation.prototype.elementName=a.Annotations.Annotation.prototype.elementName;a.Annotations.Point=a.Annotations.Point;a.Annotations.Quad=a.Annotations.bb;a.Annotations.Border=a.Annotations.mo;a.Annotations.Font=a.Annotations.tg;a.Annotations.Rect=a.Annotations.Rect;a.Annotations.Rect.prototype.getWidth=a.Annotations.Rect.prototype.za;a.Annotations.Rect.prototype.getHeight=a.Annotations.Rect.prototype.va;a.Annotations.Rect.prototype.translate=
a.Annotations.Rect.prototype.translate;a.Annotations.Rect.prototype.fitTo=a.Annotations.Rect.prototype.jt;a.Annotations.Rect.prototype.normalize=a.Annotations.Rect.prototype.normalize;a.Annotations.Link=a.Annotations.fd;a.Annotations.PopupAnnotation=a.Annotations.Oj;a.Annotations.PopupAnnotation.prototype.isOpen=a.Annotations.Oj.prototype.isOpen;a.Annotations.PopupAnnotation.prototype.setOpen=a.Annotations.Oj.prototype.qH;a.Annotations.MarkupAnnotation=a.Annotations.ra;a.Annotations.MarkupAnnotation.prototype.setStyles=
a.Annotations.ra.prototype.Ac;a.Annotations.MarkupAnnotation.prototype.selectionModel=a.Annotations.ra.prototype.selectionModel;a.Annotations.MarkupAnnotation.prototype.getPopup=a.Annotations.ra.prototype.TE;a.Annotations.MarkupAnnotation.prototype.setPopup=a.Annotations.ra.prototype.tH;a.Annotations.IPathAnnotation=a.Annotations.Qd;a.Annotations.IPathAnnotation.prototype.addPathPoint=a.Annotations.Qd.prototype.ac;a.Annotations.IPathAnnotation.prototype.setPathPoint=a.Annotations.Qd.prototype.xf;
a.Annotations.IPathAnnotation.prototype.getPathPoint=a.Annotations.Qd.prototype.Hh;a.Annotations.IPathAnnotation.prototype.popPath=a.Annotations.Qd.prototype.Fn;a.Annotations.IPathAnnotation.prototype.getPath=a.Annotations.Qd.prototype.getPath;a.Annotations.LineAnnotation=a.Annotations.ge;a.Annotations.LineAnnotation.prototype.setStartPoint=a.Annotations.ge.prototype.aA;a.Annotations.LineAnnotation.prototype.getStartPoint=a.Annotations.ge.prototype.iO;a.Annotations.LineAnnotation.prototype.setEndPoint=
a.Annotations.ge.prototype.setEndPoint;a.Annotations.LineAnnotation.prototype.getEndPoint=a.Annotations.ge.prototype.oN;a.Annotations.LineAnnotation.prototype.setStartStyle=a.Annotations.ge.prototype.yj;a.Annotations.LineAnnotation.prototype.getStartStyle=a.Annotations.ge.prototype.fj;a.Annotations.LineAnnotation.prototype.setEndStyle=a.Annotations.ge.prototype.Gq;a.Annotations.LineAnnotation.prototype.getEndStyle=a.Annotations.ge.prototype.Hp;a.Annotations.RectangleAnnotation=a.Annotations.Rj;a.Annotations.EllipseAnnotation=
a.Annotations.Jl;a.Annotations.FreeHandAnnotation=a.Annotations.FreeHandAnnotation;a.Annotations.FreeHandAnnotation.prototype.addPathPoint=a.Annotations.FreeHandAnnotation.prototype.ac;a.Annotations.FreeHandAnnotation.prototype.setPathPoint=a.Annotations.FreeHandAnnotation.prototype.xf;a.Annotations.FreeHandAnnotation.prototype.getPathPoint=a.Annotations.FreeHandAnnotation.prototype.Hh;a.Annotations.FreeHandAnnotation.prototype.popPath=a.Annotations.FreeHandAnnotation.prototype.Fn;a.Annotations.FreeHandAnnotation.prototype.getPath=
a.Annotations.FreeHandAnnotation.prototype.getPath;a.Annotations.FreeHandAnnotation.prototype.setPath=a.Annotations.FreeHandAnnotation.prototype.setPath;a.Annotations.FreeHandAnnotation.prototype.getPaths=a.Annotations.FreeHandAnnotation.prototype.Ok;a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;a.Annotations.TextMarkupAnnotation=a.Annotations.Db;a.Annotations.TextMarkupAnnotation.prototype.setQuads=a.Annotations.Db.prototype.$z;
a.Annotations.TextMarkupAnnotation.SurroundingTexts=a.Annotations.Db.eU;a.Annotations.TextMarkupAnnotation.TextIndices=a.Annotations.Db.fU;a.Annotations.TextHighlightAnnotation=a.Annotations.kh;a.Annotations.TextUnderlineAnnotation=a.Annotations.am;a.Annotations.TextStrikeoutAnnotation=a.Annotations.$l;a.Annotations.TextSquigglyAnnotation=a.Annotations.Zl;a.Annotations.CaretAnnotation=a.Annotations.qo;a.Annotations.StickyAnnotation=a.Annotations.jh;a.Annotations.StampAnnotation=a.Annotations.Wj;a.Annotations.PolylineAnnotation=
a.Annotations.Tl;a.Annotations.PolygonAnnotation=a.Annotations.si;a.Annotations.FreeTextAnnotation=a.Annotations.Na;a.Annotations.FreeTextAnnotation.prototype.getPadding=a.Annotations.Na.prototype.hy;a.Annotations.FreeTextAnnotation.prototype.setPadding=a.Annotations.Na.prototype.Vn;a.Annotations.FreeTextAnnotation.prototype.getIntent=a.Annotations.Na.prototype.ej;a.Annotations.FreeTextAnnotation.prototype.setIntent=a.Annotations.Na.prototype.Tn;a.Annotations.FreeTextAnnotation.prototype.addPathPoint=
a.Annotations.Na.prototype.ac;a.Annotations.FreeTextAnnotation.prototype.setStartStyle=a.Annotations.Na.prototype.yj;a.Annotations.FreeTextAnnotation.prototype.getStartStyle=a.Annotations.Na.prototype.fj;a.Annotations.FreeTextAnnotation.Intent=a.Annotations.Na.Sc;a.Annotations.ControlHandle=a.Annotations.ControlHandle;a.Annotations.ControlHandle.prototype.testSelection=a.Annotations.ControlHandle.prototype.testSelection;a.Annotations.BoxControlHandle=a.Annotations.Ce;a.Annotations.LineControlHandle=
a.Annotations.Pl;a.Annotations.PathControlHandle=a.Annotations.ug;a.Annotations.TextControlHandle=a.Annotations.Yj;a.Annotations.SelectionModel=a.Annotations.SelectionModel;a.Annotations.SelectionModel.prototype.testSelection=a.Annotations.SelectionModel.prototype.testSelection;a.Annotations.SelectionModel.prototype.testControlHandles=a.Annotations.SelectionModel.prototype.Lq;a.Annotations.SelectionModel.prototype.getControlHandles=a.Annotations.SelectionModel.prototype.kN;a.Annotations.SelectionModel.prototype.canModify=
a.Annotations.SelectionModel.prototype.Bd;a.Annotations.SelectionModel.prototype.draw=a.Annotations.SelectionModel.prototype.draw;a.Annotations.BoxSelectionModel=a.Annotations.na;a.Annotations.LineSelectionModel=a.Annotations.zo;a.Annotations.PathSelectionModel=a.Annotations.Sl;a.Annotations.TextSelectionModel=a.Annotations.Zj;a.Annotations.StickySelectionModel=a.Annotations.Jo;a.Annotations.XfdfUtils=a.Annotations.ba;a.Annotations.XfdfUtils.serializePoint=a.Annotations.ba.Vu;a.Annotations.XfdfUtils.deserializePoint=
a.Annotations.ba.Vu;a.Annotations.XfdfUtils.serializePointArray=a.Annotations.ba.Rn;a.Annotations.XfdfUtils.deserializePointArray=a.Annotations.ba.Ak;a.Annotations.XfdfUtils.serializeRect=a.Annotations.ba.Rz;a.Annotations.XfdfUtils.deserializeRect=a.Annotations.ba.zx;a.Annotations.XfdfUtils.serializeFringeRect=a.Annotations.ba.Qz;a.Annotations.XfdfUtils.deserializeFringeRect=a.Annotations.ba.FD;a.Annotations.XfdfUtils.toXmlDate=a.Annotations.ba.rA;a.Annotations.SelectionAlgorithm=a.Annotations.lc;
a.Annotations.SelectionAlgorithm.boundingRectTest=a.Annotations.lc.Am;a.Annotations.SelectionAlgorithm.canvasVisibilityTest=a.Annotations.lc.pp;a.Annotations.SelectionAlgorithm.textQuadTest=a.Annotations.lc.UH;a.Annotations.Utilities=a.Annotations.ua;a.Annotations.Utilities.setExtraSelectors=a.Annotations.ua.yR;a.Annotations.Utilities.setAnnotationSubjectHandler=a.Annotations.ua.rR;a.Tool=a.Tool;a.Tools=a.ja;a.Tools.Tool=a.ja.Tool;a.Tools.Tool.prototype.getDocumentViewer=a.ja.Tool.prototype.Jg;a.Tools.Tool.prototype.getMouseLocation=
a.ja.Tool.prototype.Sf;a.Tools.Tool.prototype.setStyles=a.ja.Tool.prototype.Ac;a.Tools.Tool.prototype.setName=a.ja.Tool.prototype.LR;a.Tools.AnnotationSelectTool=a.ja.AnnotationSelectTool;a.Tools.TextTool=a.ja.Rb;a.Tools.GenericAnnotationCreateTool=a.ja.Bb;a.Tools.PanTool=a.ja.Eo;a.Tools.TextSelectTool=a.ja.Yl;a.Tools.AnnotationEditTool=a.ja.Gl;a.Tools.LineCreateTool=a.ja.Ql;a.Tools.ArrowCreateTool=a.ja.sv;a.Tools.RectangleCreateTool=a.ja.Lv;a.Tools.EllipseCreateTool=a.ja.Bv;a.Tools.FreeHandCreateTool=
a.ja.FreeHandCreateTool;a.Tools.SignatureCreateTool=a.ja.SignatureCreateTool;a.Tools.SignatureCreateTool.setTextHandler=a.ja.SignatureCreateTool.kS;a.Tools.SignatureCreateTool.prototype.setSignatureCanvas=a.ja.SignatureCreateTool.prototype.hS;a.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=a.ja.SignatureCreateTool.prototype.NL;a.Tools.SignatureCreateTool.prototype.initDefaultSignature=a.ja.SignatureCreateTool.prototype.pF;a.Tools.SignatureCreateTool.prototype.hasDefaultSignature=a.ja.SignatureCreateTool.prototype.AO;
a.Tools.SignatureCreateTool.prototype.addDefaultSignature=a.ja.SignatureCreateTool.prototype.WK;a.Tools.SignatureCreateTool.prototype.openSignature=a.ja.SignatureCreateTool.prototype.bQ;a.Tools.SignatureCreateTool.prototype.addSignature=a.ja.SignatureCreateTool.prototype.OC;a.Tools.SignatureCreateTool.prototype.isEmptySignature=a.ja.SignatureCreateTool.prototype.yF;a.Tools.StickyCreateTool=a.ja.Rv;a.Tools.TextAnnotationCreateTool=a.ja.he;a.Tools.TextHighlightCreateTool=a.ja.Tv;a.Tools.TextUnderlineCreateTool=
a.ja.Wv;a.Tools.TextStrikeoutCreateTool=a.ja.Vv;a.Tools.TextSquigglyCreateTool=a.ja.Uv;a.Tools.PolylineCreateTool=a.ja.Ul;a.Tools.PolygonCreateTool=a.ja.Nj;a.Tools.PolygonCloudCreateTool=a.ja.Ho;a.Tools.CalloutCreateTool=a.ja.po;a.Tools.FreeTextCreateTool=a.ja.Hv;a.Tools.StampCreateTool=a.ja.Io})(window);
(function(){function a(a,c,b){function g(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function f(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function k(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function h(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function l(a,b,c){return{r:.299*a+.587*b+.114*c,g:-.1687*a-.3313*b+.5*c,b:.5*a-.4187*b-.0813*c}}function m(a,b,c){return{r:a+1.402*c,g:a-.3441*b-.7141*c,b:a+1.772*b}}function n(a,
b,c){a=l(a,b,c);return{Wf:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),iI:a.r}}function q(a,b,c){return m(c,b*Math.sin(a),b*Math.cos(a))}var r={},v;for(v in d)d.hasOwnProperty(v)&&(r[v]=b&&b[v]||d[v]);"auto"==r.width&&(r.width=this.canvas.width);"auto"==r.height&&(r.height=this.canvas.height);r.width=Math.min(r.width,this.canvas.width-r.LH,a.canvas.width-r.x);r.height=Math.min(r.height,this.canvas.height-r.MH,a.canvas.height-r.y);v=this.getImageData(r.LH,r.MH,r.width,r.height);b=a.getImageData(r.x,
r.y,r.width,r.height);v=v.data;for(var p=b.data,u,w,z=p.length,C,A,y,x,E,G,B,I,H,F,M,J,O,P,L=0;L<z;L+=4)if(u=v[L+3]/255,w=p[L+3]/255,B=u+w-u*w,p[L+3]=255*B,0!=u)if(0==w)p[L]=v[L],p[L+1]=v[L+1],p[L+2]=v[L+2];else{I=p[L];H=p[L+1];F=p[L+2];M=v[L];J=v[L+1];O=v[L+2];C=M/255*u;x=I/255*w;A=J/255*u;E=H/255*w;y=O/255*u;G=F/255*w;P=255/B;B=w*u;var D=w-B,Q=u-B;switch(c){case "normal":case "src-over":p[L]=(C+x-x*u)*P;p[L+1]=(A+E-E*u)*P;p[L+2]=(y+G-G*u)*P;break;case "screen":p[L]=(C+x-C*x)*P;p[L+1]=(A+E-A*E)*
P;p[L+2]=(y+G-y*G)*P;break;case "multiply":p[L]=(C*x+C*(1-w)+x*(1-u))*P;p[L+1]=(A*E+A*(1-w)+E*(1-u))*P;p[L+2]=(y*G+y*(1-w)+G*(1-u))*P;break;case "difference":p[L]=(C+x-2*Math.min(C*w,x*u))*P;p[L+1]=(A+E-2*Math.min(A*w,E*u))*P;p[L+2]=(y+G-2*Math.min(y*w,G*u))*P;break;case "src-in":B=u*w;P=255/B;p[L]=C*w*P;p[L+1]=A*w*P;p[L+2]=y*w*P;p[L+3]=255*B;break;case "plus":case "add":p[L]=Math.min(C+x,1)*P;p[L+1]=Math.min(A+E,1)*P;p[L+2]=Math.min(y+G,1)*P;break;case "overlay":p[L]=B*f(I,M)+D*I+Q*M;p[L+1]=B*f(H,
J)+D*H+Q*J;p[L+2]=B*f(F,O)+D*F+Q*O;break;case "hard-light":p[L]=B*f(M,I)+D*I+Q*M;p[L+1]=B*f(J,H)+D*H+Q*J;p[L+2]=B*f(O,F)+D*F+Q*O;break;case "color-dodge":case "dodge":p[L]=B*k(I,M)+D*I+Q*M;p[L+1]=B*k(H,J)+D*H+Q*J;p[L+2]=B*k(F,O)+D*F+Q*O;break;case "color-burn":case "burn":p[L]=B*h(I,M)+D*I+Q*M;p[L+1]=B*h(H,J)+D*H+Q*J;p[L+2]=B*h(F,O)+D*F+Q*O;break;case "darken":case "darker":p[L]=B*(I<M?I:M)+D*I+Q*M;p[L+1]=B*(H<J?H:J)+D*H+Q*J;p[L+2]=B*(F<O?F:O)+D*F+Q*O;break;case "lighten":case "lighter":p[L]=(C<x?
x:C)*P;p[L+1]=(A<E?E:A)*P;p[L+2]=(y<G?G:y)*P;break;case "exclusion":p[L]=(x+C-2*x*C)*P;p[L+1]=(E+A-2*E*A)*P;p[L+2]=(G+y-2*G*y)*P;break;case "soft-light":p[L]=B*g(I,M)+D*I+Q*M;p[L+1]=B*g(H,J)+D*H+Q*J;p[L+2]=B*g(F,O)+D*F+Q*O;break;case "luminosity":u=l(I,H,F);w=l(M,J,O);u=m(w.r,u.g,u.b);p[L]=B*u.r+D*I+Q*M;p[L+1]=B*u.g+D*H+Q*J;p[L+2]=B*u.b+D*F+Q*O;break;case "color":u=l(I,H,F);w=l(M,J,O);u=m(u.r,w.g,w.b);p[L]=B*u.r+D*I+Q*M;p[L+1]=B*u.g+D*H+Q*J;p[L+2]=B*u.b+D*F+Q*O;break;case "hue":u=n(I,H,F);w=n(M,J,
O);u=q(w.Wf,u.s,u.iI);p[L]=B*u.r+D*I+Q*M;p[L+1]=B*u.g+D*H+Q*J;p[L+2]=B*u.b+D*F+Q*O;break;case "saturation":u=n(I,H,F);w=n(M,J,O);u=q(u.Wf,w.s,u.iI);p[L]=B*u.r+D*I+Q*M;p[L+1]=B*u.g+D*H+Q*J;p[L+2]=B*u.b+D*F+Q*O;break;case "lighter-color":u=0<2.623*(I-M)+5.15*(H-J)+F-O?{r:I,g:H,b:F}:{r:M,g:J,b:O};p[L]=B*u.r+D*I+Q*M;p[L+1]=B*u.g+D*H+Q*J;p[L+2]=B*u.b+D*F+Q*O;break;case "darker-color":u=0>2.623*(I-M)+5.15*(H-J)+F-O?{r:I,g:H,b:F}:{r:M,g:J,b:O};p[L]=B*u.r+D*I+Q*M;p[L+1]=B*u.g+D*H+Q*J;p[L+2]=B*u.b+D*F+Q*O;
break;default:I=L/4%this.canvas.width,H=Math.floor(L/4/this.canvas.width),I=4>I%8&&4>H%8||3<I%8&&3<H%8,p[L]=p[L+3]=255,p[L+1]=I?255:0,p[L+2]=I?0:255}}a.putImageData(b,r.x,r.y)}var d={x:0,y:0,LH:0,MH:0,width:"auto",height:"auto"};(function(d){if(!d||"function"!==typeof d.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(d,"bO",{value:a});for(var c=a.GW="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
b=a.supports={},g=c.length;g--;)b[c[g]]=!0;a.HU={"src-over":"normal",En:"add",lV:"colordodge",KU:"colorburn",fV:"darken",UV:"lighten"};return d})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();("undefined"===typeof window?this:window).oV=0;
(function(a){a.kr=function(d,e){this.name=d;this.Em=e;this.AL=1;this.ll=!0;this.vh={};var c=this.qs={};this.TK={};this.lu=null;c.console_log=[function(b){a.utils.log(b)}];c.console_error=[function(b){a.utils.error(b)}];c.workerLoaded=[function(){}];e.addEventListener("message",this.fF.bind(this))};a.kr.prototype={on:function(d,e,c){var b=this.qs;b[d]&&a.utils.error('There is already an actionName called "'+d+'"');b[d]=[e,c]},replace:function(a,e,c){this.qs[a]=[e,c]},send:function(a,e){this.postMessage({action:a,
data:e})},Mp:function(){return this.AL++},Ua:function(a,e,c){var b=this.Mp();a={action:a,data:e,callbackId:b,priority:c};e=createPromiseCapability();this.vh[b]=e;try{this.postMessage(a)}catch(g){e.reject(g)}return e.promise},Uu:function(a,e,c){var b=this.Mp();a={action:a,data:e,callbackId:b,priority:c};e=createPromiseCapability();this.vh[b]=e;try{this.postMessage(a)}catch(g){e.reject(g)}return{promise:e.promise,zL:b}},Pz:function(a,e){if(a.message||a.NM){a.message&&a.message.message&&(a.message=a.message.message);
var c=a.NM;a={type:a.type?a.type:"JavascriptError",message:a.message};if(c)for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])}this.postMessage({isReply:!0,callbackId:e,error:a})},py:function(d){if(d in this.vh)return this.vh[d];a.utils.error("Cannot get promise for callback "+d)},aD:function(d){if(d in this.vh){var e=this.vh[d];delete this.vh[d];e.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:d}})}else a.utils.warn("Cannot cancel callback "+
d)},postMessage:function(a){if(this.ll){var e=this.nO(a);this.Em.postMessage(a,e)}else this.Em.postMessage(a)},NE:function(a,e){if("object"===typeof a)if(a instanceof Uint8Array)e.push(a.buffer);else if(a instanceof ArrayBuffer)e.push(a);else for(var c in a)a.hasOwnProperty(c)&&this.NE(a[c],e)},nO:function(a){var e=[];this.NE(a,e);return 0===e.length?void 0:e},fF:function(d){var e=this,c=d.data,b=this.qs,g=this.TK;d=this.vh;var f;c.isReply?(b=c.callbackId,b in d?(g=d[b],delete d[b],"error"in c?g.reject(c.error):
g.resolve(c.data)):a.utils.warn("Cannot resolve callback "+b)):c.action in b?(f=b[c.action],c.callbackId?Promise.resolve().then(function(){return f[0].call(f[1],c.data)}).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a})},function(a){e.Pz(a,c.callbackId)}):f[0].call(f[1],c.data)):c.action in g?(f=g[c.action],c.callbackId?f[0].call(f[1],c).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a});e.lu()},function(a){e.Pz(a,c.callbackId);e.lu()}):f[0].call(f[1],
c).then(function(){e.lu()},function(){e.lu()})):a.utils.error("Unknown action from worker: "+c.action)}}})("undefined"===typeof window?this:window);var na=this;
na.WJ=function(){function a(a,e,c){var b=this;this.tj=[];this.Pm={};this.Mm={};createPromiseCapability();this.xA=new Promise(function(g,f){if("undefined"!==typeof Worker)try{var k=new na.kr("main",a);k.ll=e;b.oa=k;k.on("test",function(a){a&&a.supportTypedArray?(a.supportTransfers||(k.ll=!1),b.tS(k),g()):f(new na.ak("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))});var h={array:new Uint8Array([255])};try{h.options=c?c:{},h.options.chunkMax=na.CI,k.send("test",h)}catch(l){na.utils.log("Cannot use postMessage transfers"),
k.ll=!1,h.array[0]=0,k.send("test",h)}return}catch(l){f(new na.ak("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}f(new na.ak("Can't start a worker","error.WorkerInitError"))})}a.prototype={Jn:0,NS:1,Pc:2,Xf:3,tS:function(a){this.oa=a;a.on("event",this.aH,this)},aH:function(a){var e=a.docId;if(this.Pm[e])this.Pm[e](a);else e in this.Mm?this.Mm[e].push(a):this.Mm[e]=[a]},addEventListener:function(a,e){if(this.Pm[a])na.utils.error("Event listener already set for "+
a);else if(this.Pm[a]=e,a in this.Mm){for(var c=this.Mm[a],b=0;b<c.length;++b)this.aH(c[b]);delete this.Mm[a]}},IL:function(a){delete this.Pm[a]},PM:function(a){return this.oa.Ua("NewDoc",a,this.Xf)},EP:function(a,e){var c={array:a,workerPath:na.o.gj()};e&&(c.l=e);return this.oa.Ua("LoadRes",c,this.Xf)},FP:function(a,e){var c={path:a};e&&(c.l=e);return this.oa.Ua("LoadResFromPath",c,this.Xf)},gN:function(a,e,c,b,g,f,k,h){return"undefined"===typeof h?this.oa.Uu("GetCanvas",{docId:a,pageIndex:e,width:c,
height:b,rotation:g,layers:f,overprintMode:k},this.Jn):this.oa.Uu("GetCanvasPartial",{docId:a,pageIndex:e,width:c,height:b,rotation:g,layers:f,bbox:[h.x1,h.y1,h.x2,h.y2],overprintMode:k},this.Jn)},hN:function(a,e,c,b,g,f,k,h,l){return"undefined"===typeof h?this.oa.Uu("GetCanvas",{docId:a,pageIndex:e,width:c,height:b,rotation:g,layers:f,filePath:l,overprintMode:k},this.Jn):this.oa.Uu("GetCanvasPartial",{docId:a,pageIndex:e,width:c,height:b,rotation:g,layers:f,bbox:[h.x1,h.y1,h.x2,h.y2],filePath:l,
overprintMode:k},this.Jn)},wE:function(a,e){return"undefined"!==typeof e?this.oa.Ua("GetCanvasProgressive",{callbackId:a,filePath:e},this.Jn):this.oa.Ua("GetCanvasProgressive",{callbackId:a},this.Jn)},Hd:function(a,e){return this.oa.Ua("LoadText",{docId:a,pageIndex:e},this.NS)},AP:function(a){return this.oa.Ua("LoadBookmarks",{docId:a},this.Xf)},MF:function(a,e){var c={docId:a};e&&(c.pages=e);return this.oa.Ua("LoadAnnotations",c,this.Xf)},jq:function(a,e){return this.oa.Ua("MergeXFDF",{docId:a,xfdf:e},
this.Pc)},fR:function(a){return this.oa.Ua("SaveDoc",a,this.Pc)},eR:function(a){return this.oa.Ua("SaveDocFromFixedElements",a,this.Pc)},gR:function(a){return this.oa.Ua("SaveDocAs",a,this.Pc)},eT:function(a,e){return this.oa.Ua("UpdatePassword",{docId:a,password:e},this.Xf)},Up:function(a,e,c,b){return this.oa.Ua("InsertBlankPages",{docId:a,width:c,height:b,pageArray:e},this.Pc)},un:function(a,e,c,b,g){return this.oa.Ua("InsertPages",{docId:a,doc:e,pageArray:c,destPos:b,insertBookmarks:g},this.Pc)},
kq:function(a,e,c){return this.oa.Ua("MovePages",{docId:a,pageArray:e,destPos:c},this.Pc)},Hn:function(a,e){return this.oa.Ua("RemovePages",{docId:a,pageArray:e},this.Pc)},Ln:function(a,e,c){return this.oa.Ua("RotatePages",{docId:a,pageArray:e,rotation:c},this.Pc)},en:function(a){return this.oa.Ua("GetPDFDoc",{docId:a},this.Pc)},Rm:function(a,e,c){return this.oa.Ua("ExtractPages",{docId:a,pageArray:e,xfdfString:c},this.Pc)},Hm:function(a,e,c,b,g,f){return this.oa.Ua("CropPages",{docId:a,pageArray:e,
topMargin:c,botMargin:b,leftMargin:g,rightMargin:f},this.Pc)},ql:function(a,e){return this.oa.Ua("DownloaderHint",{docId:a,hint:e},this.Pc)},gP:function(a){return this.oa.Ua("IsLinearized",{docId:a},this.Pc)},$m:function(a){return this.oa.Ua("GetLayers",{docId:a},this.Pc)},Qm:function(a,e){return this.oa.Ua("ExtractPDFNetLayersContext",{docId:a,layers:e},this.Pc)},Um:function(a){return this.oa.Ua("RenderAnnotAppearance",a,this.Pc)},Mp:function(){return this.oa.Mp()},wx:function(a){return this.oa.Ua("DeleteDocument",
{docId:a},this.Pc)},Tz:function(a){return this.oa.Ua("SetColorManagement",{value:a},this.Xf)},Wu:function(a){return this.oa.Ua("SetCustomFontURL",{fontURL:a},this.Xf)},getWorkerType:function(){return this.oa.Em&&"function"===typeof this.oa.Em.getWorkerType?this.oa.Em.getWorkerType():na.XI(this.oa.Em)?"ems":"pnacl"},nl:function(a,e){return this.oa.Ua("RequirePage",{docId:a,pageNum:e},this.Xf)},sendWithPromise:function(a,e,c){return this.oa.Ua(a,e,c)},Js:function(a){this.oa.aD(a)}};return a}();
(function(a){function d(){var a=document.createElement("embed");a.type="application/pdf";a.style.position="fixed";a.style.width="9px";a.style.height="9px";a.style.top="-9990px;";a.style.left="-999px";return a}function e(a,c){for(var d=!1,e=0,h=navigator.plugins;e<h.length;++e){var l=h[e].name;if("Chrome PDF Viewer"===l||"Chromium PDF Viewer"===l){d=!0;break}}d?a():c()}var c;a.isPDFiumSupported=function(){c||(c=new Promise(function(a){e(function(){a(!0)},function(){a(!1)})}));return c};a.pdfiumPrint=
function(a){var c={Nm:null,Du:"",handleEvent:function(){var a=c;window.removeEventListener("focus",a);a.Nm&&a.Nm.remove();a.Du&&URL.revokeObjectURL(a.Du)}};c.Du=URL.createObjectURL(a);c.Nm=d();c.Nm.src=c.Du;c.Nm.addEventListener("message",function(){console.log("I actually got a message")});document.body.appendChild(c.Nm);window.addEventListener("focus",c)}})(window);
(function(a){function d(d,c){a.kr.call(this,d,c);this.Ch={};this.Bq={};this.Th=[]}d.prototype={vs:function(a){this.Th.push(a)},Ow:function(a,c){a in this.Ch?this.Ch[a].push(c):this.Ch[a]=[c];a in this.Bq&&delete this.Bq[a]},Lu:function(a){a in this.Ch&&delete this.Ch[a];this.Bq[a]=a;this.Th=[]},fF:function(d){var c=this,b=d.data,g=this.qs;d=this.vh;if("object"===typeof b){if("type"in b&&0<this.Th.length&&"onloaddocument"===b.type)for(;0<this.Th.length;)this.Ow(b.data.docId,this.Th.shift());if("callbackId"in
b)if(g=b.callbackId,g in d){var f=d[g];delete d[g];"type"in b&&"error"===b.type?f.reject(b):f.resolve(b.data)}else a.utils.warn("Cannot resolve callback "+g);else if(b.action in g){var k=g[b.action];b.callbackId?Promise.resolve().then(function(){return k[0].call(k[1],b.data)}).then(function(a){c.postMessage({isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.Pz(a)}):k[0].call(k[1],b.data)}else if(b.type)if("page"===b.type)d=b.meta.docId,this.Ch[d]?this.Ch[d].forEach(function(a){a(b)}):0<this.Th.length&&
!(d in this.Bq)?this.Th.forEach(function(a){a(b)}):a.utils.warn("load","No doc listeners for this docId: "+JSON.stringify(b));else{if("documentComplete"===b.type||"error"===b.type)d=b.docId,this.Ch[d]?this.Ch[d].forEach(function(a){a(b)}):0<this.Th.length&&!(d in this.Bq)?this.Th.forEach(function(a){a(b)}):a.utils.warn("load","No doc listeners for this docId: "+JSON.stringify(b))}else a.utils.error("Unknown action from worker: "+b.action)}}};d.prototype=$.extend(Object.create(a.kr.prototype),d.prototype);
a.jJ=d})("undefined"===typeof window?this:window);
(function(a){function d(d,c,b){var g=this;this.tj=[];this.Pm={};createPromiseCapability();this.xA=new Promise(function(f,k){if("undefined"!==typeof Worker)try{if(g.oa)f();else{var h=new a.jJ("main",d);h.ll=c;g.oa=h;h.on("test",function(b){if(b.ready){var c=b&&b.supportTypedArray;b&&b.info&&a.utils.log("load","Office worker info: "+b.info);c?(b.supportTransfers||(h.ll=!1),f()):k(new a.ak("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}else k("License Key Error: "+b.license)});
var l={array:new Uint8Array([255])};try{b&&(l=$.extend({},l,b)),h.send("test",l)}catch(m){h.ll=!1,l.array[0]=0,h.send("test",l)}}return}catch(m){k(new a.ak("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}k(new a.ak("Can't start a worker","error.WorkerInitError"))})}d.prototype={OF:function(a){return this.oa.Ua("loadDocument",a,this.Xf)},vs:function(a){this.oa.vs(a)},Ow:function(a,c){this.oa.Ow(a,c)},Lu:function(a){this.oa.Lu(a)},
wx:function(a){this.oa.Lu(a);return this.oa.Ua("unloadDocument",{docId:a},this.Pc)},Js:function(a){this.oa.aD(a)},nN:function(a){return this.oa.Ua("getDocBuffer",{docId:a},this.Xf)}};a.o.kJ=d})("undefined"===typeof window?this:window);
(function(a){function d(a){this.ru=!1;this.pb=[];this.Mq={};this.Es={};this.Ts={};this.ot=[];this.Dp={};this.Ta={};this.ue=a}function e(){}function c(a,c){this.Yg=a;this.Ta={};this.nb=null;this.Oa=c}e.prototype={pE:function(a){var c=this;c.functions=[];a.forEach(function(a){c.functions.push(new Function("c","t",a))});this.index=0},run:function(a,c,d){var e=this.functions[this.index];d&&this.index++;return e?(e(a,c),!1):!0},clone:function(){var a=new e;a.functions=this.functions;a.index=0;return a},
qq:function(){return Promise.resolve()},cancel:function(){}};d.prototype={xy:function(a,c){var d=a+1;if(d in this.pb){var d=this.pb[d],k=$.extend({},d);if(!d.nb){var h=new e;h.pE(d.aq);d.nb=h}k.nb=d.nb.clone();c(null,k)}else c(Error("The page "+d+" does not exist yet."))},ky:function(b,c,d){b+=1;if(b in this.pb){c=this.pb[b];b=$.extend({},c);if(!c.nb){var k=new e;k.pE(c.aq);c.nb=k}b.nb=c.nb.clone();b.Ta=$.extend(!0,{},b.Ta);for(var h in b.Ta)if(c=b.Ta[h],"jpg"===c.type)b.Ta[h].data=a.o.fy(c.data.type,
c.data.data);else{if(a.Sm)k=a.o.fy(c.data.type,c.data.data),k=new a.fh.FontFace(c.name,"","sfnt",k);else{for(var k="",l=new Uint8Array(c.data.data),m=l.byteLength,n=0;n<m;n++)k+=String.fromCharCode(l[n]);k=new a.fh.FontFace(c.name,k,"sfnt",void 0)}this.ue.Vy(c.name)||k.insert();b.Ta[h].data=k}d(null,b)}else d(Error("The page "+b+" does not exist yet."))},$K:function(a){var d=a.meta.page,e=new c(d,this),k=a.img,h=a.text_structure,l={},m="",n;for(m in k)k[m]&&k[m].data?(n={data:k[m],type:"jpg",name:m},
l[m]=n,this.Ta[m]=n):l[m]=this.Ta[m];k=a.embeddedFonts;for(m in k)(n=k[m])&&n.data?(n={data:n,type:"font",name:m},l[m]=n,this.Ta[m]=n):l[m]=this.Ta[m];e.aq=a.js;e.Ta=l;e.text=h;this.pb[d]=e},op:function(){}};_(d.prototype).extend(Backbone.Events);a.o.iJ=d})(window);
(function(a){function d(){}var e=a.o;e.or=function(c){this.jf=[];this.Ud=[];this.Zd={};this.J=[];this.yu={};this.Kh={};this.ee={};this.Cp={};this.Ca=null;this.vm=new a.Ve.qr;this.id=c;this.iz=[]};e.or.prototype=Object.create(e.Ef.prototype);e.or.prototype.constructor=e.gh;$.extend(e.or.prototype,{ZK:function(c){this.Oa.$K(c);var b=new a.Do(c.meta.width,c.meta.height);b.rb=new XODText.Ea;b.rb.Pa(1,0,0,-1,0,c.meta.height);b.rotation=0;this.J.push(b);this.iq=this.np();c=c.fonts;for(var d in c){var e=
c[d];d in this.Cp?b=this.Cp[d]:(b=new XODText.tg,b.Hq(-e.ascent,e.descent),b.yH(500),this.Cp[d]=b);for(var e=e.charX,k=e.length,h=0;h<k;h+=3)b.ts(e[h],e[h+1],e[h+2])}},bg:function(c,b,d){var f=this;this.cb=c;this.J=[];f.Zd={};var k=d.annotsLoadedCallback;f.ec=new Promise(function(a){f.bind("documentComplete",function(){f.unbind("documentComplete");a()})});var h=d.workerTransportPromise;c.getFileData(function(d){f.bind("documentReady",b);var g={outputFormat:"canvasCommands"};c.file?(g.type="file",
g.value={bytes:d.buffer,name:c.file.name},f.it=c.file.name):c.url?(g.type="file",g.value={bytes:d.buffer,name:c.filename||c.url},f.it=g.value.name):(g.type="array",g.value=d.buffer,f.it="");f.Oa=new e.iJ(f.vm);var n=!1;h.then(function(c){f.xa=c;a.utils.log("load","Worker Initialized");f.xa.vs(function(c){switch(c.type){case "page":var d=150,e=function(){var a;13<f.qj.length?a=f.qj.splice(0,13):(a=f.qj,f.qj=[]);return a},g=function(){for(var c=e(),h=0;h<c.length;++h)a.utils.log("load","page "+c[h].meta.page+
": "+c[h].meta.elapsedTime+"ms"),f.ZK(c[h]);for(h=0;h<c.length;++h)if(c[h].wk)for(var l=0;l<c[h].wk.length;++l){var m=c[h].wk[l],m=new Annotations.fd({actions:{U:[{name:"URI",uri:m.wi}]},rect:{x1:parseInt(m.x1,10),y1:parseInt(m.y1,10),x2:parseInt(m.x2,10),y2:parseInt(m.y2,10)}});m.PageNumber=c[h].YV.page;f.iz.push(m)}f.ec.then(function(a){f.Yi({type:"officeAnnotationsUpdated",data:a})}.bind(null,f.iz));f.iz=[];n||(n=!0,b(),k&&k('<?xml version="1.0" encoding="UTF-8"?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">  <pdf-info version="2" xmlns="http://www.pdftron.com/pdfinfo" /></xfdf>'));
f.Yi({type:"pagesUpdated",data:f.J.slice()});a.utils.log("load","processed "+c.length+" pages, "+f.qj.length+" remaining");0<f.qj.length?(f.qn=setTimeout(g,d),d=30):(f.qn=null,f.yM&&f.trigger("documentComplete"))};f.qj?(f.qj.push(c),f.qn||(f.qn=setTimeout(g,d),d=30)):(a.utils.log("load","Received first page data"),f.qj=[c],g());break;case "error":n?console.error(c.message):b(c);break;case "documentComplete":f.qn?f.yM=!0:f.trigger("documentComplete")}});f.xa.OF(g).then(function(b){f.Ca=b.docId;a.utils.log("load",
"Document initialized")})["catch"](function(a){b(a)})})})},Hd:function(a,b){var d=this;this.J[a].text?b(this.J[a].text):this.Oa.xy(a,function(e,k){if(!e&&"undefined"!==typeof k.text){var h=new XODText.Ye,l=new XODText.Ea;l.Pa(1,0,0,1,0,0);var m=new XODText.Xl(d.Cp),n=k.nb.clone(),q=!1;try{do q=n.run(m,l,!0);while(!q)}catch(r){console.warn("Custom Canvas has encountered an error: "+r.message);return}h.TL(k.text,m);d.J[a].text=h;b(h)}})},vn:function(){return!1},Sk:d,Zn:d,jj:function(){return!1},Gk:function(){return null},
Cm:d,dn:function(){return!1},Un:d,lA:d,bn:function(){return[]},Gb:function(){return this.J.length},Yc:function(a){var b={};b.width=this.J[a].width;b.height=this.J[a].height;return b},qd:function(){e.Ef.prototype.qd.call(this);clearTimeout(this.qn);this.Oa=this.qn=null;this.xa&&this.Ca&&this.xa.wx(this.Ca)},Gr:function(){},wv:function(c){var b=new a.Do(c.width,c.height);b.rb=new XODText.Ea;c=c.matrix;b.rb.Pa(c[0],c[1],c[2],c[3],c[4],c[5]);c=this.Bm(b.rb);b.rb=this.Kz({w:b.width,Wf:b.height});b.rotation=
c;return b},Ik:function(){return Promise.resolve([])},RK:function(){var a=this,b={outputFormat:"binaryStream"};a.it?(b.type="file",b.value={bytes:null,name:a.it}):(b.type="array",b.value=null);var d=0,e=[];return new Promise(function(k,h){a.ec.then(function(){a.xa.Lu(a.Ca);a.xa.vs(function(a){switch(a.type){case "page":"binaryStream"===a.format&&a.bytes||h("Expected binaryStream data");e.push(new Uint8Array(a.bytes));d+=a.bytes.byteLength;break;case "error":console.error(a.message);h(a.message);break;
case "documentComplete":a=new Uint8Array(d);for(var b=0,c=0;c<e.length;++c)a.set(e[c],b),b+=e[c].length,e[c]=null;k(a);break;default:h("Unable to export data")}});a.xa.OF(b).then(function(b){a.Ca=b.docId})})})},getFileData:function(a){var b="pdf"===a.downloadType;if(this.xa&&this.Ca){var d=this.Ca;return b?(b=e.Pt(e.Xx(),{}),Promise.all([b,this.RK()]).then(function(b){var d=b[0];a.bytes=b[1].buffer;return d.eR(a).then(function(a){return a.fileData&&0!==a.fileData.byteLength?Promise.resolve(a.fileData):
Promise.reject("Failed to convert document to PDF")},function(a){console.error(a);return Promise.resolve(a)})})):this.xa.nN(this.Ca).then(function(a){return a&&"array"===a.type&&d===a.docId?a.value:Promise.reject()})}return Promise.reject()},ij:function(){return!1},SE:function(a){return this.J[a].links},Aj:function(){return!0}})})(window);
(function(a){function d(a){return new Promise(function(b,d){var e=indexedDB.open("wasm-cache",a);e.onerror=d.bind(null,"Error opening wasm cache database");e.onsuccess=function(){b(e.result)};e.onupgradeneeded=function(a){var b=e.result;b.objectStoreNames.contains("wasm-cache")&&(console.log("Clearing out version "+a.oldVersion+" wasm cache"),b.deleteObjectStore("wasm-cache"));console.log("Creating version "+a.newVersion+" wasm cache");b.createObjectStore("wasm-cache")}})}function e(a,b){return new Promise(function(d,
e){var k=a.transaction(["wasm-cache"]).objectStore("wasm-cache").get(b);k.onsuccess=function(){k.result?d(k.result):e("Module "+b+" was not found in wasm cache")};k.onerror=e.bind(null,"Error getting wasm module "+b)})}a.rP=function(a){return d(a).then(function(a){return e(a,"PDFNetCWasm.wasm").then(function(){return!0})})["catch"](function(){return!1})};a.LV=function(c,b,g,f){function k(a,c){var d=a.transaction(["wasm-cache"],"readwrite").objectStore("wasm-cache").put(c,b);d.onerror=function(a){console.log("Failed to store in wasm cache: "+
a)};d.onsuccess=function(){console.log("Successfully stored "+b+" in wasm cache")}}function h(c){m=m||Date.now();return c?(a.utils.log("load","Try instantiateStreaming"),WebAssembly.bP(fetch(a.rV(b)),g)["catch"](function(c){a.utils.log("load","instantiateStreaming Failed "+b+" message "+c.message);return h(!1)})):a.VV(b,f,!0,!0).then(function(b){l=Date.now();a.utils.log("load","Request took "+(l-m)+" ms");return WebAssembly.Qy(b,g)})}var l,m;return d(c).then(function(c){return e(c,b).then(function(c){a.utils.log("Found "+
b+" in wasm cache");return WebAssembly.Qy(c,g)},function(b){a.utils.log(b);return h(!!WebAssembly.bP).then(function(b){try{a.utils.log("load","WASM compilation took "+(Date.now()-(l||m))+" ms"),k(c,b.aW)}catch(d){}return b.instance})})},function(a){console.log(a);return h().then(function(a){return a.instance})})}})(this);
(function(a){function d(){this.sq=this.Lh=null;this.zoom=0;this.PO=!0;this.su=0;this.bh=null}function e(a,b){this.Yg=a;this.Ta={};this.text=this.nb=null;this.Oa=b;this.wl=this.Lh=null}function c(a,b,c,d){this.w=b;this.Wf=c;this.Lb=a;this.ei=d;this.ko={}}function b(a,b){var c=b.split(".").slice(-2,-1)[0].split("_");return{url:b,ei:a,Nu:(5<c.length?parseInt(c[5],10):1)/parseInt(c[0],10),rI:parseInt(c[1],10),tI:parseInt(c[2],10),qI:parseInt(c[3],10),sI:parseInt(c[4],10),getName:function(){return b.substring(b.lastIndexOf("/")+
1)},QD:function(a){var b=this.Nu*this.ei*this.qI,c=this.Nu*this.ei*this.sI,d=this.Nu*this.rI,e=this.Nu*this.tI,f=this.getName();a.qT=!0;a.QP=!0;a.RP=!0;a.OO="high";a.NO=!0;window.ci[f]&&a.I(window.ci[f],0,0,this.rI,this.tI,b,c,d,e)}}}function g(){}e.prototype={clone:function(){var a=new e(this.Yg,this.Oa);a.Ta=JSON.parse(JSON.stringify(this.Ta));a.nb=this.nb.clone();a.wl=this.wl;return a}};c.prototype={OL:function(){this.ko={}},dL:function(a,b){var c=Math.ceil(1*this.w*b/this.ei)|0;this.ko[b]=this.ko[b]||
[];for(var d=this.ko[b],e=0;e<a.length;e++)d[a[e].sI*c+a[e].qI]=a[e]},lO:function(a,b){var c=Math.max(Math.min(30,Math.round(3*b)|0),1),d=c/b,e=Math.ceil(1*this.w*c/this.ei)|0,f;if(!(c in this.ko))return null;var g=[],k={tiles:g,p:this.Lb,z:c,missing:0},u=Math.floor(a[0]*d/this.ei)|0,w=Math.ceil(a[2]*d/this.ei)|0,z=Math.ceil(a[3]*d/this.ei)|0,c=this.ko[c];for(f=Math.floor(a[1]*d/this.ei)|0;f<z;f++)for(d=u;d<w;d++)c[f*e+d]?g.push(c[f*e+d]):k.missing+=1;return k}};d.prototype={create:function(a,b,c,
d,e){this.Lh=b;this.sq=c;this.Lb=a;this.Nq=d;this.fq=e;this.pq=this.bh;this.su=this.zoom;this.$k=this.bh=null;this.Vk=!1},nS:function(a){this.bh=a},run:function(a,b){var c=this;if(c.Vk)return!0;this.zoom=b.m_a;var d=0,e=this.zoom.toFixed(5)===this.su.toFixed(5);if(!c.bh){a.S();a.qT=!0;a.QP=!0;a.RP=!0;a.OO="high";a.NO=!0;a.I(window.ci[this.Lh],0,0,this.sq.width,this.sq.height);a.r();if(this.pq)for(d=0;d<this.pq.length;d++)this.pq[d].QD(a,b,e?"rgba(0, 0, 255, 0.5)":"rgba(255, 0, 0, 0.5)");if(d=this.Nq&&
this.fq){var e=[-b.m_h,-b.m_v,a.canvas.width-b.m_h,a.canvas.height-b.m_v],f=c.fq,g=c.Nq;c.fq=null;c.Nq=null;this.$k=createPromiseCapability();var k=function(){c.Vk||c.$k&&c.$k.resolve()};g(c.Lb,c.zoom,e,960).then(function(a){!c.Vk&&a&&f(a,c,k)})}return!d}if(this.bh&&this.bh.length)for(d=0;d<this.bh.length;d++)this.bh[d].QD(a,b,"rgba(0, 255, 0, 0.5)");return!0},clone:function(){var a=new d;a.Lh=this.Lh;a.sq=this.sq;a.Lb=this.Lb;a.Nq=this.Nq;a.fq=this.fq;a.bh=this.bh;a.pq=this.pq;a.zoom=this.zoom;a.su=
this.su;return a},qq:function(){return this.$k?this.$k.promise:Promise.resolve()},cancel:function(){this.Vk=!0;this.$k&&this.$k.resolve()}};var f=a.o;f.Zq=function(b){this.jf=[];this.Ud={};this.Zd={};this.yu={};this.Kh={};this.ee={};this.Cp={};this.Ca=null;this.vm=this.ue=new a.Ve.qr;this.id=b;this.Oa=this;this.pb=[];this.pA=[];this.hg={};this.J=[];this.page=[];this.Ke=null;this.sj={};this.Sq=createPromiseCapability();this.wz=createPromiseCapability();this.fv=this.ev=!0;this.yP=0;this.PS=1};f.Zq.prototype=
Object.create(f.Ef.prototype);f.Zq.prototype.constructor=f.gh;var k={qd:!0,nj:!0,Qi:!0,gn:!0,Gp:!0};$.extend(f.Zq.prototype,{HO:function(a){return a.eF().then(function(a){return Promise.resolve(!!a.url)})},bM:function(a){return a.SQ()},Qi:function(a){2===this.hg[a]?(delete this.hg[a],this.op(0,a)):this.hg[a]&&delete this.hg[a]},nj:function(a,b){if(!this.J||this.J.length<a)throw Error("Document is not initialized!");var c=this,d=c,e,f=null;c.pA[a]?f=Promise.resolve(c.pA[a]):this.Ti||(f=c.Ke.Pu(a));
f?(e=c.rD(),d.hg[e]=1,f.then(function(f){var g=new Image;c.pA[a]=f;g.onload=function(){URL.revokeObjectURL(f.url);d.hg[e]&&(b(g),delete d.hg[e]);g=g.onload=null};g.src=f.url})):(c=this.Ti,f=c.J[a],e=c.Sg({pageIndex:a,zoom:f.width>f.height?450/f.width:450/f.height,drawComplete:function(a){a.style.backgroundColor="white";d.hg[e]&&(c.ao(e),b(a),delete d.hg[e])},pageCanvas:!0}),d.hg[e]=2);return e},iA:function(){return this.fv&&(a.utils.ie||!this.ev||a.utils.isMobileDevice)},BL:function(){return!a.utils.isMobileDevice},
AW:function(a){for(var b=a.length,c=this.Jg(),d=0;d<b;++d)a[d].wf(c)},QH:function(b){function c(f){k[f]||("function"===typeof b[f]?(a.utils.log("load","Redirected function name "+f),r[f]=g(f)):(a.utils.log("load","Redirected property name "+f),Object.defineProperty(r,f,{get:d(f),set:e(f)})))}function d(a){return function(){return r.Ti[a]}}function e(a){return function(b){r.Ti[a]=b}}function g(a){return function(){return r.Ti[a].apply(r.Ti,arguments)}}if(null===b)return a.utils.log("load","Not switching backends because the server gave us nothing to use"),
!1;var r=this,v=this.iA();a.utils.log("load","Switching backend XOD: "+v);v=v?f.Ef.prototype:f.gh.prototype;r.Ti=b;for(var p in b)(b.hasOwnProperty(p)||v.hasOwnProperty(p))&&c(p);try{localStorage.setItem("isCached",!0)}catch(u){a.utils.log("load","Couldn't add the loaded marker to localStorage")}return!0},OW:function(){return Promise.resolve(a.WebAssembly?a.rP(a.tO()):!0)},vS:function(a){return this.iA()?this.HO(a):a.yE().then(function(a){return Promise.resolve(a.unhealthy)})},oD:function(b,c,d){function e(a,
b){return new Promise(function(c,e){b.bg(a,function(a){a?e(a):c(b)},d)})}var g=c.mN(),k={withCredentials:c.vO(),useDownloader:!0};if(this.iA()){var v=function(c){if(c.flat||!c.url)return Promise.resolve(null);c=new a.o.V.Kj(c.url,k);c.rl(g);var d=new f.Ef(b);return e(c,d)};return d.jF?v(d.jF):this.bM(c).then(v)}if(!this.BL())return Promise.resolve(null);var p=f.Yx().then(function(a){return f.Pt(a,d.workerHandlers?d.workerHandlers:{},d.l)});return Promise.all([c.VG(),p]).then(function(a){a=new f.V.hr(a[0].url,
k);a.rl(g);var b=new f.gh;d.workerTransportPromise=p;d.extension="pdf";return e(a,b)})},aL:function(a){if(0!==a.length){for(var b=0;b<a.length;++b)for(var c=a[b],d=Math.min(this.J.length,c.i-1),e=c.i+c.n-2;e>=d;--e){var f=this.wv(c);this.J[e]=f}this.iq=this.np();this.Yi({type:"pagesUpdated",data:this.J.slice()})}},VK:function(a){function b(a){var c=[];a.children.forEach(function(a){c.push(b(a))});return new f.Te(c,a.name,a.pageNumber,a.parent,a.verticalOffset,a.horizontalOffset,a.url)}for(var c=0;c<
a.length;++c)this.jf.push(b(a[c]))},bg:function(b,c,d){var e=this,f=d.annotsLoadedCallback,g=!1;e.Ke=e.cb=b;var k=e.Ke;d.annotsLoadedCallback=null;e.J=[];e.Oa=e;var p;a.utils.log("load","Request Document");e.Ke.JR(function(){e.cP()},null);e.Ke.yE().then(function(u){e.ev&=u.hasPDF;e.fv&=u.hasXOD;"tileScale"in u&&(e.PS=u.tileScale);e.Ke.ml(d.extension).then(function(u){function z(){f&&C.then(function(a){g||(g=!0,f(a))},function(a){console.error("Error loading annotations: "+a);g||(g=!0,f(void 0))})}
a.utils.log("load","Document response received.");u&&("pages"in u&&e.aL(u.pages),"bookmarks"in u&&(e.jf=[],e.VK(u.bookmarks)));var C=f?k.dN():Promise.resolve();e.vS(b).then(function(f){a.utils.log("load","Should we use client side rendering? "+f);f?("object"===typeof f&&(d.jF=f),e.oD(e.id,b,d).then(function(a){e.QH(a);p=c();e.wz.resolve(p);z()})):(d.annotsLoadedCallback=null,p=c(),e.wz.resolve(p),e.ev||e.fv?(a.utils.log("load","Load client side document"),e.Sq.resolve(!0),e.Sq.promise.then(function(){e.oD(e.id,
b,d).then(function(a){var b=e.J[0].height;if(e.QH(a)){a=p.Jg();for(var c=0;c<e.J.length;c++)e.J[c].wf(a);for(var d=!1,f=(e.J[0].height|0)===(b|0),g=b/e.J[0].height,h=a.N.Fd(),c=0;c<h.length;c++)!f&&a.N.LN(h[c].Ra-1)&&(d=!0,a.N.av(h[c].Ra-1,h[c].zoom*g),a.bj(h[c].Ra-1)),(b=a.Da.Jc(h[c].id))&&b.pd&&(b.pd=null);f||a.N.di(a.N.Vf*g);d||f||(a.Yh(),a.da.ig());a.trigger("backendSwitch")}z()})})):z(),e.ec=new Promise(function(a){e.bind("documentComplete",function(){e.unbind("documentComplete");a()})}))})},
function(a){c(a)})},function(a){c(a)})},Hd:function(a,b){a in this.pb&&this.pb[a].text?b(this.pb[a].text):this.xy(a,b)},Bh:function(a){return a},ky:function(f,g,k){if(f in this.J){var n=this;n.yP=f;this.pb[f]=this.pb[f]||new e(f,this);var q=this.pb[f],r=null,v=null;q.nb?r=Promise.resolve(q):(a.utils.log("load","blackbox(pgi: "+f+") request image"),r=(0!==f?n.Sq.promise.then(function(){return n.Ke.Pu(f)}):n.Ke.Pu(f)).then(function(a){q.wl=new c(f,n.J[f].width,n.J[f].height,960);n.J[f].Lh=a.name;q.nb=
new d;q.Ta[n.J[f].Lh]={data:a.url,type:"jpg",name:n.J[f].Lh};return q},function(b){v=b;a.utils.log("load","blackbox(pgi "+f+") error requesting image: "+b);q.Ta.img_error={data:"",type:"jpg",name:"img_error"};q.nb=new d;q.nb.create(f,"img_error",n.J[f],null,null);return q}));var p=function(a,c,d,e){var f=q.wl.lO(d,c);return f&&0===f.missing?Promise.resolve(f):n.Ke?n.Ke.RQ(a,c,d,e).then(function(a){for(var c=a.tiles,d=0;d<c.length;d++)c[d]=b(a.size,c[d]);return Promise.resolve(a)}):Promise.resolve(null)};
r.then(function(b){a.utils.log("load","blackbox(pg "+f+") has image URL");var c=null;b.nb.create(f,n.J[f].Lh,n.J[f],p,function(d,e,f){if(g in n.Ud&&!b.nb.Vk){var h,k,m=d.tiles,p=n.Ud[g].oj,q=!("missing"in d),r=[],v=0;for(;v<m.length;v++)k=m[v],h=k.getName(),c.Ta[h]||(k={data:k.url,type:"jpg",name:h},r.push(k),c.Ta[h]=k);q&&b.wl.dL(m,d.z);b.Ta=JSON.parse(JSON.stringify(c.Ta));e.nS(m);b.nb=e.clone();p.RF(function(){n.Sq.resolve();f()},r,!0);q&&a.utils.log("load","Server took "+d.runTime+"ms to generate "+
m.length+" tiles")}});c=b.clone();n.sj[g]=c.nb;a.utils.log("load","blackbox(pg "+f+") calling resource load callback");k(v,c)},function(a){console.warn("Error creating resources for page: "+a);k(a)})}else k(Error("The page "+(f+1)+" does not exist."))},xy:function(a,b){var c=this;if(a in this.J){this.pb[a]=this.pb[a]||new e(a,this);var d=this.pb[a],f=null,f=d.text?Promise.resolve(d):c.Ke.QQ(a).then(function(b){var e=new XODText.Ye;e.Bu({Wa:b.struct,Qa:b.str,Vb:b.offsets,Ba:b.quads,gc:!0});c.J[a].text=
e;c.Ps(a,e);d.text=e;return d},function(b){console.warn("Error retrieving text for page: "+b);b=new XODText.Ye;b.Bu({Wa:[],Qa:"",Vb:[],Ba:[],gc:!0});c.J[a].text=b;d.text=b;return d});f.then(function(a){b(a.text)})}else b(Error("The page "+(a+1)+" does not exist."))},op:function(a,b){b in this.sj&&(this.Sq.resolve(),this.sj[b].cancel(),delete this.sj[b])},MU:function(){for(var a=_.keys(this.sj),b=0;b<a.length;b++)this.op(0,a[b])},cP:function(){this.pb&&_.each(this.pb,function(a){a.wl&&a.wl.OL()})},
vn:function(){return!1},Sk:g,Zn:g,jj:function(){return!1},Gk:function(){return null},Cm:g,dn:function(){return!1},Un:g,lA:g,bn:function(){return[]},Gb:function(){return this.J.length},Yc:function(a){var b={};b.width=this.J[a].width;b.height=this.J[a].height;return b},Ri:function(a){a in this.Ud&&this.Ud[a]&&delete this.Ud[a];a in this.sj&&delete this.sj[a]},qd:function(){f.Ef.prototype.qd.call(this);this.pb=[];this.hg={};this.sj={};this.Oa=null;this.Ti&&this.Ti.qd()},Gr:function(){},wv:function(b){var c=
new a.Do(b.w,b.h),d=b.mtx;c.rb=new XODText.Ea;c.rb.Pa(d[0],d[1],d[2],d[3],d[4],d[5]);var e=this.Bm(c.rb);c.rb=this.US(d,{w:b.w,Wf:b.h});c.rotation=e;return c},US:function(a,b){var c=new XODText.Ea;c.Pa(a[0],a[1],a[2],a[3],a[4],a[5]);var d=this.Hs(c,b);c.Pa(1,0,0,-1,-d.x1,d.y2);return c},Ik:function(){return Promise.resolve(this.jf)},getFileData:function(){return this.Ke.getFileData()},gn:function(){return this.DE({print:!0})},Gp:function(){return this.DE({}).then(function(a){var b=a.url.lastIndexOf(".pdf");
a.url=a.url.substring(0,0<b?b:a.url.length)+"?attach=pdf";return Promise.resolve(a)})},DE:function(a){var b=this;return this.wz.promise.then(function(c){var d=c.Jg();return d.bF().then(function(e){var f=createPromiseCapability(),g=createPromiseCapability();if(e){e=c.Yc(0);var k=document.createElement("canvas");k.width=e.width;k.height=e.height;var u=k.getContext("2d");u.rect(0,0,e.width,e.height);u.fillStyle="rgba(255, 255, 255, 0.0);";u.fill();b.Fx(k,0);k.HW(function(a){f.resolve(a)})}else f.resolve(null);
g.resolve(d.Pb().cE());return Promise.all([g.promise,f.promise]).then(function(c){var d=JSON.parse(JSON.stringify(a||{}));d.annots=c[0];d.watermark=c[1];return b.Ke.GN(d)})})})},ij:function(){return!1},SE:function(a){return this.J[a].links},Aj:function(){return!0}})})(window);}).call(window);
