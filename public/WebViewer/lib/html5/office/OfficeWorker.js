(function(a){function q(c,a){return fetch(c).then(function(c){console.log("Pos 1");if(200!==c.status)throw Error("Response failed with code "+c.status);console.log("Pos 2");console.log(c);console.log("Pos 2a");var d=!1,b=new ReadableStream({start:function(b){function k(){if(!d)return console.log("Pos 4"),e.read().then(function(k){d=k.done;k=k.value;d?(console.log("Done"),(k=a.End())?b.enqueue(k):b.close()):(k=a.GetNextChunk(k),console.log("Enqueue"),k&&b.enqueue(k))}).then(k)}console.log("Pos 3");
var B=c.body;console.log("Pos 3z"+B);var e=B.getReader();k()}});console.log("Pos 2b");return new Response(b,{headers:{"content-type":"application/wasm"}})})}var f=function(c){if("string"===typeof c){for(var a=new Uint8Array(c.length),l=c.length,d=0;d<l;d++)a[d]=c.charCodeAt(d);return a}return c},d=function(c){if("string"!==typeof c){for(var a="",l=0,d=c.length,b;l<d;)b=c.subarray(l,l+1024),l+=1024,a+=String.fromCharCode.apply(null,b);return a}return c},b=!1,e=function(c,v){b||(importScripts(a.basePath+
"external/decode.min.js"),b=!0);var l=self.BrotliDecode(f(c));return v?l:d(l)},g=function(){this.remainingDataArrays=[]};g.prototype={processRaw:function(c){return c},processBrotli:function(c){this.remainingDataArrays.push(c);return null},GetNextChunk:function(c){this.decodeFunction||(this.decodeFunction=0===c[0]&&97===c[1]&&115===c[2]&&109===c[3]?this.processRaw:this.processBrotli);return this.decodeFunction(c)},End:function(){if(this.remainingDataArrays.length){for(var c=this.arrays,a=0,d=0;d<c.length;++d)a+=
c[d].length;for(var a=new Uint8Array(a),b=0,d=0;d<c.length;++d){var h=c[d];a.set(h,b);b+=h.length}return e(a,!0)}return null}};var n=!1,m=function(c,b){n||(importScripts(a.basePath+"external/rawinflate.js",a.basePath+"external/pako_inflate.min.js"),n=!0);var l=10;if("string"===typeof c){if(c.charCodeAt(3)&8){for(;0!==c.charCodeAt(l);++l);++l}}else if(c[3]&8){for(;0!==c[l];++l);++l}if(b)return c=f(c),c=c.subarray(l,c.length-8),a.pako.inflate(c,{windowBits:-15});c=d(c);c=c.substring(l,c.length-8);return a.RawDeflate.inflate(c)},
r=function(c,a){return a?c:d(c)},h=function(c){var a=!c.shouldOutputArray,b=new XMLHttpRequest;b.open("GET",c.url,c.isAsync);var e=a&&b.overrideMimeType;b.responseType=e?"text":"arraybuffer";e&&b.overrideMimeType("text/plain; charset=x-user-defined");b.send();var h=function(){Date.now();var k;k=e?b.responseText:new Uint8Array(b.response);k.length<c.compressedMaximum?(k=c.decompressFunction(k,c.shouldOutputArray),console.warn("Your server has not been configured to serve .gz and .br files with the expected Content-Encoding. See http://www.pdftron.com/kb_content_encoding for instructions on how to resolve this.")):
a&&(k=d(k));return k},g;if(c.isAsync)g=new Promise(function(k,a){b.onload=function(){200===this.status?k(h()):a("Download Failed "+c.url)};b.onerror=function(){a("Network error occurred "+c.url)}});else{if(200===b.status)return h();throw Error("Failed to load "+c.url);}return g},z=function(c){return c.replace(".",".br.")},p=function(c,a){a.url=c.replace(".",".gz.");a.decompressFunction=m;return h(a)},t=function(c,a){a.url=z(c);a.decompressFunction=e;return h(a)},u=function(c,a){a.url=c;a.decompressFunction=
r;return h(a)},x=function(c,a,b,d){return c["catch"](function(c){console.warn(c);return d(a,b)})},y=function(c,a,b){var d;if(b.isAsync){var e=a[0](c,b);for(d=1;d<a.length;++d)e=x(e,c,b,a[d]);return e}for(d=0;d<a.length;++d)try{return a[d](c,b)}catch(h){console.warn(h.message)}};a.getBrotliUrl=z;a.loadURLWithBrotliPriority=function(a,d,b,e){var h={};h.compressedMaximum=d;h.isAsync=b;h.shouldOutputArray=e;return y(a,[t,p,u],h)};a.loadURLWithGzipPriority=function(a,d,b,e){var h={};h.compressedMaximum=
d;h.isAsync=b;h.shouldOutputArray=e;return y(a,[p,t,u],h)};a.loadWasmBrotliStream=function(a){return q(a,new g)}})("undefined"===typeof window?this:window);(function(a){var q=a._trnDebugMode||a._trnLogMode,f=a._logFiltersEnabled?a._logFiltersEnabled:{};a.utils=a.utils?a.utils:{};a.utils.warn=function(a,b){b||(b=a,a="default");q&&f[a]&&console.warn(a+": "+b)};a.utils.log=function(a,b){b||(b=a,a="default");q&&f[a]&&console.log(a+": "+b)};a.utils.error=function(a){q&&console.error(a);throw Error(a);};a.info=function(a,b){};a.warn=function(d,b){a.utils.warn(d,b)};a.error=function(d){a.utils.error(d)}})("undefined"===typeof window?this:window);(function(a){function q(a){return new Promise(function(b,e){var g=indexedDB.open("wasm-cache",a);g.onerror=e.bind(null,"Error opening wasm cache database");g.onsuccess=function(){b(g.result)};g.onupgradeneeded=function(a){var b=g.result;b.objectStoreNames.contains("wasm-cache")&&(console.log("Clearing out version "+a.oldVersion+" wasm cache"),b.deleteObjectStore("wasm-cache"));console.log("Creating version "+a.newVersion+" wasm cache");b.createObjectStore("wasm-cache")}})}function f(a,b){return new Promise(function(e,
g){var f=a.transaction(["wasm-cache"]).objectStore("wasm-cache").get(b);f.onsuccess=function(a){f.result?e(f.result):g("Module "+b+" was not found in wasm cache")};f.onerror=g.bind(null,"Error getting wasm module "+b)})}a.isWasmCached=function(a,b){return q(a).then(function(a){return f(a,b).then(function(){return!0})})["catch"](function(){return!1})};a.instantiateCachedURL=function(d,b,e,g){function n(a,d){var e=a.transaction(["wasm-cache"],"readwrite").objectStore("wasm-cache").put(d,b);e.onerror=
function(a){console.log("Failed to store in wasm cache: "+a)};e.onsuccess=function(a){console.log("Successfully stored "+b+" in wasm cache")}}function m(d){r=r||Date.now();return d?WebAssembly.instantiateStreaming(fetch(a.getBrotliUrl(b)),e)["catch"](function(a){return m(!1)}):a.loadURLWithBrotliPriority(b,g,!0,!0).then(function(a){Date.now();return WebAssembly.instantiate(a,e)})}var r;return q(d).then(function(a){return f(a,b).then(function(a){return WebAssembly.instantiate(a,e)},function(b){return m(!!WebAssembly.instantiateStreaming).then(function(b){try{n(a,
b.module)}catch(d){}return b.instance})})},function(a){console.log(a);return m().then(function(a){return a.instance})})}})(this);(function(a){a.Uint8ClampedArray||(a.Uint8ClampedArray=a.Uint8Array);var q=!(!self.WebAssembly||!self.WebAssembly.validate),f=/^((?!chrome|android).)*safari/i.test(a.navigator.userAgent),d=-1<a.navigator.userAgent.indexOf("Edge/16"),b=function(a){var b=this;this.promise=a.then(function(a){b.response=a;b.status=200})};b.prototype={addEventListener:function(a,b){this.promise.then(b)}};a.loadCompiledBackend=function(e,g,n){if(!q||n||d||f){n=loadURLWithGzipPriority((Module.asmjsPrefix?Module.asmjsPrefix:
"")+e+".js.mem",g[".js.mem"],!1);var m=loadURLWithGzipPriority((Module.memoryInitializerPrefixURL?Module.memoryInitializerPrefixURL:"")+e+".mem",g[".mem"],!0,!0);Module.memoryInitializerRequest=new b(m)}else Module.instantiateWasm=function(b,d){return self.instantiateCachedURL(a.getWasmVersion(e),e+"Wasm.wasm",b,g["Wasm.wasm"]).then(function(a){d(a)})},n=loadURLWithBrotliPriority(e+"Wasm.js.mem",g["Wasm.js.mem"],!1,!1);eval.call(self,n)}})("undefined"===typeof window?this:window);(function(a){function q(){for(var a=0;a<w.length;a++)w[a][0](w[a][1]);w=[];A=!1}function f(a,b){w.push([a,b]);A||(A=!0,C(q,0))}function d(a,b){function c(a){g(b,a)}function d(a){m(b,a)}try{a(c,d)}catch(e){d(e)}}function b(a){var b=a.owner,d=b.state_,b=b.data_,h=a[d];a=a.then;if("function"===typeof h){d=c;try{b=h(b)}catch(f){m(a,f)}}e(a,b)||(d===c&&g(a,b),d===v&&m(a,b))}function e(a,b){var c;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(b&&("function"===
typeof b||"object"===typeof b)){var d=b.then;if("function"===typeof d)return d.call(b,function(d){c||(c=!0,b!==d?g(a,d):n(a,d))},function(b){c||(c=!0,m(a,b))}),!0}}catch(e){return c||m(a,e),!0}return!1}function g(a,b){a!==b&&e(a,b)||n(a,b)}function n(a,b){a.state_===x&&(a.state_=y,a.data_=b,f(h,a))}function m(a,b){a.state_===x&&(a.state_=y,a.data_=b,f(z,a))}function r(a){var c=a.then_;a.then_=void 0;for(a=0;a<c.length;a++)b(c[a])}function h(a){a.state_=c;r(a)}function z(a){a.state_=v;r(a)}function p(a){if("function"!==
typeof a)throw new TypeError("Promise constructor takes a function argument");if(!1===this instanceof p)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];d(a,this)}a.createPromiseCapability=function(){var a={},b=new p(function(b,c){a.resolve=b;a.reject=c});a.promise=b;return a};var t=a.Promise,u=t&&"resolve"in t&&"reject"in t&&"all"in t&&"race"in t&&function(){var a;new t(function(b){a=b});return"function"===
typeof a}();"undefined"!==typeof exports&&exports?(exports.Promise=u?t:p,exports.Polyfill=p):"function"==typeof define&&define.amd?define(function(){return u?t:p}):u||(a.Promise=p);var x="pending",y="sealed",c="fulfilled",v="rejected",l=function(){},C="undefined"!==typeof setImmediate?setImmediate:setTimeout,w=[],A;p.prototype={constructor:p,state_:x,then_:null,data_:void 0,then:function(a,d){var e={owner:this,then:new this.constructor(l),fulfilled:a,rejected:d};this.state_===c||this.state_===v?f(b,
e):this.then_.push(e);return e.then},"catch":function(a){return this.then(null,a)}};p.all=function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("You must pass an array to Promise.all().");return new this(function(b,c){function d(a){h++;return function(c){e[a]=c;--h||b(e)}}for(var e=[],h=0,f=0,g;f<a.length;f++)(g=a[f])&&"function"===typeof g.then?g.then(d(f),c):e[f]=g;h||b(e)})};p.race=function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("You must pass an array to Promise.race().");
return new this(function(b,c){for(var d=0,e;d<a.length;d++)(e=a[d])&&"function"===typeof e.then?e.then(b,c):b(e)})};p.resolve=function(a){return a&&"object"===typeof a&&a.constructor===this?a:new this(function(b){b(a)})};p.reject=function(a){return new this(function(b,c){c(a)})}})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);(function(a){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,f){void 0===a&&(a=0);void 0===f&&(f=this.byteLength);a=Math.floor(a);f=Math.floor(f);0>a&&(a+=this.byteLength);0>f&&(f+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);f=Math.min(Math.max(0,f),this.byteLength);if(0>=f-a)return new ArrayBuffer(0);var d=new ArrayBuffer(f-a),b=new Uint8Array(d),e=new Uint8Array(this,a,f-a);b.set(e);return d})})(this);var tikTokStart=null;
(function(a){function q(a){a=d(a);g(a.msg)}function f(){r=function(){}}function d(a){var b=[];return{resource_array:b,msg:JSON.stringify(a.data,function(a,d){if("object"===typeof d){var e=null;d instanceof Uint8Array?e=d:d instanceof ArrayBuffer&&(e=new Uint8Array(d));if(e){var f=n(e.length),h=m(f);h&&(new Uint8Array(Module.HEAPU8.buffer,h,e.length)).set(e);b.push(f);return{__trn_res_id:f}}}return d})}}a.basePath="../";var b=a.officeWorkerPath||"";a.workerBasePath&&(a.basePath=a.workerBasePath);importScripts(a.basePath+
"external/Promise.js");var e=[];onmessage=function(a){e||(e=[]);e.push(a)};a.ContinueFunc=function(a){r("ContinueFunc called");setTimeout(function(){onmessage({data:{action:"continue"}})},a)};a.Module={onRuntimeInitialized:function(){console.log("on ready");r||f();var b=Date.now()-tikTokStart;a.utils.log("load","time duration from start to ready: "+JSON.stringify(b));g=Module.cwrap("TRN_OnMessage",null,["string"]);n=Module.cwrap("TRN_CreateBufferResource","number",["number"]);m=Module.cwrap("TRN_GetResourcePointer",
"number",["number"]);r("OnReady called");onmessage=q;Module._TRN_InitWorker();for(b=0;b<e.length;++b)onmessage(e[b]);e=null},fetchSelf:function(){tikTokStart=Date.now();a.loadCompiledBackend(b+"WebOfficeWorker",{"Wasm.wasm":5E6,"Wasm.js.mem":1E5,".js.mem":5E6,".mem":3E6},!0);console.log("end of fetch self")},noExitRuntime:!0};var g,n,m,r;a.Module.fetchSelf()})("undefined"===typeof window?this:window);
